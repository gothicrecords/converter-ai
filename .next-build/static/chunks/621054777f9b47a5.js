(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94182,(e,t,r)=>{t.exports=e.r(61457)},31430,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReadonlyURLSearchParams",{enumerable:!0,get:function(){return i}});class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},63933,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ServerInsertedHTMLContext:function(){return s},useServerInsertedHTML:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(52456)._(e.r(91788)),s=a.default.createContext(null);function o(e){let t=(0,a.useContext)(s);t&&t(e)}},12098,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={UnrecognizedActionError:function(){return a},unstable_isUnrecognizedActionError:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});class a extends Error{constructor(...e){super(...e),this.name="UnrecognizedActionError"}}function s(e){return!!(e&&"object"==typeof e&&e instanceof a)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},56781,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={bindSnapshot:function(){return u},createAsyncLocalStorage:function(){return l},createSnapshot:function(){return c}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class s{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let o="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function l(){return o?new o:new s}function u(e){return o?o.bind(e):s.bind(e)}function c(){return o?o.snapshot():function(e,...t){return e(...t)}}},77292,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"actionAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,e.r(56781).createAsyncLocalStorage)()},30324,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"actionAsyncStorage",{enumerable:!0,get:function(){return n.actionAsyncStorageInstance}});let n=e.r(77292)},53656,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return h},getURLFromRedirectError:function(){return d},permanentRedirect:function(){return c},redirect:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(40184),s=e.r(1939),o="undefined"==typeof window?e.r(30324).actionAsyncStorage:void 0;function l(e,t,r=a.RedirectStatusCode.TemporaryRedirect){let n=Object.defineProperty(Error(s.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n.digest=`${s.REDIRECT_ERROR_CODE};${t};${e};${r};`,n}function u(e,t){throw l(e,t??=o?.getStore()?.isAction?s.RedirectType.push:s.RedirectType.replace,a.RedirectStatusCode.TemporaryRedirect)}function c(e,t=s.RedirectType.replace){throw l(e,t,a.RedirectStatusCode.PermanentRedirect)}function d(e){return(0,s.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function h(e){if(!(0,s.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function p(e){if(!(0,s.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},32075,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"notFound",{enumerable:!0,get:function(){return a}});let n=e.r(91622),i=`${n.HTTP_ERROR_FALLBACK_ERROR_CODE};404`;function a(){let e=Object.defineProperty(Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=i,e}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},69790,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"forbidden",{enumerable:!0,get:function(){return n}}),e.r(91622).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},4047,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unauthorized",{enumerable:!0,get:function(){return n}}),e.r(91622).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},96132,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,i.isNextRouterError)(t)||(0,n.isBailoutToCSRError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=e.r(14760),i=e.r(68934);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},24616,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isHangingPromiseRejectionError:function(){return a},makeDevtoolsIOAwarePromise:function(){return d},makeHangingPromise:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===s}let s="HANGING_PROMISE_REJECTION";class o extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=s}}let l=new WeakMap;function u(e,t,r){if(e.aborted)return Promise.reject(new o(t,r));{let n=new Promise((n,i)=>{let a=i.bind(null,new o(t,r)),s=l.get(e);if(s)s.push(a);else{let t=[a];l.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(c),n}}function c(){}function d(e,t,r){return t.stagedRendering?t.stagedRendering.delayUntilStage(r,void 0,e):new Promise(t=>{setTimeout(()=>{t(e)},0)})}},77989,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isPostpone",{enumerable:!0,get:function(){return i}});let n=Symbol.for("react.postpone");function i(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}},93733,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DynamicServerError:function(){return s},isDynamicServerError:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a="DYNAMIC_SERVER_USAGE";class s extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest=a}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===a}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},84755,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={StaticGenBailoutError:function(){return s},isStaticGenBailoutError:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a="NEXT_STATIC_GEN_BAILOUT";class s extends Error{constructor(...e){super(...e),this.code=a}}function o(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===a}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},61318,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workUnitAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,e.r(56781).createAsyncLocalStorage)()},86357,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ACTION_HEADER:function(){return s},FLIGHT_HEADERS:function(){return f},NEXT_ACTION_NOT_FOUND_HEADER:function(){return w},NEXT_DID_POSTPONE_HEADER:function(){return y},NEXT_HMR_REFRESH_HASH_COOKIE:function(){return d},NEXT_HMR_REFRESH_HEADER:function(){return c},NEXT_HTML_REQUEST_ID_HEADER:function(){return j},NEXT_IS_PRERENDER_HEADER:function(){return v},NEXT_REQUEST_ID_HEADER:function(){return E},NEXT_REWRITTEN_PATH_HEADER:function(){return b},NEXT_REWRITTEN_QUERY_HEADER:function(){return x},NEXT_ROUTER_PREFETCH_HEADER:function(){return l},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return u},NEXT_ROUTER_STALE_TIME_HEADER:function(){return m},NEXT_ROUTER_STATE_TREE_HEADER:function(){return o},NEXT_RSC_UNION_QUERY:function(){return g},NEXT_URL:function(){return h},RSC_CONTENT_TYPE_HEADER:function(){return p},RSC_HEADER:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a="rsc",s="next-action",o="next-router-state-tree",l="next-router-prefetch",u="next-router-segment-prefetch",c="next-hmr-refresh",d="__next_hmr_refresh_hash__",h="next-url",p="text/x-component",f=[a,o,l,c,u],g="_rsc",m="x-nextjs-stale-time",y="x-nextjs-postponed",b="x-nextjs-rewritten-path",x="x-nextjs-rewritten-query",v="x-nextjs-prerender",w="x-nextjs-action-not-found",E="x-nextjs-request-id",j="x-nextjs-html-request-id";("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},19202,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getCacheSignal:function(){return m},getDraftModeProviderForCacheScope:function(){return g},getHmrRefreshHash:function(){return h},getPrerenderResumeDataCache:function(){return c},getRenderResumeDataCache:function(){return d},getRuntimeStagePromise:function(){return y},getServerComponentsHmrCache:function(){return f},isHmrRefresh:function(){return p},throwForMissingRequestStore:function(){return l},throwInvariantForMissingStore:function(){return u},workUnitAsyncStorage:function(){return a.workUnitAsyncStorageInstance}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(61318),s=e.r(86357),o=e.r(7117);function l(e){throw Object.defineProperty(Error(`\`${e}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}function u(){throw Object.defineProperty(new o.InvariantError("Expected workUnitAsyncStorage to have a store."),"__NEXT_ERROR_CODE",{value:"E696",enumerable:!1,configurable:!0})}function c(e){switch(e.type){case"prerender":case"prerender-runtime":case"prerender-ppr":case"prerender-client":return e.prerenderResumeDataCache;case"request":if(e.prerenderResumeDataCache)return e.prerenderResumeDataCache;case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":return null;default:return e}}function d(e){switch(e.type){case"request":case"prerender":case"prerender-runtime":case"prerender-client":if(e.renderResumeDataCache)return e.renderResumeDataCache;case"prerender-ppr":return e.prerenderResumeDataCache??null;case"cache":case"private-cache":case"unstable-cache":case"prerender-legacy":return null;default:return e}}function h(e,t){if(e.dev)switch(t.type){case"cache":case"private-cache":case"prerender":case"prerender-runtime":return t.hmrRefreshHash;case"request":var r;return null==(r=t.cookies.get(s.NEXT_HMR_REFRESH_HASH_COOKIE))?void 0:r.value}}function p(e,t){if(e.dev)switch(t.type){case"cache":case"private-cache":case"request":return t.isHmrRefresh??!1}return!1}function f(e,t){if(e.dev)switch(t.type){case"cache":case"private-cache":case"request":return t.serverComponentsHmrCache}}function g(e,t){if(e.isDraftMode)switch(t.type){case"cache":case"private-cache":case"unstable-cache":case"prerender-runtime":case"request":return t.draftMode}}function m(e){switch(e.type){case"prerender":case"prerender-client":case"prerender-runtime":return e.cacheSignal;case"request":if(e.cacheSignal)return e.cacheSignal;case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":return null;default:return e}}function y(e){switch(e.type){case"prerender-runtime":case"private-cache":return e.runtimeStagePromise;case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"unstable-cache":return null;default:return e}}},72536,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,e.r(56781).createAsyncLocalStorage)()},98401,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=e.r(72536)},35361,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={METADATA_BOUNDARY_NAME:function(){return a},OUTLET_BOUNDARY_NAME:function(){return o},ROOT_LAYOUT_BOUNDARY_NAME:function(){return l},VIEWPORT_BOUNDARY_NAME:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a="__next_metadata_boundary__",s="__next_viewport_boundary__",o="__next_outlet_boundary__",l="__next_root_layout_boundary__"},58155,(e,t,r)=>{"use strict";var n=e.i(50461);Object.defineProperty(r,"__esModule",{value:!0});var i={atLeastOneTask:function(){return l},scheduleImmediate:function(){return o},scheduleOnNextTick:function(){return s},waitAtLeastOneReactRenderTask:function(){return u}};for(var a in i)Object.defineProperty(r,a,{enumerable:!0,get:i[a]});let s=e=>{Promise.resolve().then(()=>{n.default.nextTick(e)})},o=e=>{setImmediate(e)};function l(){return new Promise(e=>o(e))}function u(){return new Promise(e=>setImmediate(e))}},69123,(e,t,r)=>{"use strict";function n(){let e,t,r=new Promise((r,n)=>{e=r,t=n});return{resolve:e,reject:t,promise:r}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createPromiseWithResolvers",{enumerable:!0,get:function(){return n}})},42008,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i={RenderStage:function(){return l},StagedRenderingController:function(){return u}};for(var a in i)Object.defineProperty(r,a,{enumerable:!0,get:i[a]});let s=e.r(7117),o=e.r(69123);var l=((n={})[n.Static=1]="Static",n[n.Runtime=2]="Runtime",n[n.Dynamic=3]="Dynamic",n);class u{constructor(e=null){this.abortSignal=e,this.currentStage=1,this.runtimeStagePromise=(0,o.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,o.createPromiseWithResolvers)(),e&&e.addEventListener("abort",()=>{let{reason:t}=e;this.currentStage<2&&(this.runtimeStagePromise.promise.catch(c),this.runtimeStagePromise.reject(t)),this.currentStage<3&&(this.dynamicStagePromise.promise.catch(c),this.dynamicStagePromise.reject(t))},{once:!0})}advanceStage(e){!(this.currentStage>=e)&&(this.currentStage=e,e>=2&&this.runtimeStagePromise.resolve(),e>=3&&this.dynamicStagePromise.resolve())}getStagePromise(e){switch(e){case 2:return this.runtimeStagePromise.promise;case 3:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new s.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(e){return this.getStagePromise(e)}delayUntilStage(e,t,r){var n,i,a;let s,o=(n=this.getStagePromise(e),i=t,a=r,s=new Promise((e,t)=>{n.then(e.bind(null,a),t)}),void 0!==i&&(s.displayName=i),s);return this.abortSignal&&o.catch(c),o}}function c(){}},74571,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i,a={Postpone:function(){return P},PreludeState:function(){return Y},abortAndThrowOnSynchronousRequestDataAccess:function(){return C},abortOnSynchronousPlatformIOAccess:function(){return R},accessedDynamicData:function(){return z},annotateDynamicAccess:function(){return B},consumeDynamicAccess:function(){return L},createDynamicTrackingState:function(){return x},createDynamicValidationState:function(){return v},createHangingInputAbortSignal:function(){return F},createRenderInBrowserAbortSignal:function(){return H},delayUntilRuntimeStage:function(){return ee},formatDynamicAPIAccesses:function(){return N},getFirstDynamicReason:function(){return w},isDynamicPostpone:function(){return A},isPrerenderInterruptedError:function(){return M},logDisallowedDynamicError:function(){return J},markCurrentScopeAsDynamic:function(){return E},postponeWithTracking:function(){return T},throwIfDisallowedDynamic:function(){return Z},throwToInterruptStaticGeneration:function(){return j},trackAllowedDynamicAccess:function(){return V},trackDynamicDataInDynamicRender:function(){return _},trackSynchronousPlatformIOAccessInDev:function(){return O},useDynamicRouteParams:function(){return U},useDynamicSearchParams:function(){return $}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let o=(n=e.r(91788))&&n.__esModule?n:{default:n},l=e.r(93733),u=e.r(84755),c=e.r(19202),d=e.r(98401),h=e.r(24616),p=e.r(35361),f=e.r(58155),g=e.r(14760),m=e.r(7117),y=e.r(42008),b="function"==typeof o.default.unstable_postpone;function x(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function v(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function w(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function E(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new u.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":return T(e.route,r,t.dynamicTracking);case"prerender-legacy":t.revalidate=0;let n=Object.defineProperty(new l.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}function j(e,t,r){let n=Object.defineProperty(new l.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function _(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function S(e,t,r){let n=q(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(n);let i=r.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function R(e,t,r,n){let i=n.dynamicTracking;S(e,t,n),i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}function O(e){e.stagedRendering&&e.stagedRendering.advanceStage(y.RenderStage.Dynamic)}function C(e,t,r,n){if(!1===n.controller.signal.aborted){S(e,t,n);let i=n.dynamicTracking;i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}throw q(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function P({reason:e,route:t}){let r=c.workUnitAsyncStorage.getStore();T(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function T(e,t,r){(function(){if(!b)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),o.default.unstable_postpone(D(e,t))}function D(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function A(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&k(e.message)}function k(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===k(D("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let I="NEXT_PRERENDER_INTERRUPTED";function q(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=I,t}function M(e){return"object"==typeof e&&null!==e&&e.digest===I&&"name"in e&&"message"in e&&e instanceof Error}function z(e){return e.length>0}function L(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function N(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function H(){let e=new AbortController;return e.abort(Object.defineProperty(new g.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),e.signal}function F(e){switch(e.type){case"prerender":case"prerender-runtime":let t=new AbortController;if(e.cacheSignal)e.cacheSignal.inputReady().then(()=>{t.abort()});else{let r=(0,c.getRuntimeStagePromise)(e);r?r.then(()=>(0,f.scheduleOnNextTick)(()=>t.abort())):(0,f.scheduleOnNextTick)(()=>t.abort())}return t.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function B(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function U(e){let t=d.workAsyncStorage.getStore(),r=c.workUnitAsyncStorage.getStore();if(t&&r)switch(r.type){case"prerender-client":case"prerender":{let n=r.fallbackRouteParams;n&&n.size>0&&o.default.use((0,h.makeHangingPromise)(r.renderSignal,t.route,e));break}case"prerender-ppr":{let n=r.fallbackRouteParams;if(n&&n.size>0)return T(t.route,e,r.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called during a runtime prerender. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function $(e){let t=d.workAsyncStorage.getStore(),r=c.workUnitAsyncStorage.getStore();if(t)switch(!r&&(0,c.throwForMissingRequestStore)(e),r.type){case"prerender-client":o.default.use((0,h.makeHangingPromise)(r.renderSignal,t.route,e));break;case"prerender-legacy":case"prerender-ppr":if(t.forceStatic)return;throw Object.defineProperty(new g.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called from a Server Component. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let Q=/\n\s+at Suspense \(<anonymous>\)/,X=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${p.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),W=RegExp(`\\n\\s+at ${p.METADATA_BOUNDARY_NAME}[\\n\\s]`),G=RegExp(`\\n\\s+at ${p.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),K=RegExp(`\\n\\s+at ${p.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function V(e,t,r,n){if(!K.test(t)){if(W.test(t)){r.hasDynamicMetadata=!0;return}if(G.test(t)){r.hasDynamicViewport=!0;return}if(X.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(Q.test(t)){r.hasAllowedDynamic=!0;return}else{var i,a;let s;if(n.syncDynamicErrorWithStack)return void r.dynamicErrors.push(n.syncDynamicErrorWithStack);let o=(i=`Route "${e.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,a=t,(s=Object.defineProperty(Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})).stack=s.name+": "+i+a,s);return void r.dynamicErrors.push(o)}}}var Y=((i={})[i.Full=0]="Full",i[i.Empty=1]="Empty",i[i.Errored=2]="Errored",i);function J(e,t){console.error(t),e.dev||(e.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function Z(e,t,r,n){if(n.syncDynamicErrorWithStack)throw J(e,n.syncDynamicErrorWithStack),new u.StaticGenBailoutError;if(0!==t){if(r.hasSuspenseAboveBody)return;let n=r.dynamicErrors;if(n.length>0){for(let t=0;t<n.length;t++)J(e,n[t]);throw new u.StaticGenBailoutError}if(r.hasDynamicViewport)throw console.error(`Route "${e.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new u.StaticGenBailoutError;if(1===t)throw console.error(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new u.StaticGenBailoutError}else if(!1===r.hasAllowedDynamic&&r.hasDynamicMetadata)throw console.error(`Route "${e.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new u.StaticGenBailoutError}function ee(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}},36951,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,s.isNextRouterError)(t)||(0,a.isBailoutToCSRError)(t)||(0,l.isDynamicServerError)(t)||(0,o.isDynamicPostpone)(t)||(0,i.isPostpone)(t)||(0,n.isHangingPromiseRejectionError)(t)||(0,o.isPrerenderInterruptedError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=e.r(24616),i=e.r(77989),a=e.r(14760),s=e.r(68934),o=e.r(74571),l=e.r(93733);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},73210,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n="undefined"==typeof window?e.r(36951).unstable_rethrow:e.r(96132).unstable_rethrow;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},83531,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ReadonlyURLSearchParams:function(){return a.ReadonlyURLSearchParams},RedirectType:function(){return o.RedirectType},forbidden:function(){return u.forbidden},notFound:function(){return l.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect},unauthorized:function(){return c.unauthorized},unstable_isUnrecognizedActionError:function(){return h},unstable_rethrow:function(){return d.unstable_rethrow}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(31430),s=e.r(53656),o=e.r(1939),l=e.r(32075),u=e.r(69790),c=e.r(4047),d=e.r(73210);function h(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},29844,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ReadonlyURLSearchParams:function(){return h.ReadonlyURLSearchParams},RedirectType:function(){return h.RedirectType},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},forbidden:function(){return h.forbidden},notFound:function(){return h.notFound},permanentRedirect:function(){return h.permanentRedirect},redirect:function(){return h.redirect},unauthorized:function(){return h.unauthorized},unstable_isUnrecognizedActionError:function(){return d.unstable_isUnrecognizedActionError},unstable_rethrow:function(){return h.unstable_rethrow},useParams:function(){return b},usePathname:function(){return m},useRouter:function(){return y},useSearchParams:function(){return g},useSelectedLayoutSegment:function(){return v},useSelectedLayoutSegments:function(){return x},useServerInsertedHTML:function(){return c.useServerInsertedHTML}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(52456)._(e.r(91788)),s=e.r(1085),o=e.r(70008),l=e.r(77915),u=e.r(31430),c=e.r(63933),d=e.r(12098),h=e.r(83531),p="undefined"==typeof window?e.r(74571).useDynamicRouteParams:void 0,f="undefined"==typeof window?e.r(74571).useDynamicSearchParams:void 0;function g(){f?.("useSearchParams()");let e=(0,a.useContext)(o.SearchParamsContext);return(0,a.useMemo)(()=>e?new u.ReadonlyURLSearchParams(e):null,[e])}function m(){return p?.("usePathname()"),(0,a.useContext)(o.PathnameContext)}function y(){let e=(0,a.useContext)(s.AppRouterContext);if(null===e)throw Object.defineProperty(Error("invariant expected app router to be mounted"),"__NEXT_ERROR_CODE",{value:"E238",enumerable:!1,configurable:!0});return e}function b(){return p?.("useParams()"),(0,a.useContext)(o.PathParamsContext)}function x(e="children"){p?.("useSelectedLayoutSegments()");let t=(0,a.useContext)(s.LayoutRouterContext);return t?(0,l.getSelectedLayoutSegmentPath)(t.parentTree,e):null}function v(e="children"){p?.("useSelectedLayoutSegment()"),(0,a.useContext)(o.NavigationPromisesContext);let t=x(e);return(0,l.computeSelectedLayoutSegment)(t,e)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},17837,(e,t,r)=>{t.exports=e.r(29844)},62727,e=>{"use strict";let t,r,n,i,a,s;var o=e.i(50461),l=e.i(91398),u=e.i(58678),c=e.i(3828),d=e.i(91788),h=e.i(94182),p=e.i(17837);function f(){return false}function g(e){return RegExp(`/${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function m(e){(0,d.useEffect)(()=>{var t;e.beforeSend&&(null==(t=window.si)||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]);let t=(0,d.useRef)(null);return(0,d.useEffect)(()=>{if(t.current)e.route&&t.current(e.route);else{let r=function(e={}){var t;if("undefined"==typeof window||null===e.route)return null;window.si||(window.si=function(...e){(window.siq=window.siq||[]).push(e)});let r=e.scriptSrc?e.scriptSrc:f()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":e.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":e.basePath?`${e.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js";if(document.head.querySelector(`script[src*="${r}"]`))return null;e.beforeSend&&(null==(t=window.si)||t.call(window,"beforeSend",e.beforeSend));let n=document.createElement("script");return n.src=r,n.defer=!0,n.dataset.sdkn="@vercel/speed-insights"+(e.framework?`/${e.framework}`:""),n.dataset.sdkv="1.2.0",e.sampleRate&&(n.dataset.sampleRate=e.sampleRate.toString()),e.route&&(n.dataset.route=e.route),e.endpoint?n.dataset.endpoint=e.endpoint:e.basePath&&(n.dataset.endpoint=`${e.basePath}/speed-insights/vitals`),e.dsn&&(n.dataset.dsn=e.dsn),f()&&!1===e.debug&&(n.dataset.debug="false"),n.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${r}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(n),{setRoute:e=>{n.dataset.route=e??void 0}}}({framework:e.framework??"react",basePath:e.basePath??function(){if(void 0!==o.default&&void 0!==o.default.env)return o.default.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...e});r&&(t.current=r.setRoute)}},[e.route]),null}function y(e){let t=(()=>{let e=(0,p.useParams)(),t=(0,p.useSearchParams)()||new URLSearchParams,r=(0,p.usePathname)();if(!e)return null;let n=Object.keys(e).length?e:Object.fromEntries(t.entries());if(!r||!n)return r;let i=r;try{let e=Object.entries(n);for(let[t,r]of e)if(!Array.isArray(r)){let e=g(r);e.test(i)&&(i=i.replace(e,`/[${t}]`))}for(let[t,r]of e)if(Array.isArray(r)){let e=g(r.join("/"));e.test(i)&&(i=i.replace(e,`/[...${t}]`))}return i}catch(e){return r}})();return d.default.createElement(m,{route:t,...e,framework:"next",basePath:function(){if(void 0!==o.default&&void 0!==o.default.env)return o.default.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH}()})}function b(e){return d.default.createElement(d.Suspense,{fallback:null},d.default.createElement(y,{...e}))}function x(){return"undefined"!=typeof window}function v(){return"production"}function w(){return"development"===((x()?window.vam:v())||"production")}function E(e){return(0,d.useEffect)(()=>{var t;e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),(0,d.useEffect)(()=>{!function(e={debug:!0}){var t;if(!x())return;!function(e="auto"){if("auto"===e){window.vam=v();return}window.vam=e}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));let r=e.scriptSrc?e.scriptSrc:w()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${r}"]`))return;let n=document.createElement("script");n.src=r,n.defer=!0,n.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),n.dataset.sdkv="1.5.0",e.disableAutoTrack&&(n.dataset.disableAutoTrack="1"),e.endpoint?n.dataset.endpoint=e.endpoint:e.basePath&&(n.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(n.dataset.dsn=e.dsn),n.onerror=()=>{let e=w()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${e}`)},w()&&!1===e.debug&&(n.dataset.debug="false"),document.head.appendChild(n)}({framework:e.framework||"react",basePath:e.basePath??function(){if(void 0!==o.default&&void 0!==o.default.env)return o.default.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...void 0!==e.route&&{disableAutoTrack:!0},...e})},[]),(0,d.useEffect)(()=>{e.route&&e.path&&function({route:e,path:t}){var r;null==(r=window.va)||r.call(window,"pageview",{route:e,path:t})}({route:e.route,path:e.path})},[e.route,e.path]),null}var j={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},_=new class{#e=j;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},S="undefined"==typeof window||"Deno"in globalThis;function R(){}function O(e,t){return"function"==typeof e?e(t):e}function C(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==T(s,t.options))return!1}else if(!A(t.queryKey,s))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!i||i===t.state.fetchStatus)&&(!a||!!a(t))}function P(e,t){let{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(D(t.options.mutationKey)!==D(a))return!1}else if(!A(t.options.mutationKey,a))return!1}return(!n||t.state.status===n)&&(!i||!!i(t))}function T(e,t){return(t?.queryKeyHashFn||D)(e)}function D(e){return JSON.stringify(e,(e,t)=>q(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function A(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(r=>A(e[r],t[r]))}var k=Object.prototype.hasOwnProperty;function I(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function q(e){if(!M(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!M(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function M(e){return"[object Object]"===Object.prototype.toString.call(e)}function z(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}function L(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var N=Symbol();function H(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==N?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}var F=(t=[],r=0,n=e=>{e()},i=e=>{e()},a=function(e){setTimeout(e,0)},{batch:e=>{let s;r++;try{s=e()}finally{let e;--r||(e=t,t=[],e.length&&a(()=>{i(()=>{e.forEach(e=>{n(e)})})}))}return s},batchCalls:e=>(...t)=>{s(()=>{e(...t)})},schedule:s=e=>{r?t.push(e):a(()=>{n(e)})},setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{i=e},setScheduler:e=>{a=e}}),B=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},U=new class extends B{#r;#n;#i;constructor(){super(),this.#i=e=>{if(!S&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#n||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(e){this.#i=e,this.#n?.(),this.#n=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#r!==e&&(this.#r=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#r?this.#r:globalThis.document?.visibilityState!=="hidden"}},$=new class extends B{#a=!0;#n;#i;constructor(){super(),this.#i=e=>{if(!S&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#n||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(e){this.#i=e,this.#n?.(),this.#n=e(this.setOnline.bind(this))}setOnline(e){this.#a!==e&&(this.#a=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#a}};function Q(e){return Math.min(1e3*2**e,3e4)}function X(e){return(e??"online")!=="online"||$.isOnline()}var W=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function G(e){let t,r=!1,n=0,i=function(){let e,t,r=new Promise((r,n)=>{e=r,t=n});function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}(),a=()=>U.isFocused()&&("always"===e.networkMode||$.isOnline())&&e.canRun(),s=()=>X(e.networkMode)&&e.canRun(),o=e=>{"pending"===i.status&&(t?.(),i.resolve(e))},l=e=>{"pending"===i.status&&(t?.(),i.reject(e))},u=()=>new Promise(r=>{t=e=>{("pending"!==i.status||a())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,"pending"===i.status&&e.onContinue?.()}),c=()=>{let t;if("pending"!==i.status)return;let s=0===n?e.initialPromise:void 0;try{t=s??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(o).catch(t=>{if("pending"!==i.status)return;let s=e.retry??3*!S,o=e.retryDelay??Q,d="function"==typeof o?o(n,t):o,h=!0===s||"number"==typeof s&&n<s||"function"==typeof s&&s(n,t);r||!h?l(t):(n++,e.onFail?.(n,t),new Promise(e=>{_.setTimeout(e,d)}).then(()=>a()?void 0:u()).then(()=>{r?l(t):c()}))})};return{promise:i,status:()=>i.status,cancel:t=>{if("pending"===i.status){let r=new W(t);l(r),e.onCancel?.(r)}},continue:()=>(t?.(),i),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:s,start:()=>(s()?c():u().then(c),i)}}var K=class{#s;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#s=_.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(S?1/0:3e5))}clearGcTimeout(){this.#s&&(_.clearTimeout(this.#s),this.#s=void 0)}},V=class extends K{#o;#l;#u;#c;#d;#h;#p;constructor(e){super(),this.#p=!1,this.#h=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#c=e.client,this.#u=this.#c.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=J(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#d?.promise}setOptions(e){if(this.options={...this.#h,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let e=J(this.options);void 0!==e.data&&(this.setState(Y(e.data,e.dataUpdatedAt)),this.#o=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#u.remove(this)}setData(e,t){var r,n;let i=(r=this.state.data,"function"==typeof(n=this.options).structuralSharing?n.structuralSharing(r,e):!1!==n.structuralSharing?function e(t,r){if(t===r)return t;let n=I(t)&&I(r);if(!n&&!(q(t)&&q(r)))return r;let i=(n?t:Object.keys(t)).length,a=n?r:Object.keys(r),s=a.length,o=n?Array(s):{},l=0;for(let u=0;u<s;u++){let s=n?u:a[u],c=t[s],d=r[s];if(c===d){o[s]=c,(n?u<i:k.call(t,s))&&l++;continue}if(null===c||null===d||"object"!=typeof c||"object"!=typeof d){o[s]=d;continue}let h=e(c,d);o[s]=h,h===c&&l++}return i===s&&l===i?t:o}(r,e):e);return this.#f({data:i,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),i}setState(e,t){this.#f({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#d?.promise;return this.#d?.cancel(e),t?t.then(R).catch(R):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(e=>{var t;return!1!==(t=e.options.enabled,"function"==typeof t?t(this):t)})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===N||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===O(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Math.max(this.state.dataUpdatedAt+(e||0)-Date.now(),0))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#u.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#d&&(this.#p?this.#d.cancel({revert:!0}):this.#d.cancelRetry()),this.scheduleGc()),this.#u.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#f({type:"invalidate"})}async fetch(e,t){let r;if("idle"!==this.state.fetchStatus&&this.#d?.status()!=="rejected"){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#d)return this.#d.continueRetry(),this.#d.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let n=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#p=!0,n.signal)})},a=()=>{let e,r=H(this.options,t),n=(i(e={client:this.#c,queryKey:this.queryKey,meta:this.meta}),e);return(this.#p=!1,this.options.persister)?this.options.persister(r,n,this):r(n)},s=(i(r={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#c,state:this.state,fetchFn:a}),r);this.options.behavior?.onFetch(s,this),this.#l=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#f({type:"fetch",meta:s.fetchOptions?.meta}),this.#d=G({initialPromise:t?.initialPromise,fn:s.fetchFn,onCancel:e=>{e instanceof W&&e.revert&&this.setState({...this.#l,fetchStatus:"idle"}),n.abort()},onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{let e=await this.#d.start();if(void 0===e)throw Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#u.config.onSuccess?.(e,this),this.#u.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof W){if(e.silent)return this.#d.promise;else if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#f({type:"error",error:e}),this.#u.config.onError?.(e,this),this.#u.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#f(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":var r;return{...t,...(r=t.data,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X(this.options.networkMode)?"fetching":"paused",...void 0===r&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":let n={...t,...Y(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#l=e.manual?n:void 0,n;case"error":let i=e.error;return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),F.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#u.notify({query:this,type:"updated",action:e})})}};function Y(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function J(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Z=class extends B{constructor(e={}){super(),this.config=e,this.#g=new Map}#g;build(e,t,r){let n=t.queryKey,i=t.queryHash??T(n,t),a=this.get(i);return a||(a=new V({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#g.has(e.queryHash)||(this.#g.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#g.get(e.queryHash);t&&(e.destroy(),t===e&&this.#g.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){F.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#g.get(e)}getAll(){return[...this.#g.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>C(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>C(e,t)):t}notify(e){F.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){F.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){F.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ee=class extends K{#c;#m;#y;#d;constructor(e){super(),this.#c=e.client,this.mutationId=e.mutationId,this.#y=e.mutationCache,this.#m=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#m.includes(e)||(this.#m.push(e),this.clearGcTimeout(),this.#y.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#m=this.#m.filter(t=>t!==e),this.scheduleGc(),this.#y.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#m.length||("pending"===this.state.status?this.scheduleGc():this.#y.remove(this))}continue(){return this.#d?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#f({type:"continue"})},r={client:this.#c,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#d=G({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#y.canRun(this)});let n="pending"===this.state.status,i=!this.#d.canStart();try{if(n)t();else{this.#f({type:"pending",variables:e,isPaused:i}),await this.#y.config.onMutate?.(e,this,r);let t=await this.options.onMutate?.(e,r);t!==this.state.context&&this.#f({type:"pending",context:t,variables:e,isPaused:i})}let a=await this.#d.start();return await this.#y.config.onSuccess?.(a,e,this.state.context,this,r),await this.options.onSuccess?.(a,e,this.state.context,r),await this.#y.config.onSettled?.(a,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(a,null,e,this.state.context,r),this.#f({type:"success",data:a}),a}catch(t){try{throw await this.#y.config.onError?.(t,e,this.state.context,this,r),await this.options.onError?.(t,e,this.state.context,r),await this.#y.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,t,e,this.state.context,r),t}finally{this.#f({type:"error",error:t})}}finally{this.#y.runNext(this)}}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),F.batch(()=>{this.#m.forEach(t=>{t.onMutationUpdate(e)}),this.#y.notify({mutation:this,type:"updated",action:e})})}},et=class extends B{constructor(e={}){super(),this.config=e,this.#b=new Set,this.#x=new Map,this.#v=0}#b;#x;#v;build(e,t,r){let n=new ee({client:e,mutationCache:this,mutationId:++this.#v,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#b.add(e);let t=er(e);if("string"==typeof t){let r=this.#x.get(t);r?r.push(e):this.#x.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#b.delete(e)){let t=er(e);if("string"==typeof t){let r=this.#x.get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#x.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=er(e);if("string"!=typeof t)return!0;{let r=this.#x.get(t),n=r?.find(e=>"pending"===e.state.status);return!n||n===e}}runNext(e){let t=er(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#x.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){F.batch(()=>{this.#b.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#b.clear(),this.#x.clear()})}getAll(){return Array.from(this.#b)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>P(t,e))}findAll(e={}){return this.getAll().filter(t=>P(e,t))}notify(e){F.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return F.batch(()=>Promise.all(e.map(e=>e.continue().catch(R))))}};function er(e){return e.options.scope?.id}function en(e){return{onFetch:(t,r)=>{let n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],s=t.state.data?.pageParams||[],o={pages:[],pageParams:[]},l=0,u=async()=>{let r=!1,u=H(t.options,t.fetchOptions),c=async(e,n,i)=>{let a;if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);let s=(Object.defineProperty(a={client:t.client,queryKey:t.queryKey,pageParam:n,direction:i?"backward":"forward",meta:t.options.meta},"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),a),o=await u(s),{maxPages:l}=t.options,c=i?L:z;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,n,l)}};if(i&&a.length){let e="backward"===i,t={pages:a,pageParams:s},r=(e?function(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}:ei)(n,t);o=await c(t,r,e)}else{let t=e??a.length;do{let e=0===l?s[0]??n.initialPageParam:ei(n,o);if(l>0&&null==e)break;o=await c(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function ei(e,{pages:t,pageParams:r}){let n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}var ea=class{#w;#y;#h;#E;#j;#_;#S;#R;constructor(e={}){this.#w=e.queryCache||new Z,this.#y=e.mutationCache||new et,this.#h=e.defaultOptions||{},this.#E=new Map,this.#j=new Map,this.#_=0}mount(){this.#_++,1===this.#_&&(this.#S=U.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#w.onFocus())}),this.#R=$.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#w.onOnline())}))}unmount(){this.#_--,0===this.#_&&(this.#S?.(),this.#S=void 0,this.#R?.(),this.#R=void 0)}isFetching(e){return this.#w.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#y.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#w.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(O(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#w.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let n=this.defaultQueryOptions({queryKey:e}),i=this.#w.get(n.queryHash),a=i?.state.data,s="function"==typeof t?t(a):t;if(void 0!==s)return this.#w.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return F.batch(()=>this.#w.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state}removeQueries(e){let t=this.#w;F.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#w;return F.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(F.batch(()=>this.#w.findAll(e).map(e=>e.cancel(r)))).then(R).catch(R)}invalidateQueries(e,t={}){return F.batch(()=>(this.#w.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(F.batch(()=>this.#w.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(R)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(R)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#w.build(this,t);return r.isStaleByTime(O(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(R).catch(R)}fetchInfiniteQuery(e){return e.behavior=en(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(R).catch(R)}ensureInfiniteQueryData(e){return e.behavior=en(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $.isOnline()?this.#y.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#w}getMutationCache(){return this.#y}getDefaultOptions(){return this.#h}setDefaultOptions(e){this.#h=e}setQueryDefaults(e,t){this.#E.set(D(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#E.values()],r={};return t.forEach(t=>{A(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#j.set(D(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#j.values()],r={};return t.forEach(t=>{A(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#h.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=T(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===N&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#h.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#w.clear(),this.#y.clear()}},es=d.createContext(void 0),eo=({client:e,children:t})=>(d.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,l.jsx)(es.Provider,{value:e,children:t})),el=e.i(89067),eu=e.i(51314),ec=e.i(76116),ed=e.i(78487);class eh{constructor(){this.queue=[],this.activeDownloads=new Map,this.history=[],this.maxConcurrent=3,this.listeners=new Set,this.loadHistory(),this.loadQueue(),this.resumeInterruptedDownloads()}loadHistory(){try{let e=localStorage.getItem("download_history");this.history=e?JSON.parse(e):[],this.history.length>100&&(this.history=this.history.slice(0,100),this.saveHistory())}catch(e){console.error("Error loading download history:",e),this.history=[]}}saveHistory(){try{localStorage.setItem("download_history",JSON.stringify(this.history))}catch(e){console.error("Error saving download history:",e)}}loadQueue(){try{let e=sessionStorage.getItem("download_queue");if(e){let t=JSON.parse(e);this.queue=t.filter(e=>"pending"===e.status)}}catch(e){console.error("Error loading download queue:",e)}}saveQueue(){try{let e=this.queue.map(e=>({...e,url:"blob"===e.urlType?null:e.url,blob:null}));sessionStorage.setItem("download_queue",JSON.stringify(e))}catch(e){console.error("Error saving download queue:",e)}}addListener(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notify(){this.listeners.forEach(e=>{try{e({queue:[...this.queue],activeDownloads:Array.from(this.activeDownloads.values()),history:[...this.history]})}catch(e){console.error("Error in download manager listener:",e)}})}addDownload({url:e,filename:t,tool:r,metadata:n={}}){let i=`download_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a={id:i,url:e,filename:t||`download_${Date.now()}`,tool:r||"Unknown",metadata:n,status:"pending",progress:0,speed:0,size:0,downloaded:0,startTime:null,endTime:null,error:null,urlType:e.startsWith("blob:")?"blob":"url",createdAt:new Date().toISOString()};return this.queue.push(a),this.saveQueue(),this.notify(),this.processQueue(),i}async processQueue(){if(Array.from(this.activeDownloads.values()).filter(e=>"downloading"===e.status).length>=this.maxConcurrent)return;let e=this.queue.find(e=>"pending"===e.status);e&&this.startDownload(e.id)}async startDownload(e){let t=this.queue.find(t=>t.id===e);if(t&&"pending"===t.status){t.status="downloading",t.startTime=new Date().toISOString(),this.activeDownloads.set(e,t),this.saveQueue(),this.notify();try{"blob"===t.urlType?await this.downloadBlob(t):await this.downloadFromUrl(t)}catch(r){t.status="failed",t.error=r.message,t.endTime=new Date().toISOString(),this.saveQueue(),this.notify(),setTimeout(()=>{this.activeDownloads.delete(e),this.notify()},5e3)}}}async downloadBlob(e){try{let t=await fetch(e.url),r=await t.blob(),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=e.filename,document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(()=>URL.revokeObjectURL(n),1e3),e.status="completed",e.progress=100,e.size=r.size,e.downloaded=r.size,e.endTime=new Date().toISOString(),this.addToHistory(e),this.queue=this.queue.filter(t=>t.id!==e.id),this.activeDownloads.delete(e.id),this.saveQueue(),this.notify(),this.processQueue()}catch(e){throw Error(`Download failed: ${e.message}`)}}async downloadFromUrl(e){return new Promise((t,r)=>{let n=new XMLHttpRequest;n.addEventListener("progress",t=>{if(t.lengthComputable){if(e.progress=Math.round(t.loaded/t.total*100),e.size=t.total,e.downloaded=t.loaded,e.startTime){let r=(Date.now()-new Date(e.startTime).getTime())/1e3;e.speed=t.loaded/r}this.notify()}}),n.addEventListener("load",()=>{if(200===n.status){let r=new Blob([n.response]),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=e.filename,document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>URL.revokeObjectURL(i),1e3),e.status="completed",e.progress=100,e.endTime=new Date().toISOString(),this.addToHistory(e),this.queue=this.queue.filter(t=>t.id!==e.id),this.activeDownloads.delete(e.id),this.saveQueue(),this.notify(),this.processQueue(),t()}else r(Error(`HTTP ${n.status}: ${n.statusText}`))}),n.addEventListener("error",()=>{r(Error("Network error"))}),n.addEventListener("abort",()=>{r(Error("Download cancelled"))}),n.open("GET",e.url),n.responseType="blob",n.send(),e._xhr=n})}resumeDownload(e){let t=this.queue.find(t=>t.id===e);if(!t){let t=this.history.find(t=>t.id===e);if(t&&"failed"===t.status){let e={...t,id:`download_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,status:"pending",progress:0,error:null,startTime:null,endTime:null};return this.queue.push(e),this.saveQueue(),this.notify(),this.processQueue(),e.id}return null}return"failed"===t.status||"paused"===t.status?(t.status="pending",t.error=null,this.saveQueue(),this.notify(),this.processQueue(),e):null}pauseDownload(e){let t=this.activeDownloads.get(e);return!!t&&!!t._xhr&&(t._xhr.abort(),t.status="paused",t._xhr=null,this.activeDownloads.delete(e),this.saveQueue(),this.notify(),this.processQueue(),!0)}cancelDownload(e){let t=this.activeDownloads.get(e);t&&t._xhr&&(t._xhr.abort(),t._xhr=null),this.queue=this.queue.filter(t=>t.id!==e),this.activeDownloads.delete(e),this.saveQueue(),this.notify(),this.processQueue()}addToHistory(e){let t={id:e.id,filename:e.filename,tool:e.tool,metadata:e.metadata,status:e.status,size:e.size,createdAt:e.createdAt,completedAt:e.endTime||new Date().toISOString(),error:e.error};this.history.unshift(t),this.history.length>100&&(this.history=this.history.slice(0,100)),this.saveHistory()}resumeInterruptedDownloads(){let e=this.queue.filter(e=>"downloading"===e.status);e.forEach(e=>{e.status="pending",e.error=null}),e.length>0&&(this.saveQueue(),this.notify(),this.processQueue())}getState(){return{queue:[...this.queue],activeDownloads:Array.from(this.activeDownloads.values()),history:[...this.history],stats:{pending:this.queue.filter(e=>"pending"===e.status).length,downloading:Array.from(this.activeDownloads.values()).filter(e=>"downloading"===e.status).length,completed:this.history.filter(e=>"completed"===e.status).length,failed:this.history.filter(e=>"failed"===e.status).length}}}clearHistory(){this.history=[],this.saveHistory(),this.notify()}removeFromHistory(e){this.history=this.history.filter(t=>t.id!==e),this.saveHistory(),this.notify()}}let ep=null;function ef(){return ep||(ep=new eh),ep}function eg(e){if(!e||0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["B","KB","MB","GB"][t]}function em(){let{queue:e,activeDownloads:t,history:r,stats:n,resumeDownload:i,pauseDownload:a,cancelDownload:s,clearHistory:o,removeFromHistory:u}=function(){let[e,t]=(0,d.useState)(()=>ef().getState());(0,d.useEffect)(()=>{let e=ef(),r=e.addListener(r=>{t(e.getState())});return t(e.getState()),r},[]);let r=(0,d.useCallback)(e=>ef().addDownload(e),[]),n=(0,d.useCallback)(e=>ef().resumeDownload(e),[]),i=(0,d.useCallback)(e=>ef().pauseDownload(e),[]),a=(0,d.useCallback)(e=>{ef().cancelDownload(e)},[]),s=(0,d.useCallback)(()=>{ef().clearHistory()},[]),o=(0,d.useCallback)(e=>{ef().removeFromHistory(e)},[]);return{...e,addDownload:r,resumeDownload:n,pauseDownload:i,cancelDownload:a,clearHistory:s,removeFromHistory:o}}(),[c,h]=(0,d.useState)(!1),[p,f]=(0,d.useState)("queue"),[g,m]=(0,d.useState)(new Set),y=[...e.filter(e=>"pending"===e.status),...Array.from(t.values())],b=e=>{switch(e){case"completed":return(0,l.jsx)(ed.HiCheckCircle,{style:{width:18,height:18,color:"#10b981"}});case"failed":return(0,l.jsx)(ed.HiExclamationCircle,{style:{width:18,height:18,color:"#ef4444"}});case"downloading":return(0,l.jsx)("div",{style:ey.spinner});case"paused":return(0,l.jsx)(ed.HiPause,{style:{width:18,height:18,color:"#f59e0b"}});default:return(0,l.jsx)(ed.HiClock,{style:{width:18,height:18,color:"#94a3b8"}})}},x=e=>{switch(e){case"completed":return"Completato";case"failed":return"Fallito";case"downloading":return"In download...";case"paused":return"In pausa";case"pending":return"In attesa";default:return e}},v=y.length;return c||0!==v?(0,l.jsxs)(l.Fragment,{children:[v>0&&(0,l.jsxs)("button",{onClick:()=>h(!0),style:ey.floatingButton,"aria-label":"Download Manager",children:[(0,l.jsx)(ed.HiDownload,{style:{width:20,height:20}}),v>0&&(0,l.jsx)("span",{style:ey.badge,children:v})]}),c&&(0,l.jsx)("div",{style:ey.overlay,onClick:()=>h(!1),children:(0,l.jsxs)("div",{style:ey.panel,onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{style:ey.header,children:[(0,l.jsxs)("div",{style:ey.headerLeft,children:[(0,l.jsx)(ed.HiDownload,{style:{width:24,height:24}}),(0,l.jsx)("h2",{style:ey.title,children:"Download Manager"}),n.downloading>0&&(0,l.jsxs)("span",{style:ey.activeBadge,children:[n.downloading," attivo",n.downloading>1?"i":""]})]}),(0,l.jsx)("button",{onClick:()=>h(!1),style:ey.closeButton,"aria-label":"Chiudi",children:(0,l.jsx)(ed.HiX,{style:{width:20,height:20}})})]}),(0,l.jsxs)("div",{style:ey.tabs,children:[(0,l.jsxs)("button",{onClick:()=>f("queue"),style:{...ey.tab,..."queue"===p?ey.tabActive:{}},children:["Coda (",y.length,")"]}),(0,l.jsxs)("button",{onClick:()=>f("history"),style:{...ey.tab,..."history"===p?ey.tabActive:{}},children:["Cronologia (",r.length,")"]})]}),(0,l.jsx)("div",{style:ey.content,children:"queue"===p?(0,l.jsx)("div",{style:ey.queueContainer,children:0===y.length?(0,l.jsxs)("div",{style:ey.emptyState,children:[(0,l.jsx)(ed.HiCheckCircle,{style:{width:48,height:48,color:"#94a3b8",marginBottom:"16px"}}),(0,l.jsx)("p",{style:ey.emptyText,children:"Nessun download in corso"})]}):y.map(e=>{var t;return(0,l.jsxs)("div",{style:ey.downloadItem,children:[(0,l.jsxs)("div",{style:ey.downloadHeader,children:[(0,l.jsxs)("div",{style:ey.downloadInfo,children:[b(e.status),(0,l.jsxs)("div",{style:ey.downloadDetails,children:[(0,l.jsx)("div",{style:ey.filename,children:e.filename}),(0,l.jsxs)("div",{style:ey.meta,children:[e.tool&&(0,l.jsx)("span",{style:ey.toolTag,children:e.tool}),e.size>0&&(0,l.jsx)("span",{style:ey.size,children:eg(e.size)}),(0,l.jsx)("span",{style:ey.status,children:x(e.status)})]})]})]}),(0,l.jsxs)("div",{style:ey.downloadActions,children:["downloading"===e.status&&(0,l.jsx)("button",{onClick:()=>a(e.id),style:ey.actionButton,title:"Pausa",children:(0,l.jsx)(ed.HiPause,{style:{width:16,height:16}})}),("paused"===e.status||"failed"===e.status)&&(0,l.jsx)("button",{onClick:()=>i(e.id),style:ey.actionButton,title:"Riprendi",children:(0,l.jsx)(ed.HiPlay,{style:{width:16,height:16}})}),(0,l.jsx)("button",{onClick:()=>s(e.id),style:ey.actionButton,title:"Cancella",children:(0,l.jsx)(ed.HiX,{style:{width:16,height:16}})}),(0,l.jsx)("button",{onClick:()=>{var t;let r;return t=e.id,void((r=new Set(g)).has(t)?r.delete(t):r.add(t),m(r))},style:ey.actionButton,title:"Dettagli",children:g.has(e.id)?(0,l.jsx)(ed.HiChevronUp,{style:{width:16,height:16}}):(0,l.jsx)(ed.HiChevronDown,{style:{width:16,height:16}})})]})]}),"downloading"===e.status&&(0,l.jsxs)("div",{style:ey.progressContainer,children:[(0,l.jsx)("div",{style:ey.progressBar,children:(0,l.jsx)("div",{style:{...ey.progressFill,width:`${e.progress||0}%`}})}),(0,l.jsxs)("div",{style:ey.progressInfo,children:[(0,l.jsxs)("span",{children:[e.progress||0,"%"]}),e.speed>0&&(0,l.jsx)("span",{children:(t=e.speed)?eg(t)+"/s":"0 B/s"}),e.size>0&&e.downloaded>0&&e.speed>0&&(0,l.jsxs)("span",{children:[function(e,t,r){if(!r||0===r||!t)return"--";let n=Math.ceil((t-e)/r);if(n<60)return`${n}s`;if(n<3600)return`${Math.floor(n/60)}m ${n%60}s`;let i=Math.floor(n/3600),a=Math.floor(n%3600/60);return`${i}h ${a}m`}(e.downloaded,e.size,e.speed)," rimanenti"]})]})]}),g.has(e.id)&&(0,l.jsxs)("div",{style:ey.expandedDetails,children:[(0,l.jsxs)("div",{style:ey.detailRow,children:[(0,l.jsx)("span",{style:ey.detailLabel,children:"ID:"}),(0,l.jsx)("span",{style:ey.detailValue,children:e.id})]}),e.metadata&&Object.keys(e.metadata).length>0&&(0,l.jsxs)("div",{style:ey.detailRow,children:[(0,l.jsx)("span",{style:ey.detailLabel,children:"Metadata:"}),(0,l.jsx)("span",{style:ey.detailValue,children:JSON.stringify(e.metadata,null,2)})]}),e.error&&(0,l.jsxs)("div",{style:ey.detailRow,children:[(0,l.jsx)("span",{style:ey.detailLabel,children:"Errore:"}),(0,l.jsx)("span",{style:{...ey.detailValue,color:"#ef4444"},children:e.error})]}),e.createdAt&&(0,l.jsxs)("div",{style:ey.detailRow,children:[(0,l.jsx)("span",{style:ey.detailLabel,children:"Creato:"}),(0,l.jsx)("span",{style:ey.detailValue,children:new Date(e.createdAt).toLocaleString("it-IT")})]})]})]},e.id)})}):(0,l.jsx)("div",{style:ey.historyContainer,children:0===r.length?(0,l.jsxs)("div",{style:ey.emptyState,children:[(0,l.jsx)(ed.HiClock,{style:{width:48,height:48,color:"#94a3b8",marginBottom:"16px"}}),(0,l.jsx)("p",{style:ey.emptyText,children:"Nessun download nella cronologia"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:ey.historyHeader,children:(0,l.jsxs)("button",{onClick:o,style:ey.clearButton,children:[(0,l.jsx)(ed.HiTrash,{style:{width:16,height:16}}),"Pulisci cronologia"]})}),r.map(e=>(0,l.jsxs)("div",{style:ey.historyItem,children:[(0,l.jsxs)("div",{style:ey.historyHeaderItem,children:[(0,l.jsxs)("div",{style:ey.historyInfo,children:[b(e.status),(0,l.jsxs)("div",{style:ey.historyDetails,children:[(0,l.jsx)("div",{style:ey.filename,children:e.filename}),(0,l.jsxs)("div",{style:ey.meta,children:[e.tool&&(0,l.jsx)("span",{style:ey.toolTag,children:e.tool}),e.size>0&&(0,l.jsx)("span",{style:ey.size,children:eg(e.size)}),(0,l.jsx)("span",{style:ey.status,children:x(e.status)}),e.completedAt&&(0,l.jsx)("span",{style:ey.date,children:new Date(e.completedAt).toLocaleString("it-IT")})]})]})]}),(0,l.jsx)("button",{onClick:()=>u(e.id),style:ey.actionButton,title:"Rimuovi",children:(0,l.jsx)(ed.HiTrash,{style:{width:16,height:16}})})]}),"failed"===e.status&&e.error&&(0,l.jsxs)("div",{style:ey.errorMessage,children:[(0,l.jsx)(ed.HiExclamationCircle,{style:{width:16,height:16}}),(0,l.jsx)("span",{children:e.error})]}),"failed"===e.status&&(0,l.jsxs)("button",{onClick:()=>i(e.id),style:ey.resumeButton,children:[(0,l.jsx)(ed.HiPlay,{style:{width:16,height:16}}),"Riprendi download"]})]},e.id))]})})}),(0,l.jsx)("div",{style:ey.footer,children:(0,l.jsxs)("div",{style:ey.stats,children:[(0,l.jsxs)("span",{children:["Completati: ",n.completed||0]}),(0,l.jsxs)("span",{children:["Falliti: ",n.failed||0]}),(0,l.jsxs)("span",{children:["In attesa: ",n.pending||0]})]})})]})})]}):null}let ey={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},panel:{background:"rgba(15, 23, 42, 0.98)",border:"1px solid rgba(102, 126, 234, 0.3)",borderRadius:"16px",maxWidth:"700px",width:"100%",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(102, 126, 234, 0.2)"},headerLeft:{display:"flex",alignItems:"center",gap:"12px"},title:{margin:0,fontSize:"20px",fontWeight:"700",color:"#e2e8f0"},activeBadge:{padding:"4px 10px",background:"rgba(16, 185, 129, 0.2)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",fontSize:"12px",fontWeight:"600",color:"#10b981"},closeButton:{background:"rgba(102, 126, 234, 0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer",color:"#cbd5e1",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},tabs:{display:"flex",borderBottom:"1px solid rgba(102, 126, 234, 0.2)"},tab:{flex:1,padding:"12px 20px",background:"transparent",border:"none",borderBottom:"2px solid transparent",color:"#94a3b8",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},tabActive:{color:"#667eea",borderBottomColor:"#667eea"},content:{flex:1,overflowY:"auto",padding:"20px"},queueContainer:{display:"flex",flexDirection:"column",gap:"12px"},historyContainer:{display:"flex",flexDirection:"column",gap:"12px"},historyHeader:{display:"flex",justifyContent:"flex-end",marginBottom:"8px"},clearButton:{padding:"8px 16px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",color:"#ef4444",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},downloadItem:{background:"rgba(30, 41, 59, 0.5)",border:"1px solid rgba(102, 126, 234, 0.2)",borderRadius:"12px",padding:"16px",transition:"all 0.2s"},historyItem:{background:"rgba(30, 41, 59, 0.5)",border:"1px solid rgba(102, 126, 234, 0.2)",borderRadius:"12px",padding:"16px",transition:"all 0.2s"},downloadHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},historyHeaderItem:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},downloadInfo:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:0},historyInfo:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:0},downloadDetails:{flex:1,minWidth:0},historyDetails:{flex:1,minWidth:0},filename:{fontSize:"14px",fontWeight:"600",color:"#e2e8f0",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},meta:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap",fontSize:"12px",color:"#94a3b8"},toolTag:{padding:"2px 8px",background:"rgba(102, 126, 234, 0.2)",borderRadius:"6px",color:"#a78bfa",fontWeight:"500"},size:{color:"#94a3b8"},status:{color:"#94a3b8"},date:{color:"#64748b",fontSize:"11px"},downloadActions:{display:"flex",gap:"6px"},actionButton:{padding:"6px",background:"rgba(102, 126, 234, 0.1)",border:"1px solid rgba(102, 126, 234, 0.2)",borderRadius:"6px",color:"#cbd5e1",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},progressContainer:{marginTop:"12px"},progressBar:{width:"100%",height:"6px",background:"rgba(102, 126, 234, 0.2)",borderRadius:"3px",overflow:"hidden",marginBottom:"8px"},progressFill:{height:"100%",background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",transition:"width 0.3s ease",borderRadius:"3px"},progressInfo:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#94a3b8",gap:"12px"},expandedDetails:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(102, 126, 234, 0.1)",display:"flex",flexDirection:"column",gap:"8px"},detailRow:{display:"flex",gap:"8px",fontSize:"12px"},detailLabel:{fontWeight:"600",color:"#94a3b8",minWidth:"80px"},detailValue:{color:"#cbd5e1",wordBreak:"break-word"},errorMessage:{marginTop:"8px",padding:"8px 12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"6px",color:"#ef4444",fontSize:"12px",display:"flex",alignItems:"center",gap:"6px"},resumeButton:{marginTop:"8px",padding:"8px 16px",background:"rgba(102, 126, 234, 0.2)",border:"1px solid rgba(102, 126, 234, 0.3)",borderRadius:"8px",color:"#a78bfa",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},emptyState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 20px",textAlign:"center"},emptyText:{fontSize:"14px",color:"#94a3b8",margin:0},footer:{padding:"16px 24px",borderTop:"1px solid rgba(102, 126, 234, 0.2)"},stats:{display:"flex",justifyContent:"space-around",fontSize:"12px",color:"#94a3b8",gap:"16px"},floatingButton:{position:"fixed",bottom:"24px",right:"24px",width:"56px",height:"56px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"#ffffff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 24px rgba(102, 126, 234, 0.4)",zIndex:9999,transition:"all 0.3s",position:"relative"},badge:{position:"absolute",top:"-4px",right:"-4px",background:"#ef4444",color:"#ffffff",fontSize:"12px",fontWeight:"700",width:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},spinner:{width:"18px",height:"18px",border:"2px solid rgba(102, 126, 234, 0.3)",borderTopColor:"#667eea",borderRadius:"50%",animation:"spin 1s linear infinite"}};if("undefined"!=typeof document){let e="download-manager-spinner";if(!document.getElementById(e)){let t=document.createElement("style");t.id=e,t.textContent=`
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
    `,document.head.appendChild(t)}}let eb=[{id:"faq-1",category:"general",question:"Cos' MegaPixelAI?",answer:"MegaPixelAI  una piattaforma completa di strumenti AI per immagini, documenti, video e audio. Offriamo upscaling immagini, rimozione sfondo, OCR avanzato, conversione file, e molto altro.",keywords:["cosa","cos'","megapixel","piattaforma","strumenti"],relatedTools:["upscaler","background-remover","ocr"]},{id:"faq-2",category:"general",question:"Come funziona?",answer:" semplice! Carica il tuo file, scegli lo strumento che preferisci, e ottieni il risultato in pochi secondi. Tutti i processi avvengono in modo sicuro e privato.",keywords:["come","funziona","usare","utilizzare","processo"],relatedTools:[]},{id:"faq-3",category:"general",question:" gratuito?",answer:"Offriamo un piano gratuito con funzionalit base. Per funzionalit avanzate e maggiore velocit, puoi passare a un piano Pro. Visita la pagina Pricing per maggiori dettagli.",keywords:["gratuito","prezzo","costo","piano","abbonamento","free"],relatedTools:[]},{id:"faq-4",category:"tools",question:"Quali formati di file sono supportati?",answer:"Supportiamo un'ampia gamma di formati:\n\n**Immagini:** JPG, PNG, WEBP, GIF, BMP, TIFF\n**Documenti:** PDF, DOCX, DOC, TXT, RTF\n**Fogli di calcolo:** XLSX, XLS, CSV\n**Presentazioni:** PPTX, PPT\n**Video:** MP4, AVI, MOV, MKV\n**Audio:** MP3, WAV, OGG, FLAC\n**Archivi:** ZIP, RAR, 7Z, TAR",keywords:["formati","formato","supportati","file","tipi","estensioni"],relatedTools:["pdf-converter","generic-converter"]},{id:"faq-5",category:"tools",question:"Come funziona l'upscaling delle immagini?",answer:"Il nostro upscaler AI utilizza algoritmi avanzati di deep learning per aumentare la risoluzione delle immagini fino a 4x mantenendo la qualit. Basta caricare l'immagine e scegliere il fattore di upscaling desiderato.",keywords:["upscale","upscaling","risoluzione","immagine","qualit","ingrandire"],relatedTools:["upscaler"]},{id:"faq-6",category:"tools",question:"Posso rimuovere lo sfondo da qualsiasi immagine?",answer:"S! Il nostro strumento di rimozione sfondo AI funziona con qualsiasi immagine. Funziona meglio con immagini che hanno un soggetto chiaro e uno sfondo contrastante.",keywords:["sfondo","rimuovere","background","remove","trasparente"],relatedTools:["rimozione-sfondo-ai"]},{id:"faq-7",category:"tools",question:"Come funziona l'OCR?",answer:"L'OCR (Optical Character Recognition) avanzato estrae testo da immagini, PDF scansionati e documenti. Supporta pi di 100 lingue e mantiene la formattazione quando possibile.",keywords:["ocr","testo","estrarre","immagine","pdf","scansionato"],relatedTools:["ocr-avanzato-ai"]},{id:"faq-8",category:"tools",question:"Posso convertire pi file contemporaneamente?",answer:"S! Molti strumenti supportano il batch processing. Puoi caricare pi file e processarli tutti in una volta. I risultati verranno forniti come download singoli o in un archivio ZIP.",keywords:["batch","multipli","pi file","contemporaneamente","bulk"],relatedTools:["combina-splitta-pdf","generic-converter"]},{id:"faq-9",category:"account",question:"Come creo un account?",answer:'Clicca su "Registrati" in alto a destra, inserisci nome, email e password. Riceverai un\'email di conferma. Una volta confermato, avrai accesso a tutte le funzionalit.',keywords:["account","registrarsi","signup","iscriversi","creare"],relatedTools:[]},{id:"faq-10",category:"account",question:"Ho dimenticato la password",answer:'Vai alla pagina di login e clicca su "Password dimenticata". Inserisci la tua email e riceverai un link per reimpostare la password.',keywords:["password","dimenticata","reset","recuperare","forgot"],relatedTools:[]},{id:"faq-11",category:"account",question:"Come elimino il mio account?",answer:'Vai alla Dashboard, sezione Impostazioni, e clicca su "Elimina Account". Conferma l\'operazione. Nota: questa azione  irreversibile.',keywords:["eliminare","cancellare","account","delete","rimuovere"],relatedTools:[]},{id:"faq-12",category:"billing",question:"Come funziona la fatturazione?",answer:"I piani Pro sono fatturati mensilmente o annualmente. Puoi cancellare in qualsiasi momento dalla Dashboard. Non ci sono costi nascosti o commissioni.",keywords:["fatturazione","billing","pagamento","piano","pro"],relatedTools:[]},{id:"faq-13",category:"billing",question:"Posso cambiare piano?",answer:"S! Puoi aggiornare o downgrade il tuo piano in qualsiasi momento dalla Dashboard. Le modifiche entrano in vigore immediatamente.",keywords:["cambiare","piano","upgrade","downgrade","modificare"],relatedTools:[]},{id:"faq-14",category:"billing",question:"Cosa succede se supero i limiti del piano?",answer:"Riceverai una notifica quando ti avvicini ai limiti. Puoi aggiornare il piano o attendere il reset mensile. Alcune funzionalit potrebbero essere temporaneamente limitate.",keywords:["limiti","superare","quota","limite","esaurito"],relatedTools:[]},{id:"faq-15",category:"technical",question:"I miei file sono sicuri?",answer:"Assolutamente s! Tutti i file vengono processati in modo sicuro e vengono eliminati automaticamente dopo 24 ore. Non condividiamo mai i tuoi file con terze parti.",keywords:["sicurezza","privacy","sicuro","dati","protezione"],relatedTools:[]},{id:"faq-16",category:"technical",question:"Qual  la dimensione massima del file?",answer:"Il limite dipende dal piano:\n- **Gratuito:** 10 MB per file\n- **Pro:** 100 MB per file\n- **Enterprise:** 500 MB per file\n\nPer file pi grandi, contattaci per soluzioni personalizzate.",keywords:["dimensione","dimensione massima","limite","size","mb"],relatedTools:[]},{id:"faq-17",category:"technical",question:"Il processo  veloce?",answer:"S! La maggior parte dei processi viene completata in pochi secondi. I tempi dipendono dalla dimensione del file e dalla complessit dell'operazione. I piani Pro hanno priorit pi alta.",keywords:["velocit","veloce","tempo","quanto","lento"],relatedTools:[]},{id:"faq-18",category:"technical",question:"Cosa succede se il processo fallisce?",answer:"Se un processo fallisce, riceverai un messaggio di errore con dettagli. Puoi riprovare gratuitamente. Se il problema persiste, contatta il supporto con i dettagli dell'errore.",keywords:["errore","fallito","problema","non funziona","bug"],relatedTools:[]},{id:"faq-19",category:"features",question:"Cosa sono i crediti?",answer:"I crediti sono unit di consumo per le operazioni AI. Ogni operazione consuma un certo numero di crediti in base alla complessit. I crediti si ricaricano mensilmente o puoi acquistarli.",keywords:["crediti","credits","consumo","unit"],relatedTools:[]},{id:"faq-20",category:"features",question:"Posso usare l'API?",answer:"S! Offriamo un'API pubblica per sviluppatori. Visita la sezione API nella Dashboard per ottenere la tua API key e la documentazione completa.",keywords:["api","sviluppatori","developer","integrazione"],relatedTools:[]},{id:"faq-21",category:"features",question:"C' un'app mobile?",answer:"Attualmente siamo disponibili solo come applicazione web responsive. Stiamo lavorando su app native iOS e Android. Iscriviti alla newsletter per essere aggiornato!",keywords:["mobile","app","ios","android","telefono"],relatedTools:[]}];function ex(e){if(!e||e.trim().length<2)return[];let t=e.toLowerCase().trim(),r=t.split(/\s+/);return eb.map(e=>{let n=0,i=e.question.toLowerCase(),a=e.answer.toLowerCase(),s=e.keywords.map(e=>e.toLowerCase());return i.includes(t)&&(n+=10),r.forEach(e=>{i.includes(e)&&(n+=5)}),r.forEach(e=>{s.some(t=>t.includes(e)||s.includes(e))&&(n+=3)}),r.forEach(e=>{a.includes(e)&&(n+=1)}),{...e,score:n}}).filter(e=>e.score>0).sort((e,t)=>t.score-e.score).slice(0,5)}function ev(){let[e,t]=(0,d.useState)(!1),[r,n]=(0,d.useState)([]),[i,a]=(0,d.useState)(""),[s,o]=(0,d.useState)(!1),[u,c]=(0,d.useState)(!0),[h,p]=(0,d.useState)(null),[f,g]=(0,d.useState)(""),[m,y]=(0,d.useState)([]),[b,x]=(0,d.useState)("chat"),v=(0,d.useRef)(null),w=(0,d.useRef)(null),[E,j]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let e=()=>j(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,d.useEffect)(()=>{e&&0===r.length&&n([{id:"welcome",role:"assistant",content:"Ciao!  Sono il tuo assistente virtuale. Posso aiutarti con:\n\n Domande su strumenti e funzionalit\n Problemi tecnici\n Informazioni su account e fatturazione\n Suggerimenti e best practices\n\nCome posso aiutarti oggi?",timestamp:new Date().toISOString(),type:"text"}])},[e]),(0,d.useEffect)(()=>{v.current?.scrollIntoView({behavior:"smooth"})},[r]);let _=async()=>{if(!i.trim()||s)return;let e={id:`msg-${Date.now()}`,role:"user",content:i.trim(),timestamp:new Date().toISOString(),type:"text"};n(t=>[...t,e]),a(""),c(!1),o(!0);try{let e=ex(i.trim()),t=await fetch("/api/support/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:i.trim(),context:e.slice(0,3).map(e=>({question:e.question,answer:e.answer})),conversationHistory:r.slice(-5).map(e=>({role:e.role,content:e.content}))})});if(!t.ok)throw Error("Errore nella risposta del supporto");let a=await t.json(),s={id:`msg-${Date.now()}-ai`,role:"assistant",content:a.response,timestamp:new Date().toISOString(),type:"text",relatedFAQs:a.relatedFAQs||[],suggestions:a.suggestions||[]};n(e=>[...e,s]),a.relatedFAQs&&a.relatedFAQs.length>0&&c(!0)}catch(a){console.error("Support chat error:",a);let e=ex(i.trim()),t="Mi dispiace, non sono riuscito a trovare una risposta precisa. ";e.length>0?t+=`Ecco alcune informazioni che potrebbero aiutarti:

**${e[0].question}**
${e[0].answer}`:t+="Potresti riformulare la domanda o contattare il supporto diretto?";let r={id:`msg-${Date.now()}-fallback`,role:"assistant",content:t,timestamp:new Date().toISOString(),type:"text",relatedFAQs:e.slice(0,3)};n(e=>[...e,r])}finally{o(!1)}},S=e=>{let t={id:`faq-${Date.now()}`,role:"assistant",content:`**${e.question}**

${e.answer}`,timestamp:new Date().toISOString(),type:"faq",faqId:e.id};n(e=>[...e,t]),p(e.id);let r=function(e,t=3){let r=eb.find(t=>t.id===e);return r?eb.filter(t=>t.id!==e&&(t.category===r.category||t.relatedTools.some(e=>r.relatedTools.includes(e)))).slice(0,t):[]}(e.id);r.length>0&&setTimeout(()=>{let e={id:`related-${Date.now()}`,role:"assistant",content:`**FAQ correlate:**

${r.map(e=>` ${e.question}`).join("\n")}`,timestamp:new Date().toISOString(),type:"suggestions"};n(t=>[...t,e])},500)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>t(!0),style:ew.floatingButton,"aria-label":"Supporto Chat",title:"Supporto Chat",children:(0,l.jsx)(ed.HiChat,{style:{width:24,height:24}})}),e&&(0,l.jsx)("div",{style:ew.overlay,onClick:()=>t(!1),children:(0,l.jsxs)("div",{style:ew.panel,onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{style:ew.header,children:[(0,l.jsxs)("div",{style:ew.headerLeft,children:[(0,l.jsx)("div",{style:ew.headerIcon,children:(0,l.jsx)(ed.HiSparkles,{style:{width:20,height:20}})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{style:ew.headerTitle,children:"Supporto AI"}),(0,l.jsx)("p",{style:ew.headerSubtitle,children:"Assistente virtuale intelligente"})]})]}),(0,l.jsx)("button",{onClick:()=>t(!1),style:ew.closeButton,"aria-label":"Chiudi",children:(0,l.jsx)(ed.HiX,{style:{width:20,height:20}})})]}),(0,l.jsxs)("div",{style:ew.tabs,children:[(0,l.jsx)("button",{onClick:()=>x("chat"),style:{...ew.tab,..."chat"===b?ew.tabActive:{}},children:"Chat"}),(0,l.jsx)("button",{onClick:()=>x("faq"),style:{...ew.tab,..."faq"===b?ew.tabActive:{}},children:"FAQ"})]}),(0,l.jsx)("div",{style:ew.content,children:"chat"===b?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:ew.messagesContainer,children:[r.map(e=>(0,l.jsx)("div",{style:{...ew.message,..."user"===e.role?ew.userMessage:ew.assistantMessage},children:(0,l.jsxs)("div",{style:ew.messageContent,children:["text"===e.type&&(0,l.jsx)("div",{style:ew.textContent,children:e.content.split("\n").map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,l.jsx)("strong",{style:ew.boldText,children:e.replace(/\*\*/g,"")},t):""===e.trim()?(0,l.jsx)("br",{},t):(0,l.jsx)("p",{style:ew.paragraph,children:e},t))}),e.relatedFAQs&&e.relatedFAQs.length>0&&(0,l.jsxs)("div",{style:ew.relatedFAQs,children:[(0,l.jsx)("div",{style:ew.relatedTitle,children:"Potrebbe interessarti:"}),e.relatedFAQs.map(e=>(0,l.jsxs)("button",{onClick:()=>S(e),style:ew.faqButton,children:[(0,l.jsx)(ed.HiQuestionMarkCircle,{style:{width:16,height:16}}),e.question]},e.id))]}),(0,l.jsx)("div",{style:ew.timestamp,children:new Date(e.timestamp).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]})},e.id)),s&&(0,l.jsx)("div",{style:ew.loadingMessage,children:(0,l.jsxs)("div",{style:ew.typingIndicator,children:[(0,l.jsx)("span",{}),(0,l.jsx)("span",{}),(0,l.jsx)("span",{})]})}),(0,l.jsx)("div",{ref:v})]}),u&&r.length<=1&&(0,l.jsxs)("div",{style:ew.suggestionsContainer,children:[(0,l.jsxs)("div",{style:ew.suggestionsTitle,children:[(0,l.jsx)(ed.HiLightBulb,{style:{width:16,height:16}}),"Suggerimenti"]}),(0,l.jsx)("div",{style:ew.suggestionsGrid,children:["Come funziona l'upscaling?","Quali formati sono supportati?","Come creo un account?","I miei file sono sicuri?"].map((e,t)=>(0,l.jsx)("button",{onClick:()=>{a(e),w.current?.focus()},style:ew.suggestionButton,children:e},t))})]}),(0,l.jsx)("div",{style:ew.inputContainer,children:(0,l.jsxs)("div",{style:ew.inputWrapper,children:[(0,l.jsx)("input",{ref:w,type:"text",value:i,onChange:e=>a(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),_())},placeholder:"Scrivi la tua domanda...",style:ew.input,disabled:s}),(0,l.jsx)("button",{onClick:_,disabled:!i.trim()||s,style:{...ew.sendButton,...(!i.trim()||s)&&ew.sendButtonDisabled},children:(0,l.jsx)(ed.HiPaperAirplane,{style:{width:18,height:18}})})]})})]}):(0,l.jsxs)("div",{style:ew.faqContainer,children:[(0,l.jsxs)("div",{style:ew.searchContainer,children:[(0,l.jsx)(ed.HiSearch,{style:{width:20,height:20,color:"#94a3b8"}}),(0,l.jsx)("input",{type:"text",value:f,onChange:e=>{var t;g(t=e.target.value),t.trim().length>=2?y(ex(t)):y([])},placeholder:"Cerca nelle FAQ...",style:ew.searchInput})]}),(0,l.jsx)("div",{style:ew.faqResults,children:m.length>0?m.map(e=>(0,l.jsxs)("div",{style:ew.faqItem,children:[(0,l.jsxs)("button",{onClick:()=>{p(h===e.id?null:e.id),S(e)},style:ew.faqQuestion,children:[(0,l.jsx)("span",{children:e.question}),h===e.id?(0,l.jsx)(ed.HiChevronUp,{style:{width:20,height:20}}):(0,l.jsx)(ed.HiChevronDown,{style:{width:20,height:20}})]}),h===e.id&&(0,l.jsx)("div",{style:ew.faqAnswer,children:e.answer.split("\n").map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,l.jsx)("strong",{style:ew.boldText,children:e.replace(/\*\*/g,"")},t):(0,l.jsx)("p",{style:ew.paragraph,children:e},t))})]},e.id)):(0,l.jsxs)("div",{style:ew.emptyState,children:[(0,l.jsx)(ed.HiQuestionMarkCircle,{style:{width:48,height:48,color:"#94a3b8",marginBottom:"16px"}}),(0,l.jsx)("p",{style:ew.emptyText,children:f?"Nessun risultato trovato":"Cerca nelle FAQ o passa alla chat"})]})})]})})]})})]})}let ew={floatingButton:{position:"fixed",bottom:"24px",right:"24px",width:"56px",height:"56px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"#ffffff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 24px rgba(102, 126, 234, 0.4)",zIndex:9998,transition:"all 0.3s",WebkitTapHighlightColor:"transparent"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},panel:{background:"rgba(15, 23, 42, 0.98)",border:"1px solid rgba(102, 126, 234, 0.3)",borderRadius:"16px",maxWidth:"600px",width:"100%",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(102, 126, 234, 0.2)"},headerLeft:{display:"flex",alignItems:"center",gap:"12px"},headerIcon:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#a78bfa"},headerTitle:{margin:0,fontSize:"18px",fontWeight:"700",color:"#e2e8f0"},headerSubtitle:{margin:0,fontSize:"12px",color:"#94a3b8"},closeButton:{background:"rgba(102, 126, 234, 0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer",color:"#cbd5e1",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},tabs:{display:"flex",borderBottom:"1px solid rgba(102, 126, 234, 0.2)"},tab:{flex:1,padding:"12px 20px",background:"transparent",border:"none",borderBottom:"2px solid transparent",color:"#94a3b8",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},tabActive:{color:"#667eea",borderBottomColor:"#667eea"},content:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},messagesContainer:{flex:1,overflowY:"auto",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},message:{display:"flex",flexDirection:"column",maxWidth:"85%",animation:"fadeIn 0.3s ease-in"},userMessage:{alignSelf:"flex-end",alignItems:"flex-end"},assistantMessage:{alignSelf:"flex-start",alignItems:"flex-start"},messageContent:{padding:"12px 16px",borderRadius:"12px",background:"rgba(102, 126, 234, 0.1)",border:"1px solid rgba(102, 126, 234, 0.2)"},textContent:{fontSize:"14px",lineHeight:"1.6",color:"#e2e8f0"},paragraph:{margin:"4px 0",color:"#e2e8f0"},boldText:{fontWeight:"700",color:"#a78bfa",display:"block",margin:"8px 0"},relatedFAQs:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(102, 126, 234, 0.2)"},relatedTitle:{fontSize:"12px",fontWeight:"600",color:"#94a3b8",marginBottom:"8px"},faqButton:{width:"100%",padding:"8px 12px",marginBottom:"6px",background:"rgba(102, 126, 234, 0.1)",border:"1px solid rgba(102, 126, 234, 0.2)",borderRadius:"8px",color:"#a78bfa",fontSize:"13px",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},timestamp:{fontSize:"11px",color:"#64748b",marginTop:"8px"},loadingMessage:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",background:"rgba(102, 126, 234, 0.1)",borderRadius:"12px",border:"1px solid rgba(102, 126, 234, 0.2)",maxWidth:"85px"},typingIndicator:{display:"flex",gap:"4px"},suggestionsContainer:{padding:"16px 20px",borderTop:"1px solid rgba(102, 126, 234, 0.2)",background:"rgba(102, 126, 234, 0.05)"},suggestionsTitle:{fontSize:"12px",fontWeight:"600",color:"#94a3b8",marginBottom:"12px",display:"flex",alignItems:"center",gap:"6px"},suggestionsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},suggestionButton:{padding:"10px 14px",background:"rgba(102, 126, 234, 0.1)",border:"1px solid rgba(102, 126, 234, 0.2)",borderRadius:"8px",color:"#a78bfa",fontSize:"13px",textAlign:"left",cursor:"pointer",transition:"all 0.2s"},inputContainer:{padding:"16px 20px",borderTop:"1px solid rgba(102, 126, 234, 0.2)",background:"rgba(15, 23, 42, 0.8)"},inputWrapper:{display:"flex",gap:"8px",alignItems:"center"},input:{flex:1,padding:"12px 16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(102, 126, 234, 0.3)",borderRadius:"12px",color:"#e2e8f0",fontSize:"14px",outline:"none",transition:"all 0.2s"},sendButton:{padding:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"12px",color:"#ffffff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},sendButtonDisabled:{opacity:.5,cursor:"not-allowed"},faqContainer:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},searchContainer:{padding:"16px 20px",borderBottom:"1px solid rgba(102, 126, 234, 0.2)",display:"flex",alignItems:"center",gap:"12px",background:"rgba(102, 126, 234, 0.05)"},searchInput:{flex:1,padding:"10px 12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(102, 126, 234, 0.3)",borderRadius:"8px",color:"#e2e8f0",fontSize:"14px",outline:"none"},faqResults:{flex:1,overflowY:"auto",padding:"20px"},faqItem:{marginBottom:"12px",background:"rgba(30, 41, 59, 0.5)",border:"1px solid rgba(102, 126, 234, 0.2)",borderRadius:"12px",overflow:"hidden"},faqQuestion:{width:"100%",padding:"16px",background:"transparent",border:"none",color:"#e2e8f0",fontSize:"14px",fontWeight:"600",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",transition:"background 0.2s"},faqAnswer:{padding:"0 16px 16px",fontSize:"13px",lineHeight:"1.6",color:"#cbd5e1"},emptyState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 20px",textAlign:"center"},emptyText:{fontSize:"14px",color:"#94a3b8",margin:0}};if("undefined"!=typeof document){let e="chat-support-styles";if(!document.getElementById(e)){let t=document.createElement("style");t.id=e,t.textContent=`
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      @keyframes typing {
        0%, 60%, 100% {
          transform: translateY(0);
        }
        30% {
          transform: translateY(-10px);
        }
      }
    `,document.head.appendChild(t)}}var eE=e.i(86223);class ej extends d.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){if(console.error("Error caught by boundary:",e,t),console.error("Error stack:",e.stack),console.error("Component stack:",t.componentStack),eE&&eE.trackError)try{eE.trackError(e.message||"Unknown error",t.componentStack||"unknown","error_boundary",e.stack)}catch(e){console.error("Failed to track error:",e)}}render(){if(this.state.hasError){let e=this.state.error;return(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px",textAlign:"center",fontFamily:"system-ui, -apple-system, sans-serif"},children:[(0,l.jsx)("h1",{style:{fontSize:"24px",marginBottom:"16px",color:"#333"},children:"Something went wrong"}),(0,l.jsx)("p",{style:{marginBottom:"8px",color:"#666",fontSize:"14px"},children:e?.message||"An unexpected error occurred"}),e?.stack&&(0,l.jsxs)("details",{style:{marginTop:"16px",textAlign:"left",maxWidth:"600px",fontSize:"12px",color:"#999"},children:[(0,l.jsx)("summary",{style:{cursor:"pointer",marginBottom:"8px"},children:"Error Details"}),(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",overflow:"auto",maxHeight:"200px"},children:e.stack})]}),(0,l.jsx)("button",{onClick:()=>{window.location.reload()},style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#0070f3",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:"Reload Page"})]})}return this.props.children}}let e_=new ea({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:1}}});e.s(["default",0,function({Component:t,pageProps:r}){let n=(0,c.useRouter)(),[i,a]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{a(!0)},[]),(0,d.useEffect)(()=>{if(i&&"undefined"!=typeof document)try{document.documentElement.classList.add("animations-ready");let t=document.querySelectorAll('[class*="animate-"]');t&&t.length>0&&t.forEach(e=>{e&&e.classList&&e.classList.add("animate-ready")});try{"function"==typeof ec.optimizeCoreWebVitals&&(0,ec.optimizeCoreWebVitals)(),"function"==typeof ec.setupLazyImages&&(0,ec.setupLazyImages)(),e.A(79655).then(({optimizeAnimations:e,measureWebVitals:t})=>{"function"==typeof e&&e(),"function"==typeof t&&t()}).catch(()=>{})}catch(e){}}catch(e){console.warn("Animation setup failed:",e)}},[i]),(0,d.useEffect)(()=>{"undefined"!=typeof document&&(document.body.style.overflowX="hidden",document.documentElement.style.overflowX="hidden");{let e=()=>{let e=n.asPath,t=[];t.push("/tools","/upscaler","/pdf"),"/"===e?t.push("/home","/tools/rimozione-sfondo-ai","/tools/generazione-immagini-ai"):e.startsWith("/tools")&&t.push("/tools/rimozione-sfondo-ai","/upscaler"),t.slice(0,5).forEach((e,t)=>{setTimeout(()=>{n.prefetch(e).catch(()=>{})},200*t+1e3)})};"requestIdleCallback"in window?requestIdleCallback(e,{timeout:3e3}):setTimeout(e,2e3);let t=e=>{let t=e.target.closest("a[href]");if(t&&t.href.startsWith(window.location.origin)){let e=t.getAttribute("href");!e||e.startsWith("#")||e.startsWith("http")||n.prefetch(e).catch(()=>{})}};return document.addEventListener("mouseover",t,{passive:!0}),()=>{document.removeEventListener("mouseover",t)}}},[n]),(0,d.useEffect)(()=>{"serviceWorker"in navigator&&("requestIdleCallback"in window?requestIdleCallback(()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})}):setTimeout(()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})},2e3))},[]),(0,d.useEffect)(()=>{e.A(72504).then(({onCLS:e,onFID:t,onFCP:r,onLCP:n,onTTFB:i,onINP:a})=>{e(eE.trackWebVital),t(eE.trackWebVital),r(eE.trackWebVital),n(eE.trackWebVital),i(eE.trackWebVital),a&&a(eE.trackWebVital)}).catch(()=>{});let t=e=>{eE.trackError(e.message||"Unknown error",e.filename||"unknown","javascript_error",e.lineno)},r=e=>{eE.trackError(e.reason?.message||"Unhandled promise rejection","promise_rejection","promise_error")};return window.addEventListener("error",t),window.addEventListener("unhandledrejection",r),()=>{window.removeEventListener("error",t),window.removeEventListener("unhandledrejection",r)}},[]),(0,l.jsx)(ej,{children:(0,l.jsx)(eo,{client:e_,children:(0,l.jsxs)(el.LanguageProvider,{initialTranslations:r.translations||{},children:[(0,l.jsxs)(u.default,{children:[(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, viewport-fit=cover"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"}),(0,l.jsx)("link",{rel:"alternate icon",href:"/logo.svg",type:"image/svg+xml"}),(0,l.jsx)("link",{rel:"apple-touch-icon",href:"/logo-with-text.jpg"}),(0,l.jsx)("link",{rel:"preconnect",href:"https://www.googletagmanager.com",crossOrigin:"anonymous"}),(0,l.jsx)("link",{rel:"preconnect",href:"https://www.google-analytics.com",crossOrigin:"anonymous"}),(0,l.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com",crossOrigin:"anonymous"}),(0,l.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,l.jsx)("link",{rel:"dns-prefetch",href:"https://www.googletagmanager.com"}),(0,l.jsx)("link",{rel:"dns-prefetch",href:"https://www.google-analytics.com"}),(0,l.jsx)("link",{rel:"dns-prefetch",href:"https://fonts.googleapis.com"}),(0,l.jsx)("link",{rel:"dns-prefetch",href:"https://fonts.gstatic.com"}),(0,l.jsx)("link",{rel:"dns-prefetch",href:"https://fonts.googleapis.com"}),(0,l.jsx)("link",{rel:"dns-prefetch",href:"https://fonts.gstatic.com"}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("link",{rel:"prefetch",href:"/tools",as:"document"}),(0,l.jsx)("link",{rel:"prefetch",href:"/upscaler",as:"document"}),(0,l.jsx)("link",{rel:"prefetch",href:"/pdf",as:"document"})]}),(0,l.jsx)("title",{children:"Tool Suite - Upscaler AI & PDF Converter"}),(0,l.jsx)("style",{children:`
            html {
              overflow-y: scroll;
              overflow-x: hidden;
              width: 100%;
              max-width: 100%;
            }
            body {
              overflow-x: hidden;
              max-width: 100%;
              width: 100%;
              position: relative;
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            * {
              box-sizing: border-box;
            }
            /* Force scrollbar to always show to prevent layout shift */
            :root {
              overflow-y: scroll;
              overflow-x: hidden;
              scrollbar-gutter: stable;
              width: 100%;
              max-width: 100%;
            }
            /* Prevent horizontal scroll */
            #__next {
              overflow-x: hidden;
              max-width: 100%;
              width: 100%;
            }
            /* Ottimizzazioni performance */
            * {
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
            }
            /* GPU acceleration per animazioni */
            [style*="transform"], [style*="opacity"] {
              will-change: transform, opacity;
            }
            /* Smooth scrolling */
            html {
              scroll-behavior: smooth;
            }
            /* Ottimizzazione rendering */
            img, video {
              content-visibility: auto;
            }
          `})]}),(0,l.jsx)(h.default,{id:"google-analytics",strategy:"afterInteractive",src:"https://www.googletagmanager.com/gtag/js?id=G-34NK4NEB9B"}),(0,l.jsx)(h.default,{id:"google-analytics-init",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:`
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-34NK4NEB9B', {
              page_path: window.location.pathname,
              page_location: window.location.href,
              page_title: document.title,
              send_page_view: true,
            });
          `}}),eE.ENABLE_ANALYTICS&&"GTM-XXXXXXX"!==eE.GTM_ID&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.default,{id:"gtm-script",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:`
                (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                })(window,document,'script','dataLayer','${eE.GTM_ID}');
              `}}),(0,l.jsx)("noscript",{children:(0,l.jsx)("iframe",{src:`https://www.googletagmanager.com/ns.html?id=${eE.GTM_ID}`,height:"0",width:"0",style:{display:"none",visibility:"hidden"}})})]}),eE.ENABLE_ANALYTICS&&"G-XXXXXXXXXX"!==eE.GA_TRACKING_ID&&"G-34NK4NEB9B"!==eE.GA_TRACKING_ID&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.default,{strategy:"afterInteractive",src:`https://www.googletagmanager.com/gtag/js?id=${eE.GA_TRACKING_ID}`}),(0,l.jsx)(h.default,{id:"gtag-init",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:`
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', '${eE.GA_TRACKING_ID}', {
                  page_path: window.location.pathname,
                  page_location: window.location.href,
                  page_title: document.title,
                  send_page_view: true,
                  anonymize_ip: true,
                  cookie_flags: 'SameSite=None;Secure',
                });
              `}})]}),(0,l.jsx)(eu.default,{}),(0,l.jsx)(t,{...r}),(0,l.jsx)(em,{}),i&&(0,l.jsx)(ev,{}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b,{}),(0,l.jsx)(E,{})]})]})})})}],62727)},56703,(e,t,r)=>{let n="/_app";(window.__NEXT_P=window.__NEXT_P||[]).push([n,()=>e.r(62727)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([n])})}]);