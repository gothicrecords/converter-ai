{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/lib/i18n-server.js"],"sourcesContent":["import fs from 'fs';\r\nimport path from 'path';\r\n\r\nfunction stripBOM(content) {\r\n  if (!content) return content;\r\n  // Remove UTF-8 BOM if present\r\n  return content.charCodeAt(0) === 0xFEFF ? content.slice(1) : content.replace(/^\\uFEFF/, '');\r\n}\r\n\r\n// Helper per caricare traduzioni server-side\r\nexport async function loadTranslationsSSR(locale = 'en') {\r\n  try {\r\n    const filePath = path.join(process.cwd(), 'public', 'locales', locale, 'common.json');\r\n    const fileContents = fs.readFileSync(filePath, 'utf8');\r\n    const clean = stripBOM(fileContents);\r\n    return JSON.parse(clean);\r\n  } catch (error) {\r\n    console.error('Error loading translations SSR:', error);\r\n    // Fallback to English\r\n    if (locale !== 'en') {\r\n      return loadTranslationsSSR('en');\r\n    }\r\n    return {};\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,SAAS,SAAS,OAAO;IACvB,IAAI,CAAC,SAAS,OAAO;IACrB,8BAA8B;IAC9B,OAAO,QAAQ,UAAU,CAAC,OAAO,SAAS,QAAQ,KAAK,CAAC,KAAK,QAAQ,OAAO,CAAC,WAAW;AAC1F;AAGO,eAAe,oBAAoB,SAAS,IAAI;IACrD,IAAI;QACF,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,UAAU,WAAW,QAAQ;QACvE,MAAM,eAAe,wGAAE,CAAC,YAAY,CAAC,UAAU;QAC/C,MAAM,QAAQ,SAAS;QACvB,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,sBAAsB;QACtB,IAAI,WAAW,MAAM;YACnB,OAAO,oBAAoB;QAC7B;QACA,OAAO,CAAC;IACV;AACF"}}]
}