{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/lib/tools.js"],"sourcesContent":["import {\r\n    BsImage, BsArrowsAngleContract, BsFileEarmarkPdf, BsTextParagraph,\r\n    BsType, BsFileText, BsSpellcheck, BsTextareaT, BsFileZip,\r\n    BsCardImage, BsCameraVideo, BsSoundwave, BsStars, BsJournalCode, BsTranslate\r\n} from 'react-icons/bs';\r\n\r\nexport const tools = [\r\n    {\r\n        title: 'Rimozione Sfondo AI',\r\n        description: 'Rimuovi lo sfondo da qualsiasi immagine con un click.',\r\n        icon: BsImage,\r\n        href: '/tools/rimozione-sfondo-ai',\r\n        category: 'Immagini',\r\n        pro: true,\r\n    },\r\n    {\r\n        title: 'Clean Noise AI',\r\n        description: 'Rimuovi rumore di fondo e migliora la qualità dei tuoi audio.',\r\n        icon: BsSoundwave,\r\n        href: '/tools/clean-noise-ai',\r\n        category: 'Audio',\r\n        pro: true,\r\n    },\r\n    {\r\n        title: 'Generazione Immagini AI',\r\n        description: 'Crea immagini uniche da una descrizione testuale.',\r\n        icon: BsStars,\r\n        href: '/tools/generazione-immagini-ai',\r\n        category: 'Immagini',\r\n        pro: true,\r\n    },\r\n    {\r\n        title: 'Trascrizione Audio',\r\n        description: 'Converti file audio e vocali in testo modificabile.',\r\n        icon: BsSoundwave,\r\n        href: '/tools/trascrizione-audio',\r\n        category: 'Audio',\r\n    },\r\n    {\r\n        title: 'OCR Avanzato AI',\r\n        description: 'Estrai testo da immagini, PDF e documenti scansionati.',\r\n        icon: BsJournalCode,\r\n        href: '/tools/ocr-avanzato-ai',\r\n        category: 'Testo',\r\n        pro: true,\r\n    },\r\n    {\r\n        title: 'Traduzione Documenti AI',\r\n        description: 'Traduci interi documenti mantenendo la formattazione.',\r\n        icon: BsTranslate,\r\n        href: '/tools/traduzione-documenti-ai',\r\n        category: 'Testo',\r\n        pro: true,\r\n    },\r\n    {\r\n        title: 'Riassunto Testo',\r\n        description: 'Sintetizza testi lunghi in riassunti chiari e concisi.',\r\n        icon: BsTextParagraph,\r\n        href: '/tools/riassunto-testo',\r\n        category: 'Testo',\r\n    },\r\n    {\r\n        title: 'Traduci Testo',\r\n        description: 'Traduzioni multilingua istantanee per testi e frasi.',\r\n        icon: BsTranslate,\r\n        href: '/tools/traduci-testo',\r\n        category: 'Testo',\r\n    },\r\n    {\r\n        title: 'Correttore Grammaticale',\r\n        description: 'Correggi errori grammaticali e migliora lo stile del tuo testo.',\r\n        icon: BsSpellcheck,\r\n        href: '/tools/correttore-grammaticale',\r\n        category: 'Testo',\r\n    },\r\n    {\r\n        title: 'Elabora e Riassumi',\r\n        description: 'Analisi e sintesi avanzata di documenti e articoli.',\r\n        icon: BsTextareaT,\r\n        href: '/tools/elabora-e-riassumi',\r\n        category: 'Testo',\r\n        pro: true,\r\n    },\r\n    {\r\n        title: 'Combina/Splitta PDF',\r\n        description: 'Unisci più PDF in un unico file o dividi un PDF in più parti.',\r\n        icon: BsFileZip,\r\n        href: '/tools/combina-splitta-pdf',\r\n        category: 'PDF',\r\n    },\r\n    {\r\n        title: 'Thumbnail Generator',\r\n        description: 'Crea miniature accattivanti per video e social media.',\r\n        icon: BsCardImage,\r\n        href: '/tools/thumbnail-generator',\r\n        category: 'Immagini',\r\n        pro: true,\r\n    },\r\n    {\r\n        title: 'Compressione Video',\r\n        description: 'Riduci le dimensioni dei tuoi file video senza perdere qualità.',\r\n        icon: BsCameraVideo,\r\n        href: '/tools/compressione-video',\r\n        category: 'Video',\r\n        pro: true,\r\n    },\r\n    {\r\n        title: 'Upscaler AI',\r\n        description: 'Migliora la risoluzione delle tue immagini fino a 4x.',\r\n        icon: BsArrowsAngleContract,\r\n        href: '/tools/upscaler-ai',\r\n        category: 'Immagini',\r\n        pro: true,\r\n    },\r\n    {\r\n        title: 'Convertitore PDF',\r\n        description: 'Converti facilmente file da e verso PDF: JPG, DOCX e altri formati.',\r\n        icon: BsFileEarmarkPdf,\r\n        href: '/pdf',\r\n        category: 'PDF',\r\n    }\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;;AAMO,MAAM,QAAQ;IACjB;QACI,OAAO;QACP,aAAa;QACb,MAAM,kJAAO;QACb,MAAM;QACN,UAAU;QACV,KAAK;IACT;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,sJAAW;QACjB,MAAM;QACN,UAAU;QACV,KAAK;IACT;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,kJAAO;QACb,MAAM;QACN,UAAU;QACV,KAAK;IACT;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,sJAAW;QACjB,MAAM;QACN,UAAU;IACd;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,wJAAa;QACnB,MAAM;QACN,UAAU;QACV,KAAK;IACT;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,sJAAW;QACjB,MAAM;QACN,UAAU;QACV,KAAK;IACT;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,0JAAe;QACrB,MAAM;QACN,UAAU;IACd;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,sJAAW;QACjB,MAAM;QACN,UAAU;IACd;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,uJAAY;QAClB,MAAM;QACN,UAAU;IACd;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,sJAAW;QACjB,MAAM;QACN,UAAU;QACV,KAAK;IACT;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,oJAAS;QACf,MAAM;QACN,UAAU;IACd;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,sJAAW;QACjB,MAAM;QACN,UAAU;QACV,KAAK;IACT;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,wJAAa;QACnB,MAAM;QACN,UAAU;QACV,KAAK;IACT;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,gKAAqB;QAC3B,MAAM;QACN,UAAU;QACV,KAAK;IACT;IACA;QACI,OAAO;QACP,aAAa;QACb,MAAM,2JAAgB;QACtB,MAAM;QACN,UAAU;IACd;CACH"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/lib/conversionRegistry.js"],"sourcesContent":["// Registry of conversion tool pages for SEO.\r\n// Each entry defines a slug (URL under /tools/), title, description, category, and targetFormat.\r\n// Initially many formats will fallback to placeholder conversion until native implementation is added.\r\n\r\nexport const conversionTools = [\r\n    // Full Image list from request (slugs normalized)\r\n    { slug: '3fr-converter', title: '3FR Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Hasselblad 3FR RAW images to JPG/PNG.' },\r\n    { slug: 'arw-converter', title: 'ARW Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Sony ARW RAW images to JPG/PNG.' },\r\n    { slug: 'avif-converter', title: 'AVIF Converter', category: 'Image', targetFormat: 'avif', description: 'Convert images to AVIF or from AVIF to JPG/PNG (if supported by sharp).' },\r\n    { slug: 'cr2-converter', title: 'CR2 Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Canon CR2 RAW images to JPG/PNG.' },\r\n    { slug: 'cr3-converter', title: 'CR3 Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Canon CR3 RAW images to JPG/PNG.' },\r\n    { slug: 'crw-converter', title: 'CRW Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Canon CRW RAW images to JPG/PNG.' },\r\n    { slug: 'dcr-converter', title: 'DCR Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Kodak DCR RAW images to JPG/PNG.' },\r\n    { slug: 'dng-converter', title: 'DNG Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Adobe DNG RAW images to JPG/PNG.' },\r\n    { slug: 'eps-converter', title: 'EPS Converter', category: 'Vector', targetFormat: 'pdf', description: 'Converti file EPS in PDF o PNG mantenendo la qualità vettoriale.' },\r\n    { slug: 'erf-converter', title: 'ERF Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Epson ERF RAW images to JPG/PNG.' },\r\n    { slug: 'heif-converter', title: 'HEIF Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert HEIF to JPG/PNG (support depends on libvips build).' },\r\n    { slug: 'icns-converter', title: 'ICNS Converter', category: 'Image', targetFormat: 'png', description: 'Convert Apple ICNS icons to PNG.' },\r\n    { slug: 'ico-converter', title: 'ICO Converter', category: 'Image', targetFormat: 'png', description: 'Convert Windows ICO icons to PNG.' },\r\n    { slug: 'jfif-converter', title: 'JFIF Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert JFIF images to JPG/PNG.' },\r\n    { slug: 'mos-converter', title: 'MOS Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Leaf MOS RAW images to JPG/PNG.' },\r\n    { slug: 'mrw-converter', title: 'MRW Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Minolta MRW RAW images to JPG/PNG.' },\r\n    { slug: 'nef-converter', title: 'NEF Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Nikon NEF RAW images to JPG/PNG.' },\r\n    { slug: 'odd-converter', title: 'ODD Converter', category: 'Vector', targetFormat: 'pdf', description: 'Converti template di disegno OpenDocument (ODD) in PDF o PNG.' },\r\n    { slug: 'odg-converter', title: 'ODG Converter', category: 'Vector', targetFormat: 'pdf', description: 'Converti disegni ODG in PDF o PNG preservando gli elementi grafici.' },\r\n    { slug: 'orf-converter', title: 'ORF Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Olympus ORF RAW images to JPG/PNG.' },\r\n    { slug: 'pef-converter', title: 'PEF Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Pentax PEF RAW images to JPG/PNG.' },\r\n    { slug: 'ppm-converter', title: 'PPM Converter', category: 'Image', targetFormat: 'png', description: 'Convert PPM images to PNG/JPG.' },\r\n    { slug: 'ps-converter', title: 'PS Converter', category: 'Vector', targetFormat: 'pdf', description: 'Converti file PostScript (PS) in PDF o PNG ad alta risoluzione.' },\r\n    { slug: 'psd-converter', title: 'PSD Converter', category: 'Image', targetFormat: 'png', description: 'Convert Adobe PSD to PNG/JPG (flatten).'},\r\n    { slug: 'pub-converter', title: 'PUB Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti Microsoft Publisher (PUB) in PDF preservando layout e grafica.'},\r\n    { slug: 'raf-converter', title: 'RAF Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Fuji RAF RAW to JPG/PNG.'},\r\n    { slug: 'raw-converter', title: 'RAW Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert various RAW formats to JPG/PNG (best-effort).'},\r\n    { slug: 'rw2-converter', title: 'RW2 Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Panasonic RW2 RAW to JPG/PNG.'},\r\n    { slug: 'tif-converter', title: 'TIF Converter', category: 'Image', targetFormat: 'tiff', description: 'Convert TIF/TIFF images to PNG/JPG or viceversa.' },\r\n    { slug: 'x3f-converter', title: 'X3F Converter', category: 'Image', targetFormat: 'jpg', description: 'Convert Sigma X3F RAW to JPG/PNG.' },\r\n    { slug: 'xcf-converter', title: 'XCF Converter', category: 'Image', targetFormat: 'png', description: 'Convert GIMP XCF to PNG/JPG (flatten).'},\r\n    { slug: 'xps-converter', title: 'XPS Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti XPS in PDF mantenendo formattazione e immagini.'},\r\n\r\n    // Vector additions\r\n    { slug: 'ai-converter', title: 'AI Converter', category: 'Vector', targetFormat: 'pdf', description: 'Converti file Adobe Illustrator (AI) in PDF o PNG ad alta qualità.'},\r\n    { slug: 'cdr-converter', title: 'CDR Converter', category: 'Vector', targetFormat: 'pdf', description: 'Converti disegni CorelDRAW (CDR) in PDF o PNG preservando i vettori.'},\r\n    { slug: 'cgm-converter', title: 'CGM Converter', category: 'Vector', targetFormat: 'pdf', description: 'Converti grafici CGM in PDF o PNG mantenendo la qualità vettoriale.'},\r\n    { slug: 'emf-converter', title: 'EMF Converter', category: 'Vector', targetFormat: 'png', description: 'Converti file EMF (Enhanced Metafile) in PNG o PDF.'},\r\n    { slug: 'sk-converter', title: 'SK Converter', category: 'Vector', targetFormat: 'pdf', description: 'Converti file SK in PDF o PNG preservando gli elementi grafici.'},\r\n    { slug: 'sk1-converter', title: 'SK1 Converter', category: 'Vector', targetFormat: 'pdf', description: 'Converti file SK1 in PDF o PNG ad alta risoluzione.'},\r\n    { slug: 'svgz-converter', title: 'SVGZ Converter', category: 'Vector', targetFormat: 'svg', description: 'Convert SVGZ (compressed SVG) to SVG/PNG.'},\r\n    { slug: 'vsd-converter', title: 'VSD Converter', category: 'Vector', targetFormat: 'pdf', description: 'Converti diagrammi Microsoft Visio (VSD) in PDF o PNG.'},\r\n    { slug: 'wmf-converter', title: 'WMF Converter', category: 'Vector', targetFormat: 'png', description: 'Converti file WMF (Windows Metafile) in PNG o PDF.'},\r\n\r\n    // Video list (map to common targets)\r\n    { slug: '3g2-converter', title: '3G2 Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert 3G2 videos to MP4 or WEBM.'},\r\n    { slug: '3gp-converter', title: '3GP Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert 3GP videos to MP4 or WEBM.'},\r\n    { slug: '3gpp-converter', title: '3GPP Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert 3GPP videos to MP4 or WEBM.'},\r\n    { slug: 'cavs-converter', title: 'CAVS Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert CAVS to MP4 (best-effort).'},\r\n    { slug: 'dv-converter', title: 'DV Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert DV to MP4.'},\r\n    { slug: 'dvr-converter', title: 'DVR Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert DVR MS to MP4 (best-effort).'},\r\n    { slug: 'flv-converter', title: 'FLV Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert FLV to MP4 or WEBM.'},\r\n    { slug: 'm2ts-converter', title: 'M2TS Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert M2TS to MP4.'},\r\n    { slug: 'm4v-converter', title: 'M4V Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert M4V to MP4.'},\r\n    { slug: 'mkv-converter', title: 'MKV Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert MKV to MP4 or WEBM.'},\r\n    { slug: 'mod-converter', title: 'MOD Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert MOD to MP4 (best-effort).'},\r\n    { slug: 'mov-converter', title: 'MOV Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert MOV to MP4 or WEBM.'},\r\n    { slug: 'mpeg-converter', title: 'MPEG Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert MPEG to MP4.'},\r\n    { slug: 'mpg-converter', title: 'MPG Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert MPG to MP4.'},\r\n    { slug: 'mts-converter', title: 'MTS Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert MTS to MP4.'},\r\n    { slug: 'mxf-converter', title: 'MXF Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert MXF to MP4 (best-effort).'},\r\n    { slug: 'ogg-converter', title: 'OGG Converter', category: 'Video', targetFormat: 'webm', description: 'Convert OGG videos to WEBM (or audio OGG to OGG).'},\r\n    { slug: 'rm-converter', title: 'RM Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert RealMedia RM to MP4 (best-effort).'},\r\n    { slug: 'rmvb-converter', title: 'RMVB Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert RMVB to MP4 (best-effort).'},\r\n    { slug: 'swf-converter', title: 'SWF Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert SWF to MP4 (best-effort).'},\r\n    { slug: 'ts-converter', title: 'TS Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert TS transport streams to MP4.'},\r\n    { slug: 'vob-converter', title: 'VOB Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert VOB (DVD) to MP4.'},\r\n    { slug: 'wmv-converter', title: 'WMV Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert WMV to MP4.'},\r\n    { slug: 'wtv-converter', title: 'WTV Converter', category: 'Video', targetFormat: 'mp4', description: 'Convert WTV to MP4 (best-effort).'},\r\n\r\n    // Archive list (creation-focused)\r\n    { slug: '7z-converter', title: '7Z Converter', category: 'Archive', targetFormat: '7z', description: 'Crea o estrai archivi 7Z compressi ad alta efficienza.' },\r\n    { slug: 'ace-converter', title: 'ACE Converter', category: 'Archive', targetFormat: 'ace', description: 'Gestisci archivi ACE: crea o estrai file compressi.' },\r\n    { slug: 'alz-converter', title: 'ALZ Converter', category: 'Archive', targetFormat: 'alz', description: 'Converti o estrai archivi ALZ compressi.' },\r\n    { slug: 'arc-converter', title: 'ARC Converter', category: 'Archive', targetFormat: 'arc', description: 'Gestisci archivi ARC: crea o estrai contenuti.' },\r\n    { slug: 'arj-converter', title: 'ARJ Converter', category: 'Archive', targetFormat: 'arj', description: 'Crea o estrai archivi ARJ compressi.' },\r\n    { slug: 'bz-converter', title: 'BZ Converter', category: 'Archive', targetFormat: 'bz', description: 'Comprimi file usando l\\'algoritmo Bzip.' },\r\n    { slug: 'bz2-converter', title: 'BZ2 Converter', category: 'Archive', targetFormat: 'bz2', description: 'Comprimi file con Bzip2 per massima compressione.' },\r\n    { slug: 'cab-converter', title: 'CAB Converter', category: 'Archive', targetFormat: 'cab', description: 'Gestisci archivi CAB di Windows: crea o estrai.' },\r\n    { slug: 'cpio-converter', title: 'CPIO Converter', category: 'Archive', targetFormat: 'cpio', description: 'Crea o estrai archivi CPIO Unix/Linux.' },\r\n    { slug: 'deb-converter', title: 'DEB Converter', category: 'Archive', targetFormat: 'deb', description: 'Gestisci pacchetti DEB Debian: estrai o crea.' },\r\n    { slug: 'dmg-converter', title: 'DMG Converter', category: 'Archive', targetFormat: 'dmg', description: 'Gestisci immagini disco DMG di macOS.' },\r\n    { slug: 'img-converter', title: 'IMG Converter', category: 'Archive', targetFormat: 'img', description: 'Gestisci immagini disco IMG: estrai o crea.' },\r\n    { slug: 'iso-converter', title: 'ISO Converter', category: 'Archive', targetFormat: 'iso', description: 'Gestisci immagini ISO: estrai contenuti o crea nuove immagini.' },\r\n    { slug: 'jar-converter', title: 'JAR Converter', category: 'Archive', targetFormat: 'jar', description: 'JAR archive creation (zip-based).'},\r\n    { slug: 'lha-converter', title: 'LHA Converter', category: 'Archive', targetFormat: 'lha', description: 'Gestisci archivi LHA: crea o estrai file compressi.'},\r\n    { slug: 'lz-converter', title: 'LZ Converter', category: 'Archive', targetFormat: 'lz', description: 'Comprimi file usando l\\'algoritmo LZ.'},\r\n    { slug: 'lzma-converter', title: 'LZMA Converter', category: 'Archive', targetFormat: 'lzma', description: 'Comprimi file con LZMA per alta compressione.'},\r\n    { slug: 'lzo-converter', title: 'LZO Converter', category: 'Archive', targetFormat: 'lzo', description: 'Comprimi file con LZO per compressione veloce.'},\r\n    { slug: 'rar-converter', title: 'RAR Converter', category: 'Archive', targetFormat: 'rar', description: 'Gestisci archivi RAR: estrai contenuti compressi.' },\r\n    { slug: 'rpm-converter', title: 'RPM Converter', category: 'Archive', targetFormat: 'rpm', description: 'Gestisci pacchetti RPM: estrai o crea pacchetti.' },\r\n    { slug: 'rz-converter', title: 'RZ Converter', category: 'Archive', targetFormat: 'rz', description: 'Comprimi file usando l\\'algoritmo Rzip.' },\r\n    { slug: 'tar-7z-converter', title: 'TAR.7Z Converter', category: 'Archive', targetFormat: '7z', description: 'Crea archivi .tar.7z combinando TAR e compressione 7Z.' },\r\n    { slug: 'tar-bz-converter', title: 'TAR.BZ Converter', category: 'Archive', targetFormat: 'tar.bz', description: 'Crea archivi .tar.bz combinando TAR e Bzip.' },\r\n    { slug: 'tar-bz2-converter', title: 'TAR.BZ2 Converter', category: 'Archive', targetFormat: 'tar.bz2', description: 'Crea archivi .tar.bz2 combinando TAR e Bzip2.' },\r\n    { slug: 'tar-gz-converter', title: 'TAR.GZ Converter', category: 'Archive', targetFormat: 'tgz', description: 'Create .tar.gz (tgz) archives from files.' },\r\n    { slug: 'tar-lzo-converter', title: 'TAR.LZO Converter', category: 'Archive', targetFormat: 'tar.lzo', description: 'Crea archivi .tar.lzo combinando TAR e LZO.' },\r\n    { slug: 'tar-xz-converter', title: 'TAR.XZ Converter', category: 'Archive', targetFormat: 'tar.xz', description: 'Crea archivi .tar.xz combinando TAR e XZ.' },\r\n    { slug: 'tar-z-converter', title: 'TAR.Z Converter', category: 'Archive', targetFormat: 'tar.z', description: 'Crea archivi .tar.Z combinando TAR e compress Unix.' },\r\n    { slug: 'tbz-converter', title: 'TBZ Converter', category: 'Archive', targetFormat: 'tbz', description: 'Comprimi file in formato TBZ (TAR + Bzip).'},\r\n    { slug: 'tbz2-converter', title: 'TBZ2 Converter', category: 'Archive', targetFormat: 'tbz2', description: 'Comprimi file in formato TBZ2 (TAR + Bzip2).'},\r\n    { slug: 'tgz-converter', title: 'TGZ Converter', category: 'Archive', targetFormat: 'tgz', description: 'Create TGZ archives (tar.gz) from files.'},\r\n    { slug: 'tz-converter', title: 'TZ Converter', category: 'Archive', targetFormat: 'tz', description: 'Comprimi file in formato TZ compresso.'},\r\n    { slug: 'tzo-converter', title: 'TZO Converter', category: 'Archive', targetFormat: 'tzo', description: 'Comprimi file in formato TZO compresso.'},\r\n    { slug: 'xz-converter', title: 'XZ Converter', category: 'Archive', targetFormat: 'xz', description: 'Comprimi file con XZ per massima compressione.'},\r\n    { slug: 'z-converter', title: 'Z Converter', category: 'Archive', targetFormat: 'z', description: 'Comprimi file in formato Unix .Z compresso.'},\r\n\r\n    // Audio list\r\n    { slug: 'aac-converter', title: 'AAC Converter', category: 'Audio', targetFormat: 'aac', description: 'Convert audio to AAC/M4A (best-effort).' },\r\n    { slug: 'ac3-converter', title: 'AC3 Converter', category: 'Audio', targetFormat: 'mp3', description: 'Convert AC3 to MP3/WAV.' },\r\n    { slug: 'aif-converter', title: 'AIF Converter', category: 'Audio', targetFormat: 'wav', description: 'Convert AIF to WAV/MP3.' },\r\n    { slug: 'aifc-converter', title: 'AIFC Converter', category: 'Audio', targetFormat: 'wav', description: 'Convert AIFC to WAV/MP3.' },\r\n    { slug: 'aiff-converter', title: 'AIFF Converter', category: 'Audio', targetFormat: 'wav', description: 'Convert AIFF to WAV/MP3.' },\r\n    { slug: 'amr-converter', title: 'AMR Converter', category: 'Audio', targetFormat: 'mp3', description: 'Convert AMR to MP3/WAV.' },\r\n    { slug: 'au-converter', title: 'AU Converter', category: 'Audio', targetFormat: 'wav', description: 'Convert AU to WAV/MP3.' },\r\n    { slug: 'caf-converter', title: 'CAF Converter', category: 'Audio', targetFormat: 'wav', description: 'Convert CAF to WAV/MP3.' },\r\n    { slug: 'dss-converter', title: 'DSS Converter', category: 'Audio', targetFormat: 'mp3', description: 'Convert DSS to MP3/WAV (best-effort).' },\r\n    { slug: 'flac-converter', title: 'FLAC Converter', category: 'Audio', targetFormat: 'flac', description: 'Convert audio to/from FLAC.' },\r\n    { slug: 'm4a-converter', title: 'M4A Converter', category: 'Audio', targetFormat: 'm4a', description: 'Convert audio to M4A (AAC).' },\r\n    { slug: 'm4b-converter', title: 'M4B Converter', category: 'Audio', targetFormat: 'm4b', description: 'Converti audiolibri in formato M4B con capitoli e segnalibri.' },\r\n    { slug: 'mp3-converter', title: 'MP3 Converter', category: 'Audio', targetFormat: 'mp3', description: 'Convert audio to MP3 (bitrate configurabile).' },\r\n    { slug: 'oga-converter', title: 'OGA Converter', category: 'Audio', targetFormat: 'ogg', description: 'Convert audio to OGG (Opus).' },\r\n    { slug: 'voc-converter', title: 'VOC Converter', category: 'Audio', targetFormat: 'wav', description: 'Convert VOC to WAV (best-effort).' },\r\n    { slug: 'weba-converter', title: 'WEBA Converter', category: 'Audio', targetFormat: 'weba', description: 'Convert audio to WEBA (OGG/Opus).' },\r\n    { slug: 'wma-converter', title: 'WMA Converter', category: 'Audio', targetFormat: 'mp3', description: 'Convert WMA to MP3/WAV.' },\r\n\r\n    // Document additions\r\n    { slug: 'abw-converter', title: 'ABW Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti AbiWord (ABW) in PDF preservando formattazione e layout.' },\r\n    { slug: 'djvu-converter', title: 'DJVU Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti file DJVU in PDF mantenendo immagini e testo ad alta qualità.' },\r\n    { slug: 'doc-converter', title: 'DOC Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti Word legacy (DOC) in PDF moderni.' },\r\n    { slug: 'docm-converter', title: 'DOCM Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti DOCM in PDF (le macro vengono rimosse per sicurezza).' },\r\n    { slug: 'dot-converter', title: 'DOT Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti template Word (DOT) in PDF preservando lo stile.' },\r\n    { slug: 'dotx-converter', title: 'DOTX Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti template Word moderni (DOTX) in PDF.' },\r\n    { slug: 'html-converter', title: 'HTML Converter', category: 'Document', targetFormat: 'html', description: 'Converti tra HTML/MD/TXT/PDF.' },\r\n    { slug: 'hwp-converter', title: 'HWP Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti HWP (Hancom Word) in PDF preservando formattazione.'},\r\n    { slug: 'lwp-converter', title: 'LWP Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti LWP in PDF mantenendo layout e stili.'},\r\n    { slug: 'md-converter', title: 'MD Converter', category: 'Document', targetFormat: 'md', description: 'Converti documenti tra Markdown, HTML e PDF.'},\r\n    { slug: 'odt-converter', title: 'ODT Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti OpenDocument (ODT) in PDF ad alta qualità.'},\r\n    { slug: 'pages-converter', title: 'PAGES Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti Apple Pages in PDF preservando design e formattazione.'},\r\n    { slug: 'rst-converter', title: 'RST Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti file reStructuredText in PDF per documentazione professionale.'},\r\n    { slug: 'rtf-converter', title: 'RTF Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti RTF (Rich Text Format) in PDF mantenendo formattazione.'},\r\n    { slug: 'tex-converter', title: 'TEX Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti LaTeX (TEX) in PDF preservando formule e layout.'},\r\n    { slug: 'wpd-converter', title: 'WPD Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti WordPerfect (WPD) in PDF moderni.'},\r\n    { slug: 'wps-converter', title: 'WPS Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti documenti WPS in PDF preservando contenuto e formattazione.'},\r\n    { slug: 'zabw-converter', title: 'ZABW Converter', category: 'Document', targetFormat: 'pdf', description: 'Converti archivi compressi ABW (ZABW) in PDF.'},\r\n\r\n    // Ebook\r\n    { slug: 'azw-converter', title: 'AZW Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook Kindle (AZW) in formato EPUB universale.' },\r\n    { slug: 'azw3-converter', title: 'AZW3 Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook AZW3 di Amazon in EPUB per lettura su qualsiasi dispositivo.' },\r\n    { slug: 'azw4-converter', title: 'AZW4 Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook AZW4 in formato EPUB standard.' },\r\n    { slug: 'cbc-converter', title: 'CBC Converter', category: 'Ebook', targetFormat: 'cbz', description: 'Converti fumetti CBC in formato CBZ compresso.' },\r\n    { slug: 'cbr-converter', title: 'CBR Converter', category: 'Ebook', targetFormat: 'cbz', description: 'Converti fumetti CBR (RAR) in formato CBZ (ZIP) universale.' },\r\n    { slug: 'cbz-converter', title: 'CBZ Converter', category: 'Ebook', targetFormat: 'cbz', description: 'Crea archivi CBZ per fumetti da immagini.' },\r\n    { slug: 'chm-converter', title: 'CHM Converter', category: 'Ebook', targetFormat: 'pdf', description: 'Converti file CHM (help di Windows) in PDF per lettura universale.' },\r\n    { slug: 'epub-converter', title: 'EPUB Converter', category: 'Ebook', targetFormat: 'epub', description: 'Gestisci ebook EPUB: converti da e verso altri formati ebook.' },\r\n    { slug: 'fb2-converter', title: 'FB2 Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook FictionBook (FB2) in formato EPUB.' },\r\n    { slug: 'htm-converter', title: 'HTM Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti pagine HTML/HTM in ebook EPUB strutturati.' },\r\n    { slug: 'htmlz-converter', title: 'HTMLZ Converter', category: 'Ebook', targetFormat: 'htmlz', description: 'Crea archivi HTMLZ (HTML compresso) per ebook.'},\r\n    { slug: 'lit-converter', title: 'LIT Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook Microsoft LIT in formato EPUB moderno.'},\r\n    { slug: 'lrf-converter', title: 'LRF Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook Sony LRF in formato EPUB universale.'},\r\n    { slug: 'mobi-converter', title: 'MOBI Converter', category: 'Ebook', targetFormat: 'mobi', description: 'Converti ebook EPUB in formato MOBI per Kindle.'},\r\n    { slug: 'pdb-converter', title: 'PDB Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook Palm (PDB) in formato EPUB.'},\r\n    { slug: 'pml-converter', title: 'PML Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook PML in formato EPUB standard.'},\r\n    { slug: 'prc-converter', title: 'PRC Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook PRC in formato EPUB universale.'},\r\n    { slug: 'rb-converter', title: 'RB Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook RocketBook (RB) in formato EPUB.'},\r\n    { slug: 'snb-converter', title: 'SNB Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook SNB in formato EPUB standard.'},\r\n    { slug: 'tcr-converter', title: 'TCR Converter', category: 'Ebook', targetFormat: 'epub', description: 'Converti ebook TCR in formato EPUB universale.'},\r\n    { slug: 'txtz-converter', title: 'TXTZ Converter', category: 'Ebook', targetFormat: 'txtz', description: 'Crea archivi TXTZ (testo compresso) per ebook.'},\r\n  // Presentation\r\n  { slug: 'dps-converter', title: 'DPS Converter', category: 'Presentation', targetFormat: 'dps', description: 'Convert DPS presentation files to and from PPTX, PPT, PDF easily online.' },\r\n  { slug: 'key-converter', title: 'KEY Converter', category: 'Presentation', targetFormat: 'key', description: 'Convert Apple Keynote KEY files to PPTX or PDF preserving layout.' },\r\n  { slug: 'odp-converter', title: 'ODP Converter', category: 'Presentation', targetFormat: 'odp', description: 'Transform OpenDocument presentations (ODP) into PPTX, PDF and vice versa.' },\r\n  { slug: 'pot-converter', title: 'POT Converter', category: 'Presentation', targetFormat: 'pot', description: 'Convert legacy PowerPoint template POT files to modern PPTX or PDF.' },\r\n  { slug: 'potx-converter', title: 'POTX Converter', category: 'Presentation', targetFormat: 'potx', description: 'Convert POTX templates to PPTX presentations or PDF handouts.' },\r\n  { slug: 'pps-converter', title: 'PPS Converter', category: 'Presentation', targetFormat: 'pps', description: 'Convert PPS show files to editable PPTX or PDF.' },\r\n  { slug: 'ppsx-converter', title: 'PPSX Converter', category: 'Presentation', targetFormat: 'ppsx', description: 'Convert PPSX slide shows to PPTX or PDF quickly.' },\r\n  { slug: 'ppt-converter', title: 'PPT Converter', category: 'Presentation', targetFormat: 'ppt', description: 'Convert legacy PPT files to PPTX or PDF retaining content.' },\r\n  { slug: 'pptm-converter', title: 'PPTM Converter', category: 'Presentation', targetFormat: 'pptm', description: 'Convert PPTM macro-enabled presentations to PPTX or PDF (macros excluded).' },\r\n  { slug: 'pptx-converter', title: 'PPTX Converter', category: 'Presentation', targetFormat: 'pptx', description: 'Convert PPTX presentations to PDF, or other formats (initial support: PDF).' },\r\n\r\n  // Spreadsheet\r\n  { slug: 'csv-converter', title: 'CSV Converter', category: 'Spreadsheet', targetFormat: 'csv', description: 'Convert CSV data to XLSX or PDF tables and back.' },\r\n  { slug: 'et-converter', title: 'ET Converter', category: 'Spreadsheet', targetFormat: 'et', description: 'Convert Kingsoft ET spreadsheet files to XLSX or PDF.' },\r\n  { slug: 'numbers-converter', title: 'NUMBERS Converter', category: 'Spreadsheet', targetFormat: 'numbers', description: 'Convert Apple Numbers documents to XLSX or PDF.' },\r\n  { slug: 'ods-converter', title: 'ODS Converter', category: 'Spreadsheet', targetFormat: 'ods', description: 'Convert OpenDocument spreadsheets (ODS) to XLSX or PDF.' },\r\n  { slug: 'xls-converter', title: 'XLS Converter', category: 'Spreadsheet', targetFormat: 'xls', description: 'Convert legacy Excel XLS files to modern XLSX or PDF.' },\r\n  { slug: 'xlsm-converter', title: 'XLSM Converter', category: 'Spreadsheet', targetFormat: 'xlsm', description: 'Convert XLSM macro-enabled workbooks to XLSX or PDF (macros excluded).' },\r\n  { slug: 'xlsx-converter', title: 'XLSX Converter', category: 'Spreadsheet', targetFormat: 'xlsx', description: 'Convert XLSX spreadsheets to PDF or CSV (initial support: PDF, CSV).' },\r\n\r\n  // Image (subset initially supported; raw formats)\r\n  { slug: 'png-converter', title: 'PNG Converter', category: 'Image', targetFormat: 'png', description: 'Converti immagini in PNG ottimizzato o da PNG a JPG, WEBP.' },\r\n  { slug: 'jpg-converter', title: 'JPG Converter', category: 'Image', targetFormat: 'jpg', description: 'Converti immagini in JPG con qualità regolabile per file più leggeri.' },\r\n  { slug: 'jpeg-converter', title: 'JPEG Converter', category: 'Image', targetFormat: 'jpeg', description: 'Converti immagini in formato JPEG controllando qualità e dimensione.' },\r\n  { slug: 'webp-converter', title: 'WEBP Converter', category: 'Image', targetFormat: 'webp', description: 'Converti immagini in formato WEBP moderno per ottimizzazione web.' },\r\n  { slug: 'gif-converter', title: 'GIF Converter', category: 'Image', targetFormat: 'gif', description: 'Converti immagini statiche in GIF (supporto animazioni in arrivo).' },\r\n  { slug: 'heic-converter', title: 'HEIC Converter', category: 'Image', targetFormat: 'heic', description: 'Converti foto HEIC (iPhone) in JPG o PNG per compatibilità universale.' },\r\n  { slug: 'tiff-converter', title: 'TIFF Converter', category: 'Image', targetFormat: 'tiff', description: 'Converti immagini TIFF ad alta qualità in PNG, JPG o PDF.' },\r\n  { slug: 'bmp-converter', title: 'BMP Converter', category: 'Image', targetFormat: 'bmp', description: 'Converti immagini BMP in PNG o JPG compressi per risparmiare spazio.' },\r\n  { slug: 'raw-converter', title: 'RAW Converter', category: 'Image', targetFormat: 'raw', description: 'Converti formati RAW delle fotocamere in JPG o PNG processati.' },\r\n\r\n  // Vector - duplicati rimossi, già presenti sopra\r\n\r\n  // Video (initial support limited to container remux via ffmpeg if available)\r\n  { slug: 'mp4-converter', title: 'MP4 Converter', category: 'Video', targetFormat: 'mp4', description: 'Converti video in MP4 (H.264/AAC) con risoluzione e qualità regolabili.' },\r\n  { slug: 'webm-converter', title: 'WEBM Converter', category: 'Video', targetFormat: 'webm', description: 'Converti video in WEBM (VP9/Opus) ottimizzato per web.' },\r\n  { slug: 'avi-converter', title: 'AVI Converter', category: 'Video', targetFormat: 'avi', description: 'Converti video in formato AVI legacy per compatibilità.' },\r\n\r\n  // Archive (initial: zip create/extract) - duplicati rimossi, già presenti sopra\r\n\r\n  // Audio (initial conversion using ffmpeg if available) - duplicati rimossi, già presenti sopra\r\n\r\n  // Document conversions\r\n  { slug: 'docx-converter', title: 'DOCX Converter', category: 'Document', targetFormat: 'docx', description: 'Converti documenti in formato DOCX (Word) preservando formattazione e stili.' },\r\n  { slug: 'txt-converter', title: 'TXT Converter', category: 'Document', targetFormat: 'txt', description: 'Converti documenti in testo semplice (TXT) estraendo solo il contenuto testuale.' },\r\n  { slug: 'md-converter', title: 'MD Converter', category: 'Document', targetFormat: 'md', description: 'Converti documenti o HTML in formato Markdown per documentazione e note.' },\r\n  { slug: 'html-converter', title: 'HTML Converter', category: 'Document', targetFormat: 'html', description: 'Converti Markdown o testo in pagine HTML con formattazione completa.' },\r\n\r\n  // Ebook (duplicati rimossi - già presenti sopra)\r\n  { slug: 'cbz-converter', title: 'CBZ Converter', category: 'Ebook', targetFormat: 'cbz', description: 'Create comic book CBZ archive from images.' },\r\n\r\n  // Font (initial: ttf/otf -> woff/woff2 if library available)\r\n  { slug: 'ttf-converter', title: 'TTF Converter', category: 'Font', targetFormat: 'ttf', description: 'Converti font TTF in WOFF/WOFF2 per web o viceversa.' },\r\n  { slug: 'otf-converter', title: 'OTF Converter', category: 'Font', targetFormat: 'otf', description: 'Converti font OTF in TTF o WOFF per compatibilità web.' },\r\n  { slug: 'woff-converter', title: 'WOFF Converter', category: 'Font', targetFormat: 'woff', description: 'Convert fonts to web-optimized WOFF format.' },\r\n  { slug: 'woff2-converter', title: 'WOFF2 Converter', category: 'Font', targetFormat: 'woff2', description: 'Convert fonts to modern compressed WOFF2 format.' },\r\n  { slug: 'eot-converter', title: 'EOT Converter', category: 'Font', targetFormat: 'eot', description: 'Convert fonts to legacy EOT format for older browsers.' },\r\n\r\n  // PDF Tools - Convertitori specifici per PDF\r\n  { slug: 'pdf-to-powerpoint', title: 'PDF to PowerPoint', category: 'PDF', targetFormat: 'pptx', description: 'Converti documenti PDF in presentazioni PowerPoint modificabili (PPTX).' },\r\n  { slug: 'pdf-to-excel', title: 'PDF to Excel', category: 'PDF', targetFormat: 'xlsx', description: 'Estrai tabelle da PDF e convertile in fogli Excel modificabili (XLSX).' },\r\n  { slug: 'pdf-to-pdfa', title: 'PDF to PDF/A', category: 'PDF', targetFormat: 'pdfa', description: 'Converti PDF in formato PDF/A conforme per archiviazione a lungo termine.' },\r\n  { slug: 'pdf-to-docx', title: 'PDF to Word', category: 'PDF', targetFormat: 'docx', description: 'Converti PDF in documenti Word modificabili (DOCX) preservando la formattazione.' },\r\n  { slug: 'pdf-to-jpg', title: 'PDF to JPG', category: 'PDF', targetFormat: 'jpg', description: 'Estrai immagini da PDF e convertile in file JPG ad alta qualità.' },\r\n  { slug: 'pdf-to-png', title: 'PDF to PNG', category: 'PDF', targetFormat: 'png', description: 'Converti pagine PDF in immagini PNG mantenendo la qualità originale.' },\r\n  { slug: 'pdf-to-txt', title: 'PDF to TXT', category: 'PDF', targetFormat: 'txt', description: 'Estrai il testo da PDF e convertilo in file di testo semplice (TXT).' },\r\n  { slug: 'pdf-to-html', title: 'PDF to HTML', category: 'PDF', targetFormat: 'html', description: 'Converti PDF in pagine HTML preservando layout e formattazione.' },\r\n  \r\n  // Specific conversion tools (bidirectional) - Da altri formati a PDF\r\n  { slug: 'powerpoint-to-pdf', title: 'PowerPoint to PDF', category: 'Presentation', targetFormat: 'pdf', description: 'Converti presentazioni PowerPoint (PPT, PPTX) in PDF ad alta qualità.' },\r\n  { slug: 'excel-to-pdf', title: 'Excel to PDF', category: 'Spreadsheet', targetFormat: 'pdf', description: 'Converti fogli Excel (XLS, XLSX) in PDF preservando formattazione e tabelle.' },\r\n  { slug: 'html-to-pdf', title: 'HTML to PDF', category: 'Document', targetFormat: 'pdf', description: 'Converti pagine web HTML in documenti PDF con stili completi.' }\r\n];\r\n\r\nexport function getConversionTool(slug) {\r\n  return conversionTools.find(t => t.slug === slug);\r\n}\r\n\r\nexport function listConversionSlugs() {\r\n  return conversionTools.map(t => t.slug);\r\n}\r\n\r\n// Get all tools organized by category\r\nexport function getToolsByCategory() {\r\n  const categorized = {};\r\n  const seenSlugs = new Set(); // Per evitare duplicati\r\n  \r\n  conversionTools.forEach(tool => {\r\n    // Salta se abbiamo già visto questo slug\r\n    if (seenSlugs.has(tool.slug)) {\r\n      return;\r\n    }\r\n    seenSlugs.add(tool.slug);\r\n    \r\n    if (!categorized[tool.category]) {\r\n      categorized[tool.category] = [];\r\n    }\r\n    categorized[tool.category].push({\r\n      title: tool.title,\r\n      description: tool.description,\r\n      href: `/tools/${tool.slug}`,\r\n      category: tool.category,\r\n      targetFormat: tool.targetFormat,\r\n      slug: tool.slug // Aggiungi anche lo slug per facilitare il confronto\r\n    });\r\n  });\r\n  return categorized;\r\n}\r\n\r\n// Get all categories\r\nexport function getAllCategories() {\r\n  return [...new Set(conversionTools.map(t => t.category))];\r\n}\r\n\r\n// Get all tools as a flat array (for tools page)\r\nexport function getAllConversionTools() {\r\n  return conversionTools.map(tool => ({\r\n    title: tool.title,\r\n    description: tool.description,\r\n    href: `/tools/${tool.slug}`,\r\n    category: tool.category,\r\n    targetFormat: tool.targetFormat,\r\n    icon: null // Will use fallback icon in ToolCard\r\n  }));\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1668, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/utils/errorHandler.js"],"sourcesContent":["/**\r\n * Frontend Error Handler Utility\r\n * Provides consistent error handling and user-friendly error messages\r\n */\r\n\r\nimport { showToast } from '../components/Toast';\r\n\r\n/**\r\n * Error code to user-friendly message mapping\r\n */\r\nconst ERROR_MESSAGES = {\r\n  // Validation errors\r\n  VALIDATION_ERROR: 'I dati inseriti non sono validi',\r\n  INVALID_FILE_TYPE: 'Tipo di file non supportato',\r\n  FILE_TOO_LARGE: 'Il file è troppo grande',\r\n  \r\n  // Authentication errors\r\n  AUTHENTICATION_ERROR: 'Autenticazione richiesta',\r\n  AUTHORIZATION_ERROR: 'Non hai i permessi necessari',\r\n  \r\n  // Resource errors\r\n  NOT_FOUND: 'Risorsa non trovata',\r\n  CONFLICT: 'Conflitto: la risorsa esiste già',\r\n  \r\n  // Rate limiting\r\n  RATE_LIMIT_EXCEEDED: 'Troppe richieste. Riprova più tardi',\r\n  \r\n  // System errors\r\n  DATABASE_ERROR: 'Errore del database. Riprova più tardi',\r\n  FILE_SYSTEM_ERROR: 'Errore nel sistema di file',\r\n  NETWORK_ERROR: 'Errore di connessione. Controlla la tua connessione internet',\r\n  TIMEOUT_ERROR: 'Timeout: l\\'operazione ha richiesto troppo tempo',\r\n  PROCESSING_ERROR: 'Errore durante l\\'elaborazione',\r\n  INTERNAL_ERROR: 'Errore interno del server. Riprova più tardi',\r\n  \r\n  // Method errors\r\n  METHOD_NOT_ALLOWED: 'Metodo non consentito',\r\n};\r\n\r\n/**\r\n * Get user-friendly error message from error response\r\n */\r\nexport function getErrorMessage(error, defaultMessage = 'Si è verificato un errore') {\r\n  // If error is already a string, return it\r\n  if (typeof error === 'string') {\r\n    return error;\r\n  }\r\n\r\n  // If error has a message property\r\n  if (error?.message) {\r\n    return error.message;\r\n  }\r\n\r\n  // If error has a code, try to map it\r\n  if (error?.code && ERROR_MESSAGES[error.code]) {\r\n    return ERROR_MESSAGES[error.code];\r\n  }\r\n\r\n  // If error has an error property (from API response)\r\n  if (error?.error) {\r\n    return error.error;\r\n  }\r\n\r\n  return defaultMessage;\r\n}\r\n\r\n/**\r\n * Get error details for technical information\r\n */\r\nexport function getErrorDetails(error) {\r\n  const details = [];\r\n\r\n  if (error?.details) {\r\n    if (typeof error.details === 'object') {\r\n      details.push(JSON.stringify(error.details, null, 2));\r\n    } else {\r\n      details.push(String(error.details));\r\n    }\r\n  }\r\n\r\n  if (error?.stack && process.env.NODE_ENV === 'development') {\r\n    details.push(error.stack);\r\n  }\r\n\r\n  return details.length > 0 ? details.join('\\n\\n') : null;\r\n}\r\n\r\n/**\r\n * Handle API error response\r\n */\r\nexport async function handleApiErrorResponse(response) {\r\n  let errorData;\r\n  \r\n  try {\r\n    errorData = await response.json();\r\n  } catch (e) {\r\n    // If response is not JSON, create a generic error\r\n    errorData = {\r\n      error: `Errore ${response.status}: ${response.statusText}`,\r\n      code: 'UNKNOWN_ERROR',\r\n    };\r\n  }\r\n\r\n  // Extract error information\r\n  const errorMessage = getErrorMessage(errorData);\r\n  const errorCode = errorData.code || 'UNKNOWN_ERROR';\r\n  const errorDetails = getErrorDetails(errorData);\r\n\r\n  // Determine error type based on status code\r\n  let errorType = 'error';\r\n  if (response.status >= 400 && response.status < 500) {\r\n    // Client errors - show as warning\r\n    errorType = response.status === 401 || response.status === 403 ? 'error' : 'warning';\r\n  }\r\n\r\n  // Show toast notification\r\n  showToast(\r\n    errorMessage,\r\n    errorType,\r\n    6000, // Show for 6 seconds\r\n    {\r\n      details: errorData.details ? (typeof errorData.details === 'string' \r\n        ? errorData.details \r\n        : JSON.stringify(errorData.details, null, 2)) : null,\r\n      technical: errorDetails,\r\n    }\r\n  );\r\n\r\n  // Return error object for further handling\r\n  return {\r\n    message: errorMessage,\r\n    code: errorCode,\r\n    status: response.status,\r\n    details: errorData.details,\r\n    original: errorData,\r\n  };\r\n}\r\n\r\n/**\r\n * Wrapper for fetch with improved error handling\r\n */\r\nexport async function fetchWithErrorHandling(url, options = {}) {\r\n  try {\r\n    // Don't set Content-Type for FormData - browser will set it with boundary\r\n    const isFormData = options.body instanceof FormData;\r\n    const headers = isFormData\r\n      ? { ...options.headers }\r\n      : {\r\n          'Content-Type': 'application/json',\r\n          ...options.headers,\r\n        };\r\n\r\n    const response = await fetch(url, {\r\n      ...options,\r\n      headers,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await handleApiErrorResponse(response);\r\n      throw error;\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    // If it's already our formatted error, rethrow it\r\n    if (error.message && error.code) {\r\n      throw error;\r\n    }\r\n\r\n    // Handle network errors\r\n    if (error.name === 'TypeError' && error.message.includes('fetch')) {\r\n      const networkError = {\r\n        message: 'Errore di connessione. Controlla la tua connessione internet',\r\n        code: 'NETWORK_ERROR',\r\n        status: 0,\r\n        original: error,\r\n      };\r\n      \r\n      showToast(\r\n        networkError.message,\r\n        'error',\r\n        6000,\r\n        {\r\n          technical: process.env.NODE_ENV === 'development' ? error.stack : null,\r\n        }\r\n      );\r\n      \r\n      throw networkError;\r\n    }\r\n\r\n    // Handle abort/timeout errors\r\n    if (error.name === 'AbortError') {\r\n      const timeoutError = {\r\n        message: 'Timeout: l\\'operazione ha richiesto troppo tempo',\r\n        code: 'TIMEOUT_ERROR',\r\n        status: 408,\r\n        original: error,\r\n      };\r\n      \r\n      showToast(timeoutError.message, 'error', 6000);\r\n      throw timeoutError;\r\n    }\r\n\r\n    // Unknown error\r\n    const unknownError = {\r\n      message: error.message || 'Si è verificato un errore sconosciuto',\r\n      code: 'UNKNOWN_ERROR',\r\n      status: 500,\r\n      original: error,\r\n    };\r\n    \r\n    showToast(\r\n      unknownError.message,\r\n      'error',\r\n      6000,\r\n      {\r\n        technical: process.env.NODE_ENV === 'development' ? error.stack : null,\r\n      }\r\n    );\r\n    \r\n    throw unknownError;\r\n  }\r\n}\r\n\r\n/**\r\n * Handle error in async operations (for use in try-catch blocks)\r\n */\r\nexport function handleError(error, customMessage = null) {\r\n  const errorMessage = customMessage || getErrorMessage(error);\r\n  \r\n  showToast(\r\n    errorMessage,\r\n    'error',\r\n    6000,\r\n    {\r\n      details: error?.details ? (typeof error.details === 'string' \r\n        ? error.details \r\n        : JSON.stringify(error.details, null, 2)) : null,\r\n      technical: process.env.NODE_ENV === 'development' && error?.stack \r\n        ? error.stack \r\n        : null,\r\n    }\r\n  );\r\n\r\n  // Log error in development\r\n  if (process.env.NODE_ENV === 'development') {\r\n    console.error('Error handled:', error);\r\n  }\r\n\r\n  return {\r\n    message: errorMessage,\r\n    code: error?.code || 'UNKNOWN_ERROR',\r\n    original: error,\r\n  };\r\n}\r\n\r\n/**\r\n * Retry operation with exponential backoff\r\n */\r\nexport async function retryOperation(operation, maxRetries = 3, delay = 1000) {\r\n  let lastError;\r\n  \r\n  for (let attempt = 1; attempt <= maxRetries; attempt++) {\r\n    try {\r\n      return await operation();\r\n    } catch (error) {\r\n      lastError = error;\r\n      \r\n      // Don't retry on certain errors\r\n      if (error.code === 'VALIDATION_ERROR' || \r\n          error.code === 'AUTHENTICATION_ERROR' ||\r\n          error.code === 'AUTHORIZATION_ERROR' ||\r\n          error.status === 400 ||\r\n          error.status === 401 ||\r\n          error.status === 403) {\r\n        throw error;\r\n      }\r\n      \r\n      // If last attempt, throw error\r\n      if (attempt === maxRetries) {\r\n        break;\r\n      }\r\n      \r\n      // Wait before retrying (exponential backoff)\r\n      const waitTime = delay * Math.pow(2, attempt - 1);\r\n      await new Promise(resolve => setTimeout(resolve, waitTime));\r\n      \r\n      // Show retry notification\r\n      if (attempt < maxRetries) {\r\n        showToast(\r\n          `Tentativo ${attempt + 1} di ${maxRetries}...`,\r\n          'info',\r\n          2000\r\n        );\r\n      }\r\n    }\r\n  }\r\n  \r\n  throw lastError;\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1887, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/ConverterCards.jsx"],"sourcesContent":["import { useRouter } from 'next/router';\r\nimport { useMemo } from 'react';\r\nimport { getToolsByCategory } from '../lib/conversionRegistry';\r\n\r\nexport default function ConverterCards({ currentTool, currentSlug }) {\r\n  const router = useRouter();\r\n  const categories = useMemo(() => getToolsByCategory(), []);\r\n  \r\n  // Ottieni i tool della stessa categoria del tool corrente\r\n  const sameCategoryTools = useMemo(() => {\r\n    if (!currentTool?.category) return [];\r\n    const categoryTools = categories[currentTool.category] || [];\r\n    // Rimuovi duplicati basati sull'href\r\n    const uniqueTools = [];\r\n    const seenHrefs = new Set();\r\n    categoryTools.forEach(tool => {\r\n      if (!seenHrefs.has(tool.href)) {\r\n        seenHrefs.add(tool.href);\r\n        uniqueTools.push(tool);\r\n      }\r\n    });\r\n    return uniqueTools;\r\n  }, [currentTool, categories]);\r\n\r\n  // Se ci sono meno di 2 tool nella categoria, non mostrare le card\r\n  if (sameCategoryTools.length < 2) return null;\r\n\r\n  // Determina lo slug corrente in modo più robusto\r\n  const activeSlug = useMemo(() => {\r\n    if (currentSlug) return String(currentSlug);\r\n    if (currentTool?.slug) return String(currentTool.slug);\r\n    if (router.query.slug) return String(router.query.slug);\r\n    // Estrai dall'href se disponibile\r\n    if (currentTool?.href) {\r\n      const match = currentTool.href.match(/\\/tools\\/(.+)$/);\r\n      if (match) return match[1];\r\n    }\r\n    return null;\r\n  }, [currentSlug, currentTool, router.query.slug]);\r\n\r\n  // Colori per le card (simili a quelli del PDF converter)\r\n  const colors = [\r\n    '#f093fb', '#43e97b', '#ff9f43', '#10b981', '#60a5fa',\r\n    '#4facfe', '#fa709a', '#f97316', '#22c55e', '#a78bfa',\r\n    '#8b5cf6', '#ec4899', '#14b8a6', '#f59e0b', '#3b82f6'\r\n  ];\r\n\r\n  const handleCardClick = (href) => {\r\n    router.push(href);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={styles.cardsContainer}>\r\n        <h3 style={styles.cardsTitle}>Altri convertitori {currentTool?.category || ''}</h3>\r\n        <div style={styles.cardsGrid}>\r\n          {sameCategoryTools.map((tool, index) => {\r\n            // Estrai lo slug dal tool in modo più robusto\r\n            const toolSlug = tool.slug || (tool.href ? tool.href.replace('/tools/', '') : null);\r\n            // Confronta gli slug in modo case-insensitive e normalizzato\r\n            const normalizedToolSlug = toolSlug ? String(toolSlug).toLowerCase().trim() : null;\r\n            const normalizedActiveSlug = activeSlug ? String(activeSlug).toLowerCase().trim() : null;\r\n            const isActive = normalizedToolSlug === normalizedActiveSlug;\r\n            const color = colors[index % colors.length];\r\n            \r\n            return (\r\n              <div\r\n                key={tool.href || tool.slug || index}\r\n                onClick={() => !isActive && handleCardClick(tool.href)}\r\n                style={{\r\n                  ...styles.card,\r\n                  ...(isActive ? {\r\n                    borderColor: color,\r\n                    background: `${color}15`,\r\n                    boxShadow: `0 4px 12px ${color}40`,\r\n                    color: '#fff'\r\n                  } : {\r\n                    background: '#0f172a',\r\n                    borderColor: 'rgba(148,163,184,0.24)',\r\n                    color: '#cfe0ff'\r\n                  })\r\n                }}\r\n                className={isActive ? 'converter-card active' : 'converter-card'}\r\n              >\r\n                <span style={styles.cardLabel}>{tool.title}</span>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <style jsx>{`\r\n        .converter-card {\r\n          transition: all 0.3s ease;\r\n          cursor: pointer;\r\n        }\r\n        .converter-card:hover:not(.active) {\r\n          transform: translateY(-2px);\r\n          border-color: rgba(148, 163, 184, 0.36);\r\n        }\r\n        .converter-card.active {\r\n          cursor: default;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  cardsContainer: {\r\n    marginTop: '32px',\r\n    marginBottom: '24px'\r\n  },\r\n  cardsTitle: {\r\n    fontSize: '18px',\r\n    fontWeight: 600,\r\n    color: '#e6eef8',\r\n    marginBottom: '16px',\r\n    textAlign: 'center'\r\n  },\r\n  cardsGrid: {\r\n    display: 'flex',\r\n    gap: '12px',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center'\r\n  },\r\n  card: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '4px',\r\n    background: '#0f172a',\r\n    color: '#cfe0ff',\r\n    border: '2px solid rgba(148,163,184,0.24)',\r\n    borderRadius: '12px',\r\n    padding: '12px 18px',\r\n    fontWeight: 600,\r\n    boxShadow: 'inset 0 1px 0 rgba(255,255,255,0.05), 0 6px 14px rgba(0,0,0,0.25)',\r\n    fontSize: '14px',\r\n    minWidth: '120px',\r\n    justifyContent: 'center',\r\n    textAlign: 'center'\r\n  },\r\n  cardLabel: {\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis'\r\n  }\r\n};\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2085, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/GenericConverter.js"],"sourcesContent":["import { useState, useCallback, memo, useMemo, useEffect } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { HiUpload, HiX, HiDownload } from 'react-icons/hi';\r\nimport * as analytics from '../lib/analytics';\r\nimport { fetchWithErrorHandling, handleError } from '../utils/errorHandler';\r\nimport ConverterCards from './ConverterCards';\r\n\r\n// Generic converter UI: upload a file, select output (currently limited), perform placeholder conversion.\r\nfunction GenericConverter({ tool }) {\r\n  const router = useRouter();\r\n  // Estrai lo slug dall'URL o dal tool\r\n  const currentSlug = router.query.slug || tool?.slug || (tool?.href ? tool.href.replace('/tools/', '') : null);\r\n  \r\n  // Formati disponibili per categoria\r\n  const FORMAT_OPTIONS = {\r\n    Audio: ['mp3', 'wav', 'aac', 'flac', 'ogg', 'm4a', 'weba'],\r\n    Video: ['mp4', 'avi', 'mov', 'mkv', 'webm', 'flv']\r\n  };\r\n  \r\n  // Determina il formato di output iniziale\r\n  const getInitialFormat = () => {\r\n    if (tool.category === 'Audio') {\r\n      return FORMAT_OPTIONS.Audio[0]; // mp3\r\n    }\r\n    if (tool.category === 'Video') {\r\n      return FORMAT_OPTIONS.Video[0]; // mp4\r\n    }\r\n    return tool.targetFormat;\r\n  };\r\n  \r\n  const [file, setFile] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [outputFormat, setOutputFormat] = useState(getInitialFormat());\r\n  const [resultName, setResultName] = useState(null);\r\n  const [resultDataUrl, setResultDataUrl] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [progressMessage, setProgressMessage] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [width, setWidth] = useState('');\r\n  const [height, setHeight] = useState('');\r\n  const [quality, setQuality] = useState('80');\r\n  const [vWidth, setVWidth] = useState('');\r\n  const [vHeight, setVHeight] = useState('');\r\n  const [vBitrate, setVBitrate] = useState('2500k');\r\n  const [aBitrate, setABitrate] = useState('192k');\r\n  const [page, setPage] = useState('0');\r\n  const [isDragActive, setIsDragActive] = useState(false);\r\n  \r\n  // Aggiorna il formato quando cambia il tool\r\n  useEffect(() => {\r\n    setOutputFormat(getInitialFormat());\r\n  }, [tool.slug, tool.category]);\r\n\r\n  // Rimuovi duplicati dall'array degli output disponibili\r\n  const availableOutputs = useMemo(() => {\r\n    // Se è un convertitore Audio o Video, usa i formati specifici\r\n    if (tool.category === 'Audio') {\r\n      return FORMAT_OPTIONS.Audio;\r\n    }\r\n    if (tool.category === 'Video') {\r\n      return FORMAT_OPTIONS.Video;\r\n    }\r\n    \r\n    // Altrimenti usa il formato target del tool + formati comuni\r\n    const outputs = [tool.targetFormat, 'pdf', 'txt', 'jpg', 'png'];\r\n    // Rimuovi duplicati mantenendo l'ordine\r\n    return [...new Set(outputs)];\r\n  }, [tool.targetFormat, tool.category]);\r\n\r\n  // Drag and drop handler\r\n  const onDrop = useCallback((acceptedFiles) => {\r\n    const selectedFile = acceptedFiles[0];\r\n    if (selectedFile) {\r\n      setFile(selectedFile);\r\n      setError(null);\r\n      \r\n      // Track file upload\r\n      const fileType = selectedFile.type || selectedFile.name.split('.').pop();\r\n      analytics.trackFileUpload(fileType, selectedFile.size, tool?.title || tool?.name);\r\n      analytics.trackToolStart(tool?.title || tool?.name, fileType, selectedFile.size);\r\n      \r\n      // Generate preview for images\r\n      if (selectedFile.type.startsWith('image/')) {\r\n        setPreview(URL.createObjectURL(selectedFile));\r\n      } else {\r\n        setPreview(null);\r\n      }\r\n    }\r\n  }, [tool]);\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    onDrop,\r\n    accept: {\r\n      'image/*': ['.png', '.jpg', '.jpeg', '.webp', '.gif'],\r\n      'application/pdf': ['.pdf'],\r\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\r\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['.xlsx'],\r\n      'application/vnd.ms-excel': ['.xls'],\r\n      'text/plain': ['.txt'],\r\n      'video/*': ['.mp4', '.avi', '.mov', '.mkv', '.webm'],\r\n      'audio/*': ['.mp3', '.wav', '.m4a', '.flac', '.ogg']\r\n    },\r\n    maxFiles: 1,\r\n    onDragEnter: () => setIsDragActive(true),\r\n    onDragLeave: () => setIsDragActive(false),\r\n    onDropAccepted: () => setIsDragActive(false),\r\n    onDropRejected: () => {\r\n      setIsDragActive(false);\r\n      setError('File non supportato. Controlla il formato.');\r\n    }\r\n  });\r\n\r\n  const handleConvert = useCallback(async () => {\r\n    if (!file) {\r\n      setError('Seleziona un file prima di convertire.');\r\n      return;\r\n    }\r\n    \r\n    // Valida che il file non sia vuoto\r\n    if (file.size === 0) {\r\n      setError('Il file è vuoto. Carica un file valido.');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true); \r\n    setProgress(0);\r\n    setProgressMessage('Preparazione...');\r\n    setError(null); \r\n    setResultDataUrl(null); \r\n    setResultName(null);\r\n    \r\n    const startTime = Date.now();\r\n    const fromFormat = file.name.split('.').pop() || file.type;\r\n    \r\n    // Simulatore di progresso per l'upload\r\n    const progressInterval = setInterval(() => {\r\n      setProgress(prev => {\r\n        if (prev >= 95) return prev;\r\n        const increment = Math.random() * 15;\r\n        return Math.min(95, prev + increment);\r\n      });\r\n    }, 500);\r\n    \r\n    try {\r\n      // Verifica che il file esista e abbia una dimensione valida\r\n      if (!file || file.size === 0) {\r\n        throw new Error('Il file è vuoto o non valido. Carica un file valido.');\r\n      }\r\n      \r\n      setProgressMessage('Caricamento file...');\r\n      \r\n      const form = new FormData();\r\n      form.append('file', file);\r\n      form.append('target', outputFormat);\r\n      if (width) form.append('width', width);\r\n      if (height) form.append('height', height);\r\n      if (quality) form.append('quality', quality);\r\n      if (vWidth) form.append('vwidth', vWidth);\r\n      if (vHeight) form.append('vheight', vHeight);\r\n      if (vBitrate) form.append('vbitrate', vBitrate);\r\n      if (aBitrate) form.append('abitrate', aBitrate);\r\n      if (page) form.append('page', page);\r\n      \r\n      // Determina quale API chiamare in base allo slug del tool\r\n      let apiUrl = `/api/convert/${outputFormat}`;\r\n      const toolSlug = tool?.slug || currentSlug;\r\n      \r\n      // Mappa dei convertitori PDF agli endpoint dedicati\r\n      const pdfConverterMap = {\r\n        'pdf-to-docx': '/api/pdf/pdf-to-docx',\r\n        'pdf-to-pptx': '/api/pdf/pdf-to-pptx',\r\n        'pdf-to-powerpoint': '/api/pdf/pdf-to-pptx',\r\n        'pdf-to-xlsx': '/api/pdf/pdf-to-xlsx',\r\n        'pdf-to-excel': '/api/pdf/pdf-to-xlsx',\r\n        'pdf-to-jpg': '/api/pdf/pdf-to-jpg',\r\n        'pdf-to-png': '/api/pdf/pdf-to-jpg', // PDF to PNG usa lo stesso endpoint\r\n        'pdf-to-txt': '/api/pdf/pdf-to-txt',\r\n        'pdf-to-html': '/api/pdf/pdf-to-html',\r\n        'pdf-to-pdfa': '/api/pdf/pdf-to-pdfa',\r\n        'docx-to-pdf': '/api/pdf/docx-to-pdf',\r\n        'powerpoint-to-pdf': '/api/pdf/ppt-to-pdf',\r\n        'excel-to-pdf': '/api/pdf/xls-to-pdf',\r\n        'html-to-pdf': '/api/pdf/html-to-pdf'\r\n      };\r\n      \r\n      // Se è un convertitore PDF, usa l'endpoint dedicato\r\n      if (toolSlug && pdfConverterMap[toolSlug]) {\r\n        apiUrl = pdfConverterMap[toolSlug];\r\n      }\r\n      \r\n      // Verifica che l'URL sia valido\r\n      if (!apiUrl || !apiUrl.startsWith('/')) {\r\n        throw new Error(`URL API non valido: ${apiUrl}`);\r\n      }\r\n      \r\n      // Crea un AbortController per gestire timeout\r\n      const controller = new AbortController();\r\n      let timeoutId;\r\n      let response;\r\n      \r\n      try {\r\n        timeoutId = setTimeout(() => {\r\n          controller.abort();\r\n        }, 300000); // 5 minuti\r\n        \r\n        setProgress(30);\r\n        setProgressMessage('Conversione in corso...');\r\n        \r\n        // Use improved error handling\r\n        response = await fetch(apiUrl, { \r\n          method: 'POST', \r\n          body: form,\r\n          headers: {}, // Don't set Content-Type for FormData, browser will set it with boundary\r\n          signal: controller.signal\r\n        });\r\n        \r\n        setProgress(80);\r\n        setProgressMessage('Finalizzazione...');\r\n        \r\n        // Pulisci il timeout se la richiesta è completata\r\n        clearTimeout(timeoutId);\r\n        \r\n        // Se la richiesta è stata abortita, esci\r\n        if (controller.signal.aborted) {\r\n          throw new Error('Operazione annullata per timeout');\r\n        }\r\n      } catch (fetchError) {\r\n        // Pulisci sempre il timeout in caso di errore\r\n        clearTimeout(timeoutId);\r\n        \r\n        // Gestisci errori di rete\r\n        if (fetchError.name === 'AbortError') {\r\n          throw new Error('Timeout: l\\'operazione ha richiesto troppo tempo. Riprova con un file più piccolo.');\r\n        }\r\n        \r\n        if (fetchError instanceof TypeError && fetchError.message.includes('fetch')) {\r\n          throw new Error('Errore di connessione. Controlla la tua connessione internet e riprova.');\r\n        }\r\n        \r\n        // Rilancia altri errori\r\n        throw new Error(`Errore durante la richiesta: ${fetchError.message || 'Errore sconosciuto'}`);\r\n      }\r\n      \r\n      if (!response.ok) {\r\n        let errorMessage = `Errore HTTP ${response.status}`;\r\n        try {\r\n          const errorData = await response.json();\r\n          // Gestisci diversi formati di errore\r\n          if (errorData.error) {\r\n            errorMessage = errorData.error;\r\n            // Se c'è un hint, aggiungilo al messaggio\r\n            if (errorData.hint) {\r\n              errorMessage += `. ${errorData.hint}`;\r\n            }\r\n          } else if (errorData.details) {\r\n            errorMessage = errorData.details;\r\n          } else if (errorData.message) {\r\n            errorMessage = errorData.message;\r\n          }\r\n        } catch (e) {\r\n          // Se la risposta non è JSON, usa il messaggio di default\r\n          errorMessage = `Errore durante l'upload: il file potrebbe essere vuoto o non valido`;\r\n        }\r\n        \r\n        // Messaggi di errore più specifici per errori comuni\r\n        if (response.status === 400) {\r\n          errorMessage = errorMessage.includes('vuoto') || errorMessage.includes('empty') \r\n            ? errorMessage \r\n            : 'File non valido o formato non supportato. ' + (errorMessage !== `Errore HTTP ${response.status}` ? errorMessage : '');\r\n        } else if (response.status === 413) {\r\n          errorMessage = 'File troppo grande. Dimensione massima: 500MB per file video/audio, 50MB per altri formati';\r\n        } else if (response.status === 500) {\r\n          errorMessage = errorMessage !== `Errore HTTP ${response.status}` ? errorMessage : 'Errore del server durante la conversione';\r\n        }\r\n        \r\n        throw new Error(errorMessage);\r\n      }\r\n      \r\n      // Verifica che la risposta sia JSON\r\n      const contentType = response.headers.get('content-type');\r\n      if (!contentType || !contentType.includes('application/json')) {\r\n        // Prova a leggere come testo per vedere cosa c'è\r\n        const text = await response.text();\r\n        console.error('Risposta non JSON ricevuta:', text.substring(0, 200));\r\n        throw new Error('Il server ha restituito una risposta non valida. Riprova più tardi.');\r\n      }\r\n      \r\n      // Parsing della risposta JSON con gestione errori\r\n      let data;\r\n      try {\r\n        const text = await response.text();\r\n        if (!text || text.trim().length === 0) {\r\n          throw new Error('Risposta vuota dal server');\r\n        }\r\n        data = JSON.parse(text);\r\n      } catch (parseError) {\r\n        console.error('Errore parsing JSON:', parseError);\r\n        throw new Error('Errore nel parsing della risposta dal server. La conversione potrebbe essere fallita.');\r\n      }\r\n      \r\n      const duration = Date.now() - startTime;\r\n      \r\n      // Verifica che i dati siano validi\r\n      if (!data || (typeof data !== 'object')) {\r\n        throw new Error('Formato risposta non valido dal server');\r\n      }\r\n      \r\n      // Gestisci due tipi di risposta:\r\n      // 1. { name, dataUrl } - da /api/convert/[target]\r\n      // 2. { url } - da /api/pdf/pdf-to-* (ConvertAPI o altro)\r\n      let resultName = null;\r\n      let resultDataUrl = null;\r\n      \r\n      if (data.dataUrl) {\r\n        // Formato standard { name, dataUrl }\r\n        if (typeof data.dataUrl !== 'string' || data.dataUrl.trim().length === 0) {\r\n          throw new Error('Data URL non valido nella risposta');\r\n        }\r\n        resultName = data.name || `converted.${outputFormat}`;\r\n        resultDataUrl = data.dataUrl;\r\n      } else if (data.url) {\r\n        // Formato PDF converter { url, name? }\r\n        if (typeof data.url !== 'string' || data.url.trim().length === 0) {\r\n          throw new Error('URL non valido nella risposta');\r\n        }\r\n        \r\n        // Gestisci diversi tipi di URL:\r\n        // 1. Data URL già presente (es. pdf-to-pptx, pdf-to-xlsx)\r\n        // 2. URL esterno (es. ConvertAPI per pdf-to-docx)\r\n        if (data.url.startsWith('data:')) {\r\n          // Data URL già presente - usa direttamente\r\n          resultDataUrl = data.url;\r\n        } else if (data.url.startsWith('http://') || data.url.startsWith('https://')) {\r\n          // URL esterno (es. ConvertAPI) - scarica il file e convertilo in data URL\r\n          try {\r\n            const fileResponse = await fetch(data.url, { \r\n              signal: controller.signal \r\n            });\r\n            if (!fileResponse.ok) {\r\n              throw new Error(`Errore nel download del file convertito: HTTP ${fileResponse.status}`);\r\n            }\r\n            const blob = await fileResponse.blob();\r\n            if (!blob || blob.size === 0) {\r\n              throw new Error('File scaricato è vuoto');\r\n            }\r\n            const reader = new FileReader();\r\n            resultDataUrl = await new Promise((resolve, reject) => {\r\n              reader.onloadend = () => {\r\n                if (reader.result) {\r\n                  resolve(reader.result);\r\n                } else {\r\n                  reject(new Error('Errore nella lettura del file'));\r\n                }\r\n              };\r\n              reader.onerror = () => reject(new Error('Errore nella lettura del file'));\r\n              reader.readAsDataURL(blob);\r\n            });\r\n          } catch (downloadError) {\r\n            console.error('Errore download file:', downloadError);\r\n            throw new Error(`Errore nel download del file convertito: ${downloadError.message}`);\r\n          }\r\n        } else {\r\n          // Altro formato - prova a usarlo come data URL\r\n          resultDataUrl = data.url;\r\n        }\r\n        resultName = data.name || file.name.replace(/\\.[^.]+$/, `.${outputFormat}`);\r\n      } else {\r\n        console.error('Risposta non riconosciuta:', data);\r\n        throw new Error('Formato risposta non riconosciuto dal server. Risposta: ' + JSON.stringify(data).substring(0, 100));\r\n      }\r\n      \r\n      // Track successful conversion\r\n      analytics.trackConversion(\r\n        'file_conversion',\r\n        fromFormat,\r\n        outputFormat,\r\n        file.size,\r\n        duration\r\n      );\r\n      analytics.trackToolComplete(tool?.title || tool?.name, duration, true);\r\n      \r\n      clearInterval(progressInterval);\r\n      setProgress(100);\r\n      setProgressMessage('Completato!');\r\n      \r\n      setResultName(resultName);\r\n      setResultDataUrl(resultDataUrl);\r\n    } catch (e) {\r\n      const duration = Date.now() - startTime;\r\n      \r\n      clearInterval(progressInterval);\r\n      \r\n      // Track failed conversion\r\n      analytics.trackToolComplete(tool?.title || tool?.name, duration, false);\r\n      analytics.trackError(\r\n        e.message || 'Conversion failed',\r\n        'GenericConverter',\r\n        'conversion_error'\r\n      );\r\n      \r\n      // Error handling\r\n      const handledError = handleError(e);\r\n      setError(handledError.message);\r\n      console.error('Errore conversione:', e);\r\n    } finally {\r\n      // Assicurati che il timeout venga sempre pulito\r\n      if (typeof timeoutId !== 'undefined') {\r\n        clearTimeout(timeoutId);\r\n      }\r\n      clearInterval(progressInterval);\r\n      setLoading(false);\r\n      \r\n      // Reset progress dopo 2 secondi se c'è stato successo\r\n      if (!error) {\r\n        setTimeout(() => {\r\n          setProgress(0);\r\n          setProgressMessage('');\r\n        }, 2000);\r\n      }\r\n    }\r\n  }, [file, outputFormat, width, height, quality, vWidth, vHeight, vBitrate, aBitrate, page, tool, currentSlug]);\r\n\r\n  const handleFileSelect = useCallback((e) => {\r\n    const selectedFile = e.target.files[0];\r\n    if (selectedFile) {\r\n      setFile(selectedFile);\r\n      setError(null);\r\n      if (selectedFile.type.startsWith('image/')) {\r\n        setPreview(URL.createObjectURL(selectedFile));\r\n      } else {\r\n        setPreview(null);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const handleRemoveFile = useCallback(() => {\r\n    setFile(null);\r\n    setPreview(null);\r\n    setResultDataUrl(null);\r\n    setResultName(null);\r\n    setError(null);\r\n  }, []);\r\n\r\n  return (\r\n    <div style={styles.wrap}>\r\n      {/* Card dei convertitori della stessa categoria */}\r\n      <ConverterCards currentTool={tool} currentSlug={currentSlug} />\r\n      \r\n      <div style={styles.panel}>\r\n        <h2 style={styles.title}>Converti {tool.title}</h2>\r\n        <p style={styles.desc}>{tool.description}</p>\r\n        \r\n        {/* Drag and Drop Zone */}\r\n        {!file ? (\r\n          <div\r\n            {...getRootProps()}\r\n            style={{\r\n              ...styles.dropzone,\r\n              ...(isDragActive ? styles.dropzoneActive : {})\r\n            }}\r\n          >\r\n            <input {...getInputProps()} onChange={handleFileSelect} />\r\n            <HiUpload style={styles.uploadIcon} />\r\n            <h3 style={styles.dropzoneTitle}>\r\n              {isDragActive ? 'Rilascia qui il file' : 'Trascina il file qui o clicca per selezionare'}\r\n            </h3>\r\n            <p style={styles.dropzoneSubtitle}>\r\n              Supportati: Immagini, PDF, Documenti, Video, Audio\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div style={styles.filePreviewContainer}>\r\n            {preview && (\r\n              <div style={styles.imagePreview}>\r\n                <img src={preview} alt=\"Preview\" style={styles.previewImg} />\r\n              </div>\r\n            )}\r\n            <div style={styles.fileInfo}>\r\n              <div style={styles.fileName}>{file.name}</div>\r\n              <div style={styles.fileSize}>{(file.size / 1024).toFixed(2)} KB</div>\r\n            </div>\r\n            <button onClick={handleRemoveFile} style={styles.removeBtn}>\r\n              <HiX style={{ width: 20, height: 20 }} />\r\n            </button>\r\n          </div>\r\n        )}\r\n        <label style={styles.label}>Formato di destinazione</label>\r\n        <select \r\n          value={outputFormat} \r\n          onChange={e => setOutputFormat(e.target.value)} \r\n          style={styles.select}\r\n          disabled={loading}\r\n        >\r\n          {availableOutputs.map(fmt => <option key={fmt} value={fmt}>{fmt.toUpperCase()}</option>)}\r\n        </select>\r\n        {(outputFormat === 'jpg' || outputFormat === 'jpeg' || outputFormat === 'webp' || outputFormat === 'png') && (\r\n          <div style={styles.optionsRow}>\r\n            <div style={styles.optionField}>\r\n              <label style={styles.label}>Larghezza (px)</label>\r\n              <input value={width} onChange={e => setWidth(e.target.value)} placeholder=\"es. 1920\" style={styles.input} />\r\n            </div>\r\n            <div style={styles.optionField}>\r\n              <label style={styles.label}>Altezza (px)</label>\r\n              <input value={height} onChange={e => setHeight(e.target.value)} placeholder=\"es. 1080\" style={styles.input} />\r\n            </div>\r\n            <div style={styles.optionField}>\r\n              <label style={styles.label}>Qualità</label>\r\n              <input value={quality} onChange={e => setQuality(e.target.value)} placeholder=\"1-100\" style={styles.input} />\r\n            </div>\r\n            <div style={styles.optionField}>\r\n              <label style={styles.label}>Pagina (PDF)</label>\r\n              <input value={page} onChange={e => setPage(e.target.value)} placeholder=\"0 = prima pagina\" style={styles.input} />\r\n            </div>\r\n          </div>\r\n        )}\r\n        {(['mp4','webm','avi','mkv','mov','flv'].includes(outputFormat)) && (\r\n          <div style={styles.optionsRow}>\r\n            <div style={styles.optionField}>\r\n              <label style={styles.label}>Video larghezza</label>\r\n              <input value={vWidth} onChange={e => setVWidth(e.target.value)} placeholder=\"es. 1280\" style={styles.input} />\r\n            </div>\r\n            <div style={styles.optionField}>\r\n              <label style={styles.label}>Video altezza</label>\r\n              <input value={vHeight} onChange={e => setVHeight(e.target.value)} placeholder=\"es. 720\" style={styles.input} />\r\n            </div>\r\n            <div style={styles.optionField}>\r\n              <label style={styles.label}>Bitrate video</label>\r\n              <input value={vBitrate} onChange={e => setVBitrate(e.target.value)} placeholder=\"es. 2500k\" style={styles.input} />\r\n            </div>\r\n            <div style={styles.optionField}>\r\n              <label style={styles.label}>Bitrate audio</label>\r\n              <input value={aBitrate} onChange={e => setABitrate(e.target.value)} placeholder=\"es. 192k\" style={styles.input} />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <button \r\n          onClick={handleConvert} \r\n          disabled={!file || loading} \r\n          style={{\r\n            ...styles.btn,\r\n            ...(loading ? styles.btnLoading : {}),\r\n            ...(!file ? styles.btnDisabled : {})\r\n          }}\r\n        >\r\n          {loading ? (\r\n            <>\r\n              <span style={styles.spinner}></span>\r\n              Conversione...\r\n            </>\r\n          ) : (\r\n            'Converti'\r\n          )}\r\n        </button>\r\n        \r\n        {loading && progress > 0 && (\r\n          <div style={styles.progressContainer}>\r\n            <div style={styles.progressBar}>\r\n              <div style={{ ...styles.progressFill, width: `${progress}%` }}></div>\r\n            </div>\r\n            <div style={styles.progressText}>\r\n              {progressMessage} {Math.round(progress)}%\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {error && <div style={styles.error}>{error}</div>}\r\n      </div>\r\n      {resultDataUrl && (\r\n        <div style={styles.result}>\r\n          <h3 style={styles.resultTitle}>✓ Conversione completata!</h3>\r\n          <p style={styles.resultName}>{resultName}</p>\r\n          <a \r\n            href={resultDataUrl} \r\n            download={resultName} \r\n            style={styles.downloadBtn}\r\n            onClick={() => {\r\n              const fileType = resultName.split('.').pop() || 'unknown';\r\n              analytics.trackDownload(fileType, tool?.title || tool?.name, file?.size);\r\n            }}\r\n          >\r\n            <HiDownload style={{ width: 18, height: 18, marginRight: '8px' }} />\r\n            Scarica file\r\n          </a>\r\n          {resultDataUrl.startsWith('data:image') && (\r\n            <div style={styles.resultPreview}>\r\n              <img src={resultDataUrl} alt={resultName} style={styles.resultImg} />\r\n            </div>\r\n          )}\r\n          {resultDataUrl.startsWith('data:text') && (\r\n            <textarea readOnly value={atob(resultDataUrl.split(',')[1])} style={styles.previewText} />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(GenericConverter);\r\n\r\nconst styles = {\r\n  wrap: { \r\n    display: 'flex', \r\n    flexDirection: 'column', \r\n    gap: '32px', \r\n    marginTop: '24px',\r\n    animation: 'fadeIn 0.5s ease-out',\r\n    '@media (max-width: 768px)': {\r\n      gap: '24px',\r\n      marginTop: '16px'\r\n    }\r\n  },\r\n  panel: { \r\n    background: 'linear-gradient(135deg, rgba(15,23,42,0.95) 0%, rgba(30,41,59,0.8) 100%)', \r\n    border: '1px solid rgba(102, 126, 234, 0.2)', \r\n    padding: '32px', \r\n    borderRadius: '16px',\r\n    backdropFilter: 'blur(10px)',\r\n    boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)',\r\n    transition: 'all 0.3s ease',\r\n    '@media (max-width: 768px)': {\r\n      padding: '20px',\r\n      borderRadius: '12px'\r\n    }\r\n  },\r\n  title: { \r\n    margin: '0 0 8px', \r\n    fontSize: '24px', \r\n    fontWeight: 700,\r\n    background: 'linear-gradient(135deg, #e2e8f0 0%, #a78bfa 100%)',\r\n    WebkitBackgroundClip: 'text',\r\n    WebkitTextFillColor: 'transparent',\r\n    backgroundClip: 'text',\r\n    '@media (max-width: 768px)': {\r\n      fontSize: '20px'\r\n    }\r\n  },\r\n  desc: { \r\n    margin: '0 0 24px', \r\n    color: '#94a3b8', \r\n    fontSize: '15px', \r\n    lineHeight: '1.6',\r\n    '@media (max-width: 768px)': {\r\n      fontSize: '14px',\r\n      margin: '0 0 20px'\r\n    }\r\n  },\r\n  dropzone: {\r\n    border: '2px dashed rgba(102, 126, 234, 0.3)',\r\n    borderRadius: '16px',\r\n    padding: '48px 24px',\r\n    textAlign: 'center',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease',\r\n    background: 'rgba(15, 23, 42, 0.4)',\r\n    marginBottom: '24px',\r\n    WebkitTapHighlightColor: 'transparent',\r\n    touchAction: 'manipulation',\r\n    '@media (max-width: 768px)': {\r\n      padding: '32px 16px',\r\n      borderRadius: '12px',\r\n      marginBottom: '20px'\r\n    }\r\n  },\r\n  dropzoneActive: {\r\n    borderColor: '#667eea',\r\n    background: 'rgba(102, 126, 234, 0.1)',\r\n    transform: 'scale(1.02)',\r\n    '@media (max-width: 768px)': {\r\n      transform: 'scale(1.01)'\r\n    }\r\n  },\r\n  uploadIcon: {\r\n    width: '64px',\r\n    height: '64px',\r\n    margin: '0 auto 16px',\r\n    color: '#667eea',\r\n    '@media (max-width: 768px)': {\r\n      width: '48px',\r\n      height: '48px',\r\n      margin: '0 auto 12px'\r\n    }\r\n  },\r\n  dropzoneTitle: {\r\n    fontSize: '18px',\r\n    fontWeight: 600,\r\n    color: '#e6eef8',\r\n    margin: '0 0 8px',\r\n    '@media (max-width: 768px)': {\r\n      fontSize: '16px'\r\n    }\r\n  },\r\n  dropzoneSubtitle: {\r\n    fontSize: '14px',\r\n    color: '#94a3b8',\r\n    margin: 0,\r\n    '@media (max-width: 768px)': {\r\n      fontSize: '13px',\r\n      padding: '0 8px'\r\n    }\r\n  },\r\n  filePreviewContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '16px',\r\n    padding: '16px',\r\n    background: 'rgba(15, 23, 42, 0.6)',\r\n    borderRadius: '12px',\r\n    marginBottom: '24px',\r\n    border: '1px solid rgba(102, 126, 234, 0.2)',\r\n    '@media (max-width: 768px)': {\r\n      padding: '12px',\r\n      gap: '12px',\r\n      marginBottom: '20px'\r\n    }\r\n  },\r\n  imagePreview: {\r\n    width: '60px',\r\n    height: '60px',\r\n    borderRadius: '8px',\r\n    overflow: 'hidden',\r\n    flexShrink: 0,\r\n    '@media (max-width: 768px)': {\r\n      width: '50px',\r\n      height: '50px'\r\n    }\r\n  },\r\n  previewImg: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover'\r\n  },\r\n  fileInfo: {\r\n    flex: 1,\r\n    minWidth: 0\r\n  },\r\n  fileName: {\r\n    fontSize: '14px',\r\n    fontWeight: 600,\r\n    color: '#e6eef8',\r\n    marginBottom: '4px',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n    whiteSpace: 'nowrap'\r\n  },\r\n  fileSize: {\r\n    fontSize: '12px',\r\n    color: '#94a3b8'\r\n  },\r\n  removeBtn: {\r\n    padding: '8px',\r\n    background: 'rgba(239, 68, 68, 0.1)',\r\n    border: '1px solid rgba(239, 68, 68, 0.3)',\r\n    borderRadius: '8px',\r\n    cursor: 'pointer',\r\n    color: '#ef4444',\r\n    transition: 'all 0.2s',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  label: { \r\n    fontSize: '12px', \r\n    textTransform: 'uppercase', \r\n    letterSpacing: '0.05em', \r\n    color: '#94a3b8',\r\n    fontWeight: 600,\r\n    marginBottom: '8px',\r\n    display: 'block'\r\n  },\r\n  select: { \r\n    margin: '8px 0 16px', \r\n    padding: '12px', \r\n    borderRadius: '10px', \r\n    background: 'rgba(15, 23, 42, 0.8)', \r\n    color: '#e6eef8', \r\n    border: '1px solid rgba(102, 126, 234, 0.3)',\r\n    width: '100%',\r\n    fontSize: '14px',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s'\r\n  },\r\n  btn: { \r\n    padding: '14px 28px', \r\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', \r\n    color: '#fff', \r\n    border: 'none', \r\n    borderRadius: '12px', \r\n    cursor: 'pointer', \r\n    fontWeight: 600,\r\n    fontSize: '16px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: '8px',\r\n    transition: 'all 0.3s ease',\r\n    boxShadow: '0 4px 15px rgba(102, 126, 234, 0.3)',\r\n    width: '100%',\r\n    WebkitTapHighlightColor: 'transparent',\r\n    touchAction: 'manipulation',\r\n    '@media (max-width: 768px)': {\r\n      padding: '12px 24px',\r\n      fontSize: '15px',\r\n      borderRadius: '10px'\r\n    }\r\n  },\r\n  btnLoading: {\r\n    opacity: 0.7,\r\n    cursor: 'not-allowed'\r\n  },\r\n  btnDisabled: {\r\n    opacity: 0.5,\r\n    cursor: 'not-allowed',\r\n    background: 'rgba(102, 126, 234, 0.3)'\r\n  },\r\n  spinner: {\r\n    width: '16px',\r\n    height: '16px',\r\n    border: '2px solid rgba(255, 255, 255, 0.3)',\r\n    borderTopColor: '#fff',\r\n    borderRadius: '50%',\r\n    animation: 'spin 0.8s linear infinite'\r\n  },\r\n  error: { \r\n    marginTop: '16px', \r\n    padding: '12px 16px',\r\n    color: '#ef4444', \r\n    fontSize: '14px',\r\n    background: 'rgba(239, 68, 68, 0.1)',\r\n    border: '1px solid rgba(239, 68, 68, 0.3)',\r\n    borderRadius: '8px'\r\n  },\r\n  result: { \r\n    background: 'linear-gradient(135deg, rgba(15,23,42,0.95) 0%, rgba(30,41,59,0.8) 100%)', \r\n    border: '1px solid rgba(16, 185, 129, 0.3)', \r\n    padding: '32px', \r\n    borderRadius: '16px',\r\n    backdropFilter: 'blur(10px)',\r\n    animation: 'slideIn 0.5s ease-out'\r\n  },\r\n  resultTitle: { \r\n    margin: '0 0 12px', \r\n    fontSize: '20px', \r\n    fontWeight: 700,\r\n    color: '#10b981'\r\n  },\r\n  resultName: { \r\n    margin: '0 0 20px', \r\n    color: '#94a3b8', \r\n    fontSize: '14px' \r\n  },\r\n  downloadBtn: { \r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n    padding: '12px 24px', \r\n    background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)', \r\n    color: '#fff', \r\n    borderRadius: '12px', \r\n    textDecoration: 'none', \r\n    fontSize: '14px', \r\n    fontWeight: 600,\r\n    transition: 'all 0.3s ease',\r\n    boxShadow: '0 4px 15px rgba(16, 185, 129, 0.3)',\r\n    marginBottom: '20px'\r\n  },\r\n  resultPreview: {\r\n    marginTop: '20px',\r\n    borderRadius: '12px',\r\n    overflow: 'hidden',\r\n    border: '1px solid rgba(102, 126, 234, 0.2)'\r\n  },\r\n  resultImg: { \r\n    width: '100%',\r\n    height: 'auto',\r\n    display: 'block'\r\n  },\r\n  previewText: { \r\n    marginTop: '16px', \r\n    width: '100%', \r\n    minHeight: '160px', \r\n    background: 'rgba(15, 23, 42, 0.8)', \r\n    color: '#e6eef8', \r\n    border: '1px solid rgba(102, 126, 234, 0.3)', \r\n    borderRadius: '10px', \r\n    padding: '16px', \r\n    fontFamily: 'monospace', \r\n    fontSize: '13px',\r\n    lineHeight: '1.6',\r\n    resize: 'vertical'\r\n  },\r\n  optionsRow: { \r\n    display: 'flex', \r\n    gap: '12px', \r\n    marginBottom: '20px',\r\n    flexWrap: 'wrap',\r\n    '@media (max-width: 768px)': {\r\n      flexDirection: 'column',\r\n      gap: '16px',\r\n      marginBottom: '16px'\r\n    }\r\n  },\r\n  optionField: { \r\n    flex: '1 1 200px',\r\n    minWidth: '150px',\r\n    '@media (max-width: 768px)': {\r\n      flex: '1 1 100%',\r\n      minWidth: '100%'\r\n    }\r\n  },\r\n  input: { \r\n    width: '100%', \r\n    padding: '12px', \r\n    borderRadius: '10px', \r\n    background: 'rgba(15, 23, 42, 0.8)', \r\n    color: '#e6eef8', \r\n    border: '1px solid rgba(102, 126, 234, 0.3)',\r\n    fontSize: '14px',\r\n    transition: 'all 0.2s',\r\n    boxSizing: 'border-box',\r\n    WebkitTapHighlightColor: 'transparent',\r\n    '@media (max-width: 768px)': {\r\n      padding: '10px',\r\n      fontSize: '16px', // Prevent zoom on iOS\r\n      borderRadius: '8px'\r\n    }\r\n  },\r\n  progressContainer: {\r\n    marginTop: '16px',\r\n    marginBottom: '16px'\r\n  },\r\n  progressBar: {\r\n    width: '100%',\r\n    height: '8px',\r\n    background: 'rgba(15, 23, 42, 0.8)',\r\n    borderRadius: '10px',\r\n    overflow: 'hidden',\r\n    border: '1px solid rgba(102, 126, 234, 0.2)',\r\n    position: 'relative'\r\n  },\r\n  progressFill: {\r\n    height: '100%',\r\n    background: 'linear-gradient(90deg, #667eea 0%, #764ba2 100%)',\r\n    borderRadius: '10px',\r\n    transition: 'width 0.3s ease',\r\n    boxShadow: '0 0 10px rgba(102, 126, 234, 0.5)',\r\n    animation: 'shimmerProgress 2s infinite'\r\n  },\r\n  progressText: {\r\n    marginTop: '8px',\r\n    fontSize: '13px',\r\n    color: '#94a3b8',\r\n    textAlign: 'center',\r\n    fontWeight: 500\r\n  }\r\n};\r\n\r\n// Aggiungi animazioni CSS\r\nif (typeof document !== 'undefined') {\r\n  const styleId = 'generic-converter-animations';\r\n  if (!document.getElementById(styleId)) {\r\n    const style = document.createElement('style');\r\n    style.id = styleId;\r\n    style.textContent = `\r\n      @keyframes fadeIn {\r\n        from { opacity: 0; }\r\n        to { opacity: 1; }\r\n      }\r\n      @keyframes slideIn {\r\n        from {\r\n          opacity: 0;\r\n          transform: translateY(20px);\r\n        }\r\n        to {\r\n          opacity: 1;\r\n          transform: translateY(0);\r\n        }\r\n      }\r\n      @keyframes spin {\r\n        to { transform: rotate(360deg); }\r\n      }\r\n      @keyframes shimmerProgress {\r\n        0% {\r\n          background-position: -200% center;\r\n        }\r\n        100% {\r\n          background-position: 200% center;\r\n        }\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3527, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/DropdownPortal.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst MARGIN = 8;\r\n\r\n/**\r\n * DropdownPortal\r\n * Renders children into a portal (document.body) and positions it relative to an anchor element.\r\n * Props:\r\n * - anchorEl: DOM element that anchors the dropdown\r\n * - open: boolean flag to show/hide the portal\r\n * - onClose: callback invoked when clicking outside\r\n * - children: dropdown content\r\n */\r\nexport default function DropdownPortal({ anchorEl, open, onClose, children, offset = 8, preferRight = false }) {\r\n  const [mounted, setMounted] = useState(false);\r\n  const [container, setContainer] = useState(null);\r\n  const [style, setStyle] = useState({ \r\n    visibility: 'hidden', \r\n    position: 'fixed', \r\n    top: '-9999px', \r\n    left: '-9999px',\r\n    zIndex: 10050\r\n  });\r\n  const elRef = useRef(null);\r\n\r\n  // Gestisci il mounting lato client per evitare errori di hydration\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    if (typeof document !== 'undefined') {\r\n      const portalContainer = document.createElement('div');\r\n      setContainer(portalContainer);\r\n      document.body.appendChild(portalContainer);\r\n      return () => {\r\n        if (document.body.contains(portalContainer)) {\r\n          document.body.removeChild(portalContainer);\r\n        }\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!mounted || typeof window === 'undefined') return;\r\n    \r\n    if (!open) {\r\n      setStyle({ visibility: 'hidden', position: 'fixed', top: '-9999px', left: '-9999px', zIndex: 10050 });\r\n      return;\r\n    }\r\n\r\n    if (!anchorEl) return;\r\n\r\n    // Renderizza il dropdown fuori schermo ma visibile per poter essere misurato\r\n    setStyle({\r\n      visibility: 'visible',\r\n      position: 'fixed',\r\n      top: '-9999px',\r\n      left: '-9999px',\r\n      zIndex: 10050\r\n    });\r\n\r\n    let active = true;\r\n    let rafId = null;\r\n    let retryCount = 0;\r\n    const MAX_RETRIES = 10;\r\n\r\n    const updatePosition = () => {\r\n      if (!active || !anchorEl || !elRef.current) return;\r\n      \r\n      const anchorRect = anchorEl.getBoundingClientRect();\r\n      const dropdownRect = elRef.current.getBoundingClientRect();\r\n      \r\n      // Se anchorRect ha dimensioni 0, l'elemento anchor non è ancora pronto\r\n      if ((anchorRect.width === 0 || anchorRect.height === 0) && retryCount < MAX_RETRIES) {\r\n        retryCount++;\r\n        rafId = window.requestAnimationFrame(updatePosition);\r\n        return;\r\n      }\r\n      \r\n      // Se il dropdown non ha ancora dimensioni reali, aspetta un frame (ma con limite)\r\n      if ((dropdownRect.width === 0 || dropdownRect.height === 0) && retryCount < MAX_RETRIES) {\r\n        retryCount++;\r\n        rafId = window.requestAnimationFrame(updatePosition);\r\n        return;\r\n      }\r\n      \r\n      // Usa le dimensioni reali o fallback\r\n      const computedWidth = dropdownRect.width || 280;\r\n      const computedHeight = dropdownRect.height || 100;\r\n      \r\n      retryCount = 0; // reset retry count quando abbiamo dimensioni valide\r\n      \r\n      const spaceBelow = window.innerHeight - anchorRect.bottom;\r\n      const spaceAbove = anchorRect.top;\r\n\r\n      // Calcola la posizione verticale\r\n      let top = anchorRect.bottom + offset;\r\n      if (spaceBelow < computedHeight && spaceAbove > computedHeight) {\r\n        top = anchorRect.top - computedHeight - offset;\r\n      }\r\n      top = Math.min(Math.max(top, MARGIN), Math.max(window.innerHeight - computedHeight - MARGIN, MARGIN));\r\n\r\n      // Calcola la posizione orizzontale\r\n      let left;\r\n      if (preferRight) {\r\n        // Allinea il bordo destro del dropdown al bordo destro del bottone\r\n        left = anchorRect.right - computedWidth;\r\n      } else {\r\n        // Allinea il bordo sinistro del dropdown al bordo sinistro del bottone\r\n        left = anchorRect.left;\r\n      }\r\n      \r\n      // Se il dropdown esce dallo schermo a destra, spostalo a sinistra\r\n      if (left + computedWidth > window.innerWidth - MARGIN) {\r\n        left = window.innerWidth - computedWidth - MARGIN;\r\n      }\r\n      \r\n      // Se il dropdown esce dallo schermo a sinistra, allinealo al margine sinistro\r\n      if (left < MARGIN) {\r\n        left = MARGIN;\r\n      }\r\n\r\n      setStyle({\r\n        top: `${top}px`,\r\n        left: `${left}px`,\r\n        position: 'fixed',\r\n        zIndex: 10050,\r\n        visibility: 'visible'\r\n      });\r\n    };\r\n\r\n    // Aspetta un frame per assicurarsi che il DOM sia pronto\r\n    rafId = window.requestAnimationFrame(() => {\r\n      rafId = window.requestAnimationFrame(updatePosition);\r\n    });\r\n\r\n    window.addEventListener('resize', updatePosition);\r\n    window.addEventListener('scroll', updatePosition, true);\r\n\r\n    return () => {\r\n      active = false;\r\n      if (rafId) window.cancelAnimationFrame(rafId);\r\n      window.removeEventListener('resize', updatePosition);\r\n      window.removeEventListener('scroll', updatePosition, true);\r\n    };\r\n  }, [open, anchorEl, offset, preferRight, mounted]);\r\n\r\n  useEffect(() => {\r\n    if (typeof document === 'undefined') return;\r\n    \r\n    const onDocClick = (e) => {\r\n      if (!open) return;\r\n      \r\n      const target = e.target;\r\n      \r\n      // Non chiudere se si clicca sull'elemento anchor\r\n      if (anchorEl && anchorEl.contains(target)) return;\r\n      \r\n      // Se si clicca su un link, non fare nulla (lascia che navighi)\r\n      if (target.closest('a')) return;\r\n      \r\n      // Non chiudere se si clicca all'interno del dropdown\r\n      if (elRef.current && elRef.current.contains(target)) {\r\n        return;\r\n      }\r\n      \r\n      // Chiudi solo se si clicca fuori\r\n      onClose && onClose();\r\n    };\r\n\r\n    if (open) {\r\n      document.addEventListener('click', onDocClick);\r\n    }\r\n    return () => document.removeEventListener('click', onDocClick);\r\n  }, [open, anchorEl, onClose]);\r\n\r\n  // Non renderizzare nulla durante SSR o se il container non è ancora montato\r\n  if (!mounted || !container || typeof document === 'undefined') {\r\n    return null;\r\n  }\r\n\r\n  return createPortal(\r\n    <div ref={elRef} style={style} className=\"dropdown-portal\">\r\n      {children}\r\n    </div>,\r\n    container\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,SAAS;AAWA,SAAS,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,CAAC,EAAE,cAAc,KAAK,EAAE;IAC3G,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;QACjC,YAAY;QACZ,UAAU;QACV,KAAK;QACL,MAAM;QACN,QAAQ;IACV;IACA,MAAM,QAAQ,IAAA,6GAAM,EAAC;IAErB,mEAAmE;IACnE,IAAA,gHAAS,EAAC;QACR,WAAW;QACX,IAAI,OAAO,aAAa,aAAa;YACnC,MAAM,kBAAkB,SAAS,aAAa,CAAC;YAC/C,aAAa;YACb,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,OAAO;gBACL,IAAI,SAAS,IAAI,CAAC,QAAQ,CAAC,kBAAkB;oBAC3C,SAAS,IAAI,CAAC,WAAW,CAAC;gBAC5B;YACF;QACF;IACF,GAAG,EAAE;IAEL,IAAA,gHAAS,EAAC;QACR,wCAA+C;;;QAkB/C,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,MAAM;QAEN,MAAM;IA+ER,GAAG;QAAC;QAAM;QAAU;QAAQ;QAAa;KAAQ;IAEjD,IAAA,gHAAS,EAAC;QACR,IAAI,OAAO,aAAa,aAAa;QAErC,MAAM,aAAa,CAAC;YAClB,IAAI,CAAC,MAAM;YAEX,MAAM,SAAS,EAAE,MAAM;YAEvB,iDAAiD;YACjD,IAAI,YAAY,SAAS,QAAQ,CAAC,SAAS;YAE3C,+DAA+D;YAC/D,IAAI,OAAO,OAAO,CAAC,MAAM;YAEzB,qDAAqD;YACrD,IAAI,MAAM,OAAO,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,SAAS;gBACnD;YACF;YAEA,iCAAiC;YACjC,WAAW;QACb;QAEA,IAAI,MAAM;YACR,SAAS,gBAAgB,CAAC,SAAS;QACrC;QACA,OAAO,IAAM,SAAS,mBAAmB,CAAC,SAAS;IACrD,GAAG;QAAC;QAAM;QAAU;KAAQ;IAE5B,4EAA4E;IAC5E,IAAI,CAAC,WAAW,CAAC,aAAa,OAAO,aAAa,aAAa;QAC7D,OAAO;IACT;IAEA,qBAAO,IAAA,iIAAY,gBACjB,qKAAC;QAAI,KAAK;QAAO,OAAO;QAAO,WAAU;kBACtC;;;;;cAEH;AAEJ"}},
    {"offset": {"line": 3623, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/LanguageSwitcher.js"],"sourcesContent":["import { useRouter } from 'next/router';\r\nimport { useState, memo, useRef } from 'react';\r\nimport DropdownPortal from './DropdownPortal';\r\n\r\nconst languages = [\r\n  { code: 'en', name: 'English', flag: '🇬🇧' },\r\n  { code: 'it', name: 'Italiano', flag: '🇮🇹' },\r\n  { code: 'es', name: 'Español', flag: '🇪🇸' },\r\n  { code: 'fr', name: 'Français', flag: '🇫🇷' },\r\n  { code: 'de', name: 'Deutsch', flag: '🇩🇪' },\r\n  { code: 'pt', name: 'Português', flag: '🇵🇹' },\r\n  { code: 'ru', name: 'Русский', flag: '🇷🇺' },\r\n  { code: 'ja', name: '日本語', flag: '🇯🇵' },\r\n  { code: 'zh', name: '中文', flag: '🇨🇳' },\r\n  { code: 'ar', name: 'العربية', flag: '🇸🇦' },\r\n  { code: 'hi', name: 'हिन्दी', flag: '🇮🇳' },\r\n  { code: 'ko', name: '한국어', flag: '🇰🇷' },\r\n];\r\n\r\nconst LanguageSwitcher = memo(function LanguageSwitcher() {\r\n  const router = useRouter();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [hoveredLang, setHoveredLang] = useState(null);\r\n  const buttonRef = useRef(null);\r\n  const currentLang = languages.find(lang => lang.code === router.locale) || languages[0];\r\n\r\n  const changeLanguage = async (locale) => {\r\n    setIsOpen(false);\r\n    await router.push(router.pathname, router.asPath, { locale, scroll: false });\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <button\r\n        ref={buttonRef}\r\n        onClick={() => setIsOpen((prev) => !prev)}\r\n        style={{\r\n          ...styles.button,\r\n          background: isOpen ? 'rgba(102, 126, 234, 0.15)' : 'transparent'\r\n        }}\r\n        aria-label=\"Change language\"\r\n        aria-expanded={isOpen}\r\n      >\r\n        <span style={styles.flag}>{currentLang.flag}</span>\r\n        <svg style={styles.chevron} width=\"10\" height=\"10\" viewBox=\"0 0 12 12\" fill=\"none\">\r\n          <path d=\"M2.5 4.5L6 8L9.5 4.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n        </svg>\r\n      </button>\r\n\r\n      <DropdownPortal\r\n        anchorEl={buttonRef.current}\r\n        open={isOpen}\r\n        onClose={() => setIsOpen(false)}\r\n        offset={6}\r\n        preferRight\r\n      >\r\n        <div style={styles.dropdown} className=\"language-dropdown\">\r\n          {languages.map((lang) => (\r\n            <button\r\n              key={lang.code}\r\n              onClick={() => changeLanguage(lang.code)}\r\n              onMouseEnter={() => setHoveredLang(lang.code)}\r\n              onMouseLeave={() => setHoveredLang(null)}\r\n              style={{\r\n                ...styles.option,\r\n                ...(lang.code === router.locale ? styles.optionActive : {}),\r\n                background: hoveredLang === lang.code ? 'rgba(102, 126, 234, 0.2)' : 'transparent'\r\n              }}\r\n            >\r\n              <span style={styles.optionFlag}>{lang.flag}</span>\r\n              <span style={styles.optionName}>{lang.name}</span>\r\n              {lang.code === router.locale && (\r\n                <svg style={styles.check} width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\r\n                  <path d=\"M13.5 4.5L6 12L2.5 8.5\" stroke=\"#667eea\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                </svg>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </DropdownPortal>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst styles = {\r\n  container: {\r\n    position: 'relative',\r\n    zIndex: 1000,\r\n  },\r\n  button: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '4px',\r\n    padding: '4px 8px',\r\n    background: 'transparent',\r\n    border: 'none',\r\n    borderRadius: '6px',\r\n    color: '#e2e8f0',\r\n    fontSize: '11px',\r\n    fontWeight: '600',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s',\r\n    position: 'relative',\r\n  },\r\n  flag: {\r\n    fontSize: '16px',\r\n  },\r\n  langCode: {\r\n    fontSize: '11px',\r\n    fontWeight: '700',\r\n  },\r\n  chevron: {\r\n    color: '#94a3b8',\r\n    transition: 'transform 0.2s',\r\n  },\r\n  dropdown: {\r\n    minWidth: '200px',\r\n    maxHeight: '360px',\r\n    overflowY: 'auto',\r\n    background: 'linear-gradient(135deg, #1e293b 0%, #0f172a 100%)',\r\n    border: '1px solid rgba(148, 163, 184, 0.2)',\r\n    borderRadius: '12px',\r\n    boxShadow: '0 20px 40px rgba(0, 0, 0, 0.4)',\r\n    padding: '8px',\r\n    animation: 'fadeInUp 0.2s ease-out',\r\n    scrollbarWidth: 'none',\r\n    msOverflowStyle: 'none'\r\n  },\r\n  option: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '12px',\r\n    width: '100%',\r\n    padding: '10px 12px',\r\n    background: 'transparent',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    color: '#cbd5e1',\r\n    fontSize: '14px',\r\n    fontWeight: '500',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.15s',\r\n    textAlign: 'left',\r\n  },\r\n  optionActive: {\r\n    background: 'rgba(102, 126, 234, 0.1)',\r\n    color: '#667eea',\r\n  },\r\n  optionFlag: {\r\n    fontSize: '20px',\r\n  },\r\n  optionName: {\r\n    flex: 1,\r\n  },\r\n  check: {\r\n    flexShrink: 0,\r\n  },\r\n};\r\n\r\nexport default LanguageSwitcher;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3918, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo, useCallback, memo } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/router';\r\nimport { HiSparkles, HiHome, HiMenu, HiX, HiDotsVertical } from 'react-icons/hi';\r\nimport { BsChevronDown, BsChevronRight } from 'react-icons/bs';\r\nimport { tools } from '../lib/tools';\r\nimport { getAllCategories, getToolsByCategory } from '../lib/conversionRegistry';\r\nimport { useTranslation } from '../lib/i18n';\r\nimport LanguageSwitcher from './LanguageSwitcher';\r\nimport DropdownPortal from './DropdownPortal';\r\nimport { throttle } from '../lib/performance';\r\n\r\nconst Navbar = () => {\r\n    const { t } = useTranslation();\r\n    const router = useRouter();\r\n    const [isMobile, setIsMobile] = useState(false);\r\n    const [dropdownOpen, setDropdownOpen] = useState(null);\r\n    const [scrolled, setScrolled] = useState(false);\r\n    const [hoveredItem, setHoveredItem] = useState(null);\r\n    const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n    const [mobileSecondaryMenuOpen, setMobileSecondaryMenuOpen] = useState(false);\r\n    const [expandedCategory, setExpandedCategory] = useState(null);\r\n    const navRef = useRef(null);\r\n    // refs for dropdown buttons\r\n    const buttonRefs = useRef({});\r\n    const closeTimeoutRef = useRef(null);\r\n    \r\n    // Safe client-side mobile detection\r\n    useEffect(() => {\r\n        const checkMobile = () => setIsMobile(window.innerWidth <= 768);\r\n        checkMobile();\r\n        window.addEventListener('resize', checkMobile);\r\n        return () => window.removeEventListener('resize', checkMobile);\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        if (!isMobile) {\r\n            setMobileMenuOpen(false);\r\n            setMobileSecondaryMenuOpen(false);\r\n            setExpandedCategory(null);\r\n        }\r\n    }, [isMobile]);\r\n\r\n    useEffect(() => {\r\n        if (typeof window === 'undefined' || typeof document === 'undefined') return;\r\n        \r\n        // Throttle scroll handler for better performance\r\n        const handleScroll = throttle(() => {\r\n            setScrolled(window.scrollY > 50);\r\n        }, 100); // Update at most once per 100ms\r\n\r\n        const handleClickOutside = (event) => {\r\n            if (navRef.current && !navRef.current.contains(event.target)) {\r\n                setDropdownOpen(null);\r\n                setMobileMenuOpen(false);\r\n                setMobileSecondaryMenuOpen(false);\r\n            }\r\n        };\r\n\r\n        window.addEventListener('scroll', handleScroll, { passive: true });\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n\r\n        return () => {\r\n            window.removeEventListener('scroll', handleScroll);\r\n            document.removeEventListener('mousedown', handleClickOutside);\r\n            if (closeTimeoutRef.current) {\r\n                clearTimeout(closeTimeoutRef.current);\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    // Memoize categories computation per evitare re-calcolo ad ogni render\r\n    const categories = useMemo(() => {\r\n        // Combine AI tools and conversion tools - categorizzazione migliorata\r\n        const conversionToolsByCat = getToolsByCategory();\r\n        \r\n        // Unisco categorie simili per semplificare la navbar\r\n        const pdfAndDocs = [\r\n            ...tools.filter(t => t.category === 'PDF' || t.category === 'Testo'),\r\n            ...(conversionToolsByCat['Document'] || []),\r\n            ...(conversionToolsByCat['Presentation'] || []),\r\n            ...(conversionToolsByCat['Spreadsheet'] || [])\r\n        ];\r\n        \r\n        const mediaTools = [\r\n            ...(conversionToolsByCat['Video'] || []),\r\n            ...(conversionToolsByCat['Audio'] || [])\r\n        ];\r\n        \r\n        // Categorizzazione semplificata e intuitiva\r\n        const allCategories = {\r\n            'AI & Immagini': [\r\n                ...tools.filter(t => t.category === 'Immagini'),\r\n                ...(conversionToolsByCat['Image'] || [])\r\n            ],\r\n            'Documenti & PDF': pdfAndDocs,\r\n            'Video & Audio': [\r\n                ...tools.filter(t => t.category === 'Video' || t.category === 'Audio'),\r\n                ...mediaTools\r\n            ],\r\n            'Grafica': [\r\n                ...(conversionToolsByCat['Vector'] || []),\r\n                ...(conversionToolsByCat['Font'] || [])\r\n            ],\r\n            'Archivi & Ebook': [\r\n                ...(conversionToolsByCat['Archive'] || []),\r\n                ...(conversionToolsByCat['Ebook'] || [])\r\n            ]\r\n        };\r\n        \r\n        // Ordina i tool all'interno di ogni categoria: prima AI/Pro, poi gli altri\r\n        Object.keys(allCategories).forEach(cat => {\r\n            allCategories[cat].sort((a, b) => {\r\n                // Prima i tool AI/Pro\r\n                const aIsPro = a.pro === true || a.href?.includes('ai') || a.href?.includes('upscaler');\r\n                const bIsPro = b.pro === true || b.href?.includes('ai') || b.href?.includes('upscaler');\r\n                \r\n                if (aIsPro && !bIsPro) return -1;\r\n                if (!aIsPro && bIsPro) return 1;\r\n                \r\n                // Poi ordina alfabeticamente\r\n                return (a.title || '').localeCompare(b.title || '');\r\n            });\r\n        });\r\n        \r\n        // Filtra categorie vuote\r\n        return Object.fromEntries(\r\n            Object.entries(allCategories).filter(([_, tools]) => tools && tools.length > 0)\r\n        );\r\n    }, []);\r\n\r\n    const handleDropdownEnter = useCallback((catName) => {\r\n        if (closeTimeoutRef.current) {\r\n            clearTimeout(closeTimeoutRef.current);\r\n            closeTimeoutRef.current = null;\r\n        }\r\n        setDropdownOpen(catName);\r\n    }, []);\r\n\r\n    const handleDropdownLeave = useCallback(() => {\r\n        if (closeTimeoutRef.current) {\r\n            clearTimeout(closeTimeoutRef.current);\r\n        }\r\n        closeTimeoutRef.current = setTimeout(() => {\r\n            setDropdownOpen(null);\r\n        }, 300); // 0.3 secondi di ritardo prima di chiudere\r\n    }, []);\r\n\r\n    const styles = {\r\n        navbar: {\r\n            position: 'sticky',\r\n            top: 0,\r\n            zIndex: 100000,\r\n            background: scrolled ? 'rgba(10, 14, 26, 0.9)' : 'rgba(10, 14, 26, 0.95)',\r\n            backdropFilter: 'blur(20px)',\r\n            borderBottom: scrolled ? '1px solid rgba(102, 126, 234, 0.3)' : '1px solid rgba(102, 126, 234, 0.2)',\r\n            padding: scrolled ? '6px 0' : '10px 0',\r\n            boxShadow: scrolled ? '0 4px 20px rgba(0,0,0,0.4), 0 0 20px rgba(102, 126, 234, 0.1)' : '0 2px 12px rgba(0,0,0,0.3)',\r\n            transition: 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)',\r\n            width: '100%',\r\n            maxWidth: '100%',\r\n            overflowX: 'hidden',\r\n            overflowY: 'visible',\r\n            boxSizing: 'border-box'\r\n        },\r\n        navContent: {\r\n            width: '100%',\r\n            maxWidth: '1400px',\r\n            margin: '0 auto',\r\n            padding: '0 16px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            position: 'relative',\r\n            overflow: 'visible',\r\n            zIndex: 100000,\r\n            boxSizing: 'border-box'\r\n        },\r\n        navLogo: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n            fontSize: scrolled ? '16px' : '18px',\r\n            fontWeight: '700',\r\n            color: '#e2e8f0',\r\n            textDecoration: 'none',\r\n            transition: 'all 0.3s ease',\r\n            flexShrink: 0\r\n        },\r\n        logoText: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'flex-start',\r\n            lineHeight: '1.2'\r\n        },\r\n        logoMain: {\r\n            fontSize: scrolled ? '16px' : '18px',\r\n            fontWeight: '700',\r\n            color: '#e2e8f0'\r\n        },\r\n        logoSub: {\r\n            fontSize: scrolled ? '9px' : '10px',\r\n            fontWeight: '600',\r\n            color: '#667eea',\r\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n            WebkitBackgroundClip: 'text',\r\n            WebkitTextFillColor: 'transparent',\r\n            backgroundClip: 'text',\r\n            marginTop: '-2px'\r\n        },\r\n        navMenu: {\r\n            display: isMobile ? 'none' : 'flex',\r\n            gap: '4px',\r\n            alignItems: 'center',\r\n            flexWrap: 'nowrap',\r\n            whiteSpace: 'nowrap',\r\n            flexShrink: 1,\r\n            overflow: 'visible',\r\n            position: 'relative',\r\n            zIndex: 100001\r\n        },\r\n        homeBtn: {\r\n            position: 'absolute',\r\n            left: '50%',\r\n            transform: 'translateX(-50%)',\r\n            display: isMobile ? 'none' : 'inline-flex',\r\n            alignItems: 'center',\r\n            gap: '6px',\r\n            padding: '8px 14px',\r\n            background: 'transparent',\r\n            border: 'none',\r\n            fontSize: '14px',\r\n            fontWeight: '600',\r\n            color: '#cbd5e1',\r\n            textDecoration: 'none',\r\n            cursor: 'pointer',\r\n            borderRadius: '6px',\r\n            transition: 'background 0.2s'\r\n        },\r\n        dropdown: {\r\n            position: 'relative',\r\n            zIndex: 100002\r\n        },\r\n        dropdownBtn: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            padding: '8px 10px',\r\n            background: 'transparent',\r\n            border: 'none',\r\n            fontSize: '13px',\r\n            fontWeight: '600',\r\n            color: '#cbd5e1',\r\n            cursor: 'pointer',\r\n            borderRadius: '6px',\r\n            transition: 'background 0.2s',\r\n            whiteSpace: 'nowrap'\r\n        },\r\n        dropdownMenu: {\r\n            position: 'absolute',\r\n            top: '100%',\r\n            left: 0,\r\n            marginTop: '8px',\r\n            background: 'rgba(15, 23, 42, 0.98)',\r\n            backdropFilter: 'blur(24px)',\r\n            border: '1px solid rgba(102, 126, 234, 0.3)',\r\n            borderRadius: '16px',\r\n            boxShadow: '0 12px 48px rgba(0,0,0,0.6), 0 0 30px rgba(102, 126, 234, 0.2)',\r\n            padding: '12px',\r\n            minWidth: '280px',\r\n            maxWidth: '320px',\r\n            maxHeight: '500px',\r\n            overflowY: 'auto',\r\n            overflowX: 'hidden',\r\n            zIndex: 100003,\r\n            animation: 'fadeInUp 0.3s ease-out',\r\n            scrollBehavior: 'smooth',\r\n            scrollbarWidth: 'thin',\r\n            scrollbarColor: 'rgba(102, 126, 234, 0.5) rgba(15, 23, 42, 0.3)',\r\n            isolation: 'isolate'\r\n        },\r\n        dropdownItem: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '12px',\r\n            padding: '12px 16px',\r\n            color: '#cbd5e1',\r\n            textDecoration: 'none',\r\n            borderRadius: '10px',\r\n            fontSize: '14px',\r\n            fontWeight: '500',\r\n            transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\r\n            position: 'relative',\r\n            overflow: 'hidden',\r\n            cursor: 'pointer',\r\n            pointerEvents: 'auto',\r\n            zIndex: 1\r\n        },\r\n        signupBtn: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            padding: '10px 20px',\r\n            border: 'none',\r\n            fontSize: '14px',\r\n            fontWeight: '700',\r\n            color: '#ffffff',\r\n            cursor: 'pointer',\r\n            borderRadius: '10px',\r\n            transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n            boxShadow: '0 4px 12px rgba(102, 126, 234, 0.4), 0 0 15px rgba(102, 126, 234, 0.2)',\r\n            backgroundImage: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n            backgroundSize: '200% 200%',\r\n            backgroundPosition: '0% 0%',\r\n            backgroundRepeat: 'no-repeat',\r\n            position: 'relative',\r\n            overflow: 'hidden',\r\n            willChange: 'transform, box-shadow'\r\n        },\r\n        hamburgerBtn: {\r\n            display: isMobile ? 'flex' : 'none',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            padding: '8px',\r\n            background: 'transparent',\r\n            border: 'none',\r\n            color: '#cbd5e1',\r\n            cursor: 'pointer',\r\n            fontSize: '24px',\r\n            marginRight: '8px'\r\n        },\r\n        secondaryMenuBtn: {\r\n            display: isMobile ? 'flex' : 'none',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            padding: '8px',\r\n            background: 'transparent',\r\n            border: 'none',\r\n            color: '#cbd5e1',\r\n            cursor: 'pointer',\r\n            fontSize: '24px',\r\n            marginRight: '12px'\r\n        },\r\n        mobileMenu: {\r\n            position: 'fixed',\r\n            top: 0,\r\n            right: mobileMenuOpen ? 0 : '-100%',\r\n            bottom: 0,\r\n            width: '80%',\r\n            maxWidth: '320px',\r\n            background: 'rgba(10, 14, 26, 0.98)',\r\n            backdropFilter: 'blur(16px)',\r\n            borderLeft: '1px solid rgba(102, 126, 234, 0.2)',\r\n            overflowY: 'auto',\r\n            padding: '20px',\r\n            zIndex: 1002,\r\n            transition: 'right 0.3s ease',\r\n            boxShadow: '-4px 0 20px rgba(0, 0, 0, 0.5)',\r\n            display: isMobile ? 'block' : 'none'\r\n        },\r\n        mobileSecondaryMenu: {\r\n            position: 'fixed',\r\n            top: 0,\r\n            right: mobileSecondaryMenuOpen ? 0 : '-100%',\r\n            bottom: 0,\r\n            width: '280px',\r\n            background: 'rgba(10, 14, 26, 0.98)',\r\n            backdropFilter: 'blur(16px)',\r\n            borderLeft: '1px solid rgba(102, 126, 234, 0.2)',\r\n            overflowY: 'auto',\r\n            padding: '20px',\r\n            zIndex: 1002,\r\n            transition: 'right 0.3s ease',\r\n            boxShadow: '-4px 0 20px rgba(0, 0, 0, 0.5)',\r\n            display: isMobile ? 'block' : 'none'\r\n        },\r\n        mobileOverlay: {\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            background: 'rgba(0, 0, 0, 0.7)',\r\n            zIndex: 1001,\r\n            backdropFilter: 'blur(4px)'\r\n        },\r\n        mobileMenuHeader: {\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            marginBottom: '24px',\r\n            paddingBottom: '16px',\r\n            borderBottom: '1px solid rgba(102, 126, 234, 0.2)'\r\n        },\r\n        mobileMenuTitle: {\r\n            fontSize: '20px',\r\n            fontWeight: '700',\r\n            color: '#e2e8f0',\r\n            margin: 0\r\n        },\r\n        closeBtn: {\r\n            background: 'transparent',\r\n            border: 'none',\r\n            color: '#cbd5e1',\r\n            fontSize: '24px',\r\n            cursor: 'pointer',\r\n            padding: '4px'\r\n        },\r\n        mobileMenuItem: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            padding: '14px 16px',\r\n            color: '#cbd5e1',\r\n            textDecoration: 'none',\r\n            borderRadius: '8px',\r\n            fontSize: '15px',\r\n            fontWeight: '600',\r\n            background: 'rgba(30, 41, 59, 0.5)',\r\n            border: '1px solid rgba(102, 126, 234, 0.2)',\r\n            marginBottom: '8px',\r\n            cursor: 'pointer'\r\n        },\r\n        mobileCategoryHeader: {\r\n            padding: '12px 16px',\r\n            color: '#667eea',\r\n            fontSize: '12px',\r\n            fontWeight: '700',\r\n            textTransform: 'uppercase',\r\n            letterSpacing: '0.5px',\r\n            marginTop: '16px',\r\n            marginBottom: '8px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            cursor: 'pointer',\r\n            background: 'rgba(102, 126, 234, 0.1)',\r\n            borderRadius: '8px'\r\n        },\r\n        mobileDropdownItem: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '12px',\r\n            padding: '10px 16px 10px 32px',\r\n            color: '#cbd5e1',\r\n            textDecoration: 'none',\r\n            borderRadius: '8px',\r\n            fontSize: '14px',\r\n            fontWeight: '500',\r\n            background: 'rgba(15, 23, 42, 0.7)',\r\n            marginBottom: '4px'\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <style jsx>{`\r\n                /* Custom scrollbar per i dropdown menu */\r\n                .dropdown-menu-scroll::-webkit-scrollbar {\r\n                    width: 8px;\r\n                }\r\n                .dropdown-menu-scroll::-webkit-scrollbar-track {\r\n                    background: rgba(15, 23, 42, 0.3);\r\n                    border-radius: 10px;\r\n                }\r\n                .dropdown-menu-scroll::-webkit-scrollbar-thumb {\r\n                    background: rgba(102, 126, 234, 0.5);\r\n                    border-radius: 10px;\r\n                    transition: background 0.2s;\r\n                }\r\n                .dropdown-menu-scroll::-webkit-scrollbar-thumb:hover {\r\n                    background: rgba(102, 126, 234, 0.7);\r\n                }\r\n            `}</style>\r\n            <nav style={styles.navbar} ref={navRef} suppressHydrationWarning>\r\n                <div style={styles.navContent}>\r\n                {/* Logo */}\r\n                <Link href=\"/\" style={styles.navLogo}>\r\n                    <svg width={scrolled ? \"28\" : \"32\"} height={scrolled ? \"28\" : \"32\"} viewBox=\"0 0 40 40\" fill=\"none\" style={{transition: 'all 0.3s'}}>\r\n                        {/* Background gradient circle */}\r\n                        <defs>\r\n                            <linearGradient id=\"logoGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n                                <stop offset=\"0%\" style={{stopColor: '#667eea', stopOpacity: 1}} />\r\n                                <stop offset=\"100%\" style={{stopColor: '#764ba2', stopOpacity: 1}} />\r\n                            </linearGradient>\r\n                            <filter id=\"glow\">\r\n                                <feGaussianBlur stdDeviation=\"2\" result=\"coloredBlur\"/>\r\n                                <feMerge>\r\n                                    <feMergeNode in=\"coloredBlur\"/>\r\n                                    <feMergeNode in=\"SourceGraphic\"/>\r\n                                </feMerge>\r\n                            </filter>\r\n                        </defs>\r\n                        \r\n                        {/* Outer hexagon frame */}\r\n                        <path d=\"M20 2 L34 10 L34 26 L20 34 L6 26 L6 10 Z\" \r\n                              stroke=\"url(#logoGradient)\" \r\n                              strokeWidth=\"1.5\" \r\n                              fill=\"none\"\r\n                              opacity=\"0.6\"/>\r\n                        \r\n                        {/* Inner pixel grid representing \"Mega Pixel\" */}\r\n                        <rect x=\"14\" y=\"12\" width=\"4\" height=\"4\" fill=\"url(#logoGradient)\" opacity=\"0.9\"/>\r\n                        <rect x=\"22\" y=\"12\" width=\"4\" height=\"4\" fill=\"url(#logoGradient)\" opacity=\"0.7\"/>\r\n                        <rect x=\"14\" y=\"18\" width=\"4\" height=\"4\" fill=\"url(#logoGradient)\" opacity=\"0.8\"/>\r\n                        <rect x=\"22\" y=\"18\" width=\"4\" height=\"4\" fill=\"url(#logoGradient)\" opacity=\"1\" filter=\"url(#glow)\"/>\r\n                        <rect x=\"14\" y=\"24\" width=\"4\" height=\"4\" fill=\"url(#logoGradient)\" opacity=\"0.7\"/>\r\n                        <rect x=\"22\" y=\"24\" width=\"4\" height=\"4\" fill=\"url(#logoGradient)\" opacity=\"0.6\"/>\r\n                        \r\n                        {/* AI neural network nodes */}\r\n                        <circle cx=\"10\" cy=\"10\" r=\"1.5\" fill=\"#667eea\" opacity=\"0.8\"/>\r\n                        <circle cx=\"30\" cy=\"10\" r=\"1.5\" fill=\"#764ba2\" opacity=\"0.8\"/>\r\n                        <circle cx=\"10\" cy=\"30\" r=\"1.5\" fill=\"#764ba2\" opacity=\"0.8\"/>\r\n                        <circle cx=\"30\" cy=\"30\" r=\"1.5\" fill=\"#667eea\" opacity=\"0.8\"/>\r\n                        \r\n                        {/* Connection lines representing AI */}\r\n                        <line x1=\"10\" y1=\"10\" x2=\"18\" y2=\"14\" stroke=\"#667eea\" strokeWidth=\"0.5\" opacity=\"0.4\"/>\r\n                        <line x1=\"30\" y1=\"10\" x2=\"26\" y2=\"14\" stroke=\"#764ba2\" strokeWidth=\"0.5\" opacity=\"0.4\"/>\r\n                        <line x1=\"10\" y1=\"30\" x2=\"18\" y2=\"26\" stroke=\"#764ba2\" strokeWidth=\"0.5\" opacity=\"0.4\"/>\r\n                        <line x1=\"30\" y1=\"30\" x2=\"26\" y2=\"26\" stroke=\"#667eea\" strokeWidth=\"0.5\" opacity=\"0.4\"/>\r\n                    </svg>\r\n                    <div style={styles.logoText}>\r\n                        <span style={styles.logoMain}>MegaPixelAI</span>\r\n                        <span style={styles.logoSub}>ToolSuite</span>\r\n                    </div>\r\n                </Link>\r\n\r\n                <div style={styles.navMenu}>\r\n                    <Link \r\n                        href=\"/tools\" \r\n                        style={{\r\n                            ...styles.dropdownBtn,\r\n                            background: hoveredItem === 'tools' ? 'rgba(102, 126, 234, 0.15)' : 'transparent',\r\n                            textDecoration: 'none'\r\n                        }}\r\n                        onMouseEnter={() => setHoveredItem('tools')}\r\n                        onMouseLeave={() => setHoveredItem(null)}\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            router.push('/tools');\r\n                        }}\r\n                    >\r\n                        Tutti i Tool\r\n                    </Link>\r\n\r\n                    {Object.keys(categories).map(catName => {\r\n                        const isOpen = dropdownOpen === catName;\r\n                        return (\r\n                        <div\r\n                            key={catName}\r\n                            style={styles.dropdown}\r\n                            onMouseEnter={() => handleDropdownEnter(catName)}\r\n                            onMouseLeave={handleDropdownLeave}\r\n                        >\r\n                            <button\r\n                                style={{\r\n                                    ...styles.dropdownBtn,\r\n                                    background: hoveredItem === `cat-${catName}` || isOpen ? 'rgba(102, 126, 234, 0.15)' : 'transparent'\r\n                                }}\r\n                                ref={(el) => {\r\n                                    if (el) buttonRefs.current[catName] = el;\r\n                                }}\r\n                                onClick={() => setDropdownOpen(isOpen ? null : catName)}\r\n                                onMouseEnter={() => setHoveredItem(`cat-${catName}`)}\r\n                                onMouseLeave={() => setHoveredItem(null)}\r\n                            >\r\n                                {catName}\r\n                                <BsChevronDown \r\n                                    style={{ \r\n                                        marginLeft: '6px',\r\n                                        width: '14px',\r\n                                        height: '14px',\r\n                                        transition: 'transform 0.3s ease',\r\n                                        transform: isOpen ? 'rotate(180deg)' : 'rotate(0deg)',\r\n                                        opacity: 0.8\r\n                                    }} \r\n                                />\r\n                            </button>\r\n                            {isOpen && buttonRefs.current[catName] && (\r\n                                <DropdownPortal\r\n                                    anchorEl={buttonRefs.current[catName]}\r\n                                    open={isOpen}\r\n                                    onClose={() => setDropdownOpen(null)}\r\n                                >\r\n                                    <div \r\n                                        className=\"dropdown-menu-scroll\"\r\n                                        style={{ ...styles.dropdownMenu, maxWidth: 'calc(100vw - 32px)' }}\r\n                                        onWheel={(e) => {\r\n                                            e.stopPropagation();\r\n                                        }}\r\n                                    >\r\n                                    {/* Mostra i tool ordinati (AI/Pro prima) */}\r\n                                    {categories[catName].slice(0, 20).map((tool, index) => {\r\n                                        // Aggiungi separatore visivo dopo i tool AI/Pro se necessario\r\n                                        const isPro = tool.pro === true || tool.href?.includes('ai') || tool.href?.includes('upscaler');\r\n                                        const nextTool = categories[catName][index + 1];\r\n                                        const nextIsPro = nextTool && (nextTool.pro === true || nextTool.href?.includes('ai') || nextTool.href?.includes('upscaler'));\r\n                                        const showSeparator = isPro && !nextIsPro && index < categories[catName].length - 1 && index < 19;\r\n                                        \r\n                                        return (\r\n                                            <React.Fragment key={tool.href}>\r\n                                                <div\r\n                                                    style={{\r\n                                                        ...styles.dropdownItem,\r\n                                                        background: hoveredItem === `item-${tool.href}` ? 'rgba(102, 126, 234, 0.2)' : 'transparent',\r\n                                                        cursor: 'pointer'\r\n                                                    }}\r\n                                                    onClick={(e) => {\r\n                                                        // Non fermare la propagazione per permettere la navigazione\r\n                                                        if (closeTimeoutRef.current) {\r\n                                                            clearTimeout(closeTimeoutRef.current);\r\n                                                        }\r\n                                                        setDropdownOpen(null);\r\n                                                        setHoveredItem(null);\r\n                                                        // Naviga usando router.push\r\n                                                        if (tool.href) {\r\n                                                            router.push(tool.href);\r\n                                                        }\r\n                                                    }}\r\n                                                    onMouseDown={(e) => {\r\n                                                        // Previeni la chiusura del dropdown quando si clicca\r\n                                                        e.stopPropagation();\r\n                                                    }}\r\n                                                    onMouseEnter={() => setHoveredItem(`item-${tool.href}`)}\r\n                                                    onMouseLeave={() => setHoveredItem(null)}\r\n                                                >\r\n                                                    {tool.icon && <tool.icon style={{ width: 18, height: 18, flexShrink: 0 }} />}\r\n                                                    <span style={{ flex: 1, minWidth: 0 }}>{tool.title}</span>\r\n                                                    {tool.pro && (\r\n                                                        <span style={{\r\n                                                            fontSize: '10px',\r\n                                                            padding: '2px 6px',\r\n                                                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                                                            borderRadius: '4px',\r\n                                                            fontWeight: '600',\r\n                                                            color: '#fff',\r\n                                                            textTransform: 'uppercase',\r\n                                                            letterSpacing: '0.5px'\r\n                                                        }}>\r\n                                                            PRO\r\n                                                        </span>\r\n                                                    )}\r\n                                                </div>\r\n                                                {showSeparator && (\r\n                                                    <div style={{\r\n                                                        height: '1px',\r\n                                                        background: 'rgba(102, 126, 234, 0.2)',\r\n                                                        margin: '8px 0',\r\n                                                        marginLeft: '16px',\r\n                                                        marginRight: '16px'\r\n                                                    }} />\r\n                                                )}\r\n                                            </React.Fragment>\r\n                                        );\r\n                                    })}\r\n                                    {categories[catName].length > 20 && (\r\n                                        <Link\r\n                                            href=\"/tools\"\r\n                                            style={{\r\n                                                ...styles.dropdownItem,\r\n                                                background: 'rgba(102, 126, 234, 0.1)',\r\n                                                fontWeight: '600',\r\n                                                justifyContent: 'center',\r\n                                                marginTop: '8px',\r\n                                                borderTop: '1px solid rgba(102, 126, 234, 0.2)',\r\n                                                paddingTop: '16px'\r\n                                            }}\r\n                                        >\r\n                                            <span>Vedi tutti ({categories[catName].length})</span>\r\n                                            <BsChevronRight style={{ marginLeft: '8px', width: '14px', height: '14px' }} />\r\n                                        </Link>\r\n                                    )}\r\n                                    </div>\r\n                                </DropdownPortal>\r\n                            )}\r\n                        </div>\r\n                    );\r\n                    })}\r\n                    \r\n                    <Link \r\n                        href=\"/pricing\" \r\n                        style={{\r\n                            ...styles.dropdownBtn,\r\n                            background: hoveredItem === 'pricing' ? 'rgba(102, 126, 234, 0.15)' : 'transparent',\r\n                            textDecoration: 'none'\r\n                        }}\r\n                        onMouseEnter={() => setHoveredItem('pricing')}\r\n                        onMouseLeave={() => setHoveredItem(null)}\r\n                    >\r\n                        {t('nav.pricing')}\r\n                    </Link>\r\n                    \r\n                    <Link \r\n                        href=\"/faq\" \r\n                        style={{\r\n                            ...styles.dropdownBtn,\r\n                            background: 'transparent',\r\n                            textDecoration: 'none'\r\n                        }}\r\n                    >\r\n                        FAQ\r\n                    </Link>\r\n                    \r\n                    <Link \r\n                        href=\"/login\" \r\n                        style={{\r\n                            ...styles.signupBtn,\r\n                            backgroundImage: hoveredItem === 'login' ? 'linear-gradient(135deg, #764ba2 0%, #667eea 100%)' : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                            textDecoration: 'none'\r\n                        }}\r\n                        onMouseEnter={() => setHoveredItem('login')}\r\n                        onMouseLeave={() => setHoveredItem(null)}\r\n                    >\r\n                        Accedi\r\n                    </Link>\r\n                    \r\n                    <LanguageSwitcher />\r\n                </div>\r\n\r\n                {/* Mobile buttons - show only on mobile */}\r\n                {isMobile && (\r\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                        <button \r\n                            style={styles.hamburgerBtn}\r\n                            onClick={() => {\r\n                                setMobileMenuOpen(!mobileMenuOpen);\r\n                                setMobileSecondaryMenuOpen(false);\r\n                            }}\r\n                            aria-label=\"Apri menu\"\r\n                            title=\"Apri menu\"\r\n                        >\r\n                            <HiMenu />\r\n                        </button>\r\n                        \r\n                        <button \r\n                            style={styles.secondaryMenuBtn}\r\n                            onClick={() => {\r\n                                setMobileSecondaryMenuOpen(!mobileSecondaryMenuOpen);\r\n                                setMobileMenuOpen(false);\r\n                            }}\r\n                            aria-label=\"Apri menu secondario\"\r\n                            title=\"Apri menu secondario\"\r\n                        >\r\n                            <HiDotsVertical />\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Overlay per chiudere menu mobile */}\r\n            {isMobile && (mobileMenuOpen || mobileSecondaryMenuOpen) && (\r\n                <div \r\n                    style={styles.mobileOverlay}\r\n                    onClick={() => {\r\n                        setMobileMenuOpen(false);\r\n                        setMobileSecondaryMenuOpen(false);\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            {/* Mobile menu principale (categorie e strumenti) */}\r\n            {isMobile && (\r\n                <div style={styles.mobileMenu}>\r\n                    <div style={styles.mobileMenuHeader}>\r\n                        <h3 style={styles.mobileMenuTitle}>Menu</h3>\r\n                        <button \r\n                            style={styles.closeBtn}\r\n                            onClick={() => setMobileMenuOpen(false)}\r\n                            aria-label=\"Chiudi menu\"\r\n                            title=\"Chiudi menu\"\r\n                        >\r\n                            <HiX />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <Link \r\n                        href=\"/tools\" \r\n                        style={styles.mobileMenuItem}\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            setMobileMenuOpen(false);\r\n                            router.push('/tools');\r\n                        }}\r\n                    >\r\n                        Tutti i Tool\r\n                    </Link>\r\n\r\n                    {Object.keys(categories).map(catName => (\r\n                        <div key={catName}>\r\n                            <div \r\n                                style={styles.mobileCategoryHeader}\r\n                                onClick={() => setExpandedCategory(expandedCategory === catName ? null : catName)}\r\n                            >\r\n                                <span>{catName}</span>\r\n                                <BsChevronRight \r\n                                    style={{ \r\n                                        width: 16, \r\n                                        height: 16,\r\n                                        transform: expandedCategory === catName ? 'rotate(90deg)' : 'rotate(0deg)',\r\n                                        transition: 'transform 0.3s ease'\r\n                                    }} \r\n                                />\r\n                            </div>\r\n                            {expandedCategory === catName && categories[catName].slice(0, 15).map(tool => (\r\n                                <Link\r\n                                    key={tool.href}\r\n                                    href={tool.href}\r\n                                    style={styles.mobileDropdownItem}\r\n                                    onClick={() => setMobileMenuOpen(false)}\r\n                                >\r\n                                    {tool.icon && <tool.icon style={{ width: 18, height: 18 }} />}\r\n                                    <span>{tool.title}</span>\r\n                                </Link>\r\n                            ))}\r\n                            {expandedCategory === catName && categories[catName].length > 15 && (\r\n                                <Link\r\n                                    href=\"/tools\"\r\n                                    style={{\r\n                                        ...styles.mobileDropdownItem,\r\n                                        background: 'rgba(102, 126, 234, 0.1)',\r\n                                        fontWeight: '600',\r\n                                        justifyContent: 'center'\r\n                                    }}\r\n                                >\r\n                                    <span>Vedi tutti ({categories[catName].length})</span>\r\n                                </Link>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Mobile menu secondario (login, pricing, faq, lingua) */}\r\n            {isMobile && (\r\n                <div style={styles.mobileSecondaryMenu}>\r\n                    <div style={styles.mobileMenuHeader}>\r\n                        <h3 style={styles.mobileMenuTitle}>Account</h3>\r\n                        <button \r\n                            style={styles.closeBtn}\r\n                            onClick={() => setMobileSecondaryMenuOpen(false)}\r\n                        >\r\n                            <HiX />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <Link \r\n                        href=\"/login\" \r\n                        style={{\r\n                            ...styles.mobileMenuItem,\r\n                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                            color: '#fff'\r\n                        }}\r\n                        onClick={() => setMobileSecondaryMenuOpen(false)}\r\n                    >\r\n                        Accedi\r\n                    </Link>\r\n                    \r\n                    <Link \r\n                        href=\"/pricing\" \r\n                        style={styles.mobileMenuItem}\r\n                        onClick={() => setMobileSecondaryMenuOpen(false)}\r\n                    >\r\n                        {t('nav.pricing')}\r\n                    </Link>\r\n                    \r\n                    <Link \r\n                        href=\"/faq\" \r\n                        style={styles.mobileMenuItem}\r\n                        onClick={() => setMobileSecondaryMenuOpen(false)}\r\n                    >\r\n                        FAQ\r\n                    </Link>\r\n\r\n                    <div style={{ marginTop: '24px', paddingTop: '24px', borderTop: '1px solid rgba(102, 126, 234, 0.2)' }}>\r\n                        <div style={{ marginBottom: '12px', fontSize: '13px', color: '#667eea', fontWeight: '600' }}>\r\n                            Lingua\r\n                        </div>\r\n                        <LanguageSwitcher />\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </nav>\r\n        </>\r\n    );\r\n};\r\n\r\n// Memoize Navbar to prevent unnecessary re-renders\r\nexport default memo(Navbar);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5350, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/lib/animations.js"],"sourcesContent":["/**\r\n * Sistema centralizzato per le animazioni\r\n * Gestisce animazioni CSS e wrapper SSR-safe per framer-motion\r\n * \r\n * Questo modulo fornisce:\r\n * - Wrapper SSR-safe per framer-motion (caricamento solo lato client)\r\n * - Hook per verificare se siamo lato client\r\n * - Varianti di animazione predefinite\r\n * - Utility per gestire prefers-reduced-motion\r\n */\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence as FramerAnimatePresence } from 'framer-motion';\r\n\r\n// Static imports per evitare require.resolveWeak() in webpack\r\n// Usiamo useIsClient per gestire SSR\r\nconst MotionDiv = motion.div;\r\nconst MotionComponent = motion;\r\nconst AnimatePresence = FramerAnimatePresence;\r\n\r\n/**\r\n * Hook per verificare se siamo lato client\r\n */\r\nexport const useIsClient = () => {\r\n  const [isClient, setIsClient] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    setIsClient(true);\r\n  }, []);\r\n  \r\n  return isClient;\r\n};\r\n\r\n/**\r\n * Wrapper per motion.div con fallback SSR\r\n */\r\nexport const SafeMotionDiv = ({ children, ...props }) => {\r\n  const isClient = useIsClient();\r\n  \r\n  if (!isClient) {\r\n    return <div {...props}>{children}</div>;\r\n  }\r\n  \r\n  return <MotionDiv {...props}>{children}</MotionDiv>;\r\n};\r\n\r\n/**\r\n * Wrapper per AnimatePresence con fallback SSR\r\n */\r\nexport const SafeAnimatePresence = ({ children, ...props }) => {\r\n  const isClient = useIsClient();\r\n  \r\n  if (!isClient) {\r\n    return <>{children}</>;\r\n  }\r\n  \r\n  return <AnimatePresence {...props}>{children}</AnimatePresence>;\r\n};\r\n\r\n/**\r\n * Esporta i componenti motion per uso diretto (solo lato client)\r\n */\r\nexport { MotionComponent, AnimatePresence };\r\n\r\n/**\r\n * Varianti di animazione predefinite per framer-motion\r\n */\r\nexport const fadeInUp = {\r\n  initial: { opacity: 0, y: 20 },\r\n  animate: { opacity: 1, y: 0 },\r\n  exit: { opacity: 0, y: -20 },\r\n  transition: { duration: 0.3, ease: 'easeOut' }\r\n};\r\n\r\nexport const fadeIn = {\r\n  initial: { opacity: 0 },\r\n  animate: { opacity: 1 },\r\n  exit: { opacity: 0 },\r\n  transition: { duration: 0.2 }\r\n};\r\n\r\nexport const scaleIn = {\r\n  initial: { opacity: 0, scale: 0.9 },\r\n  animate: { opacity: 1, scale: 1 },\r\n  exit: { opacity: 0, scale: 0.9 },\r\n  transition: { duration: 0.3, ease: 'easeOut' }\r\n};\r\n\r\nexport const slideInRight = {\r\n  initial: { opacity: 0, x: 30 },\r\n  animate: { opacity: 1, x: 0 },\r\n  exit: { opacity: 0, x: 30 },\r\n  transition: { duration: 0.4, ease: [0.16, 1, 0.3, 1] }\r\n};\r\n\r\n/**\r\n * Utility per gestire prefers-reduced-motion\r\n * Verifica se l'utente ha preferenze per movimento ridotto\r\n */\r\nexport const prefersReducedMotion = () => {\r\n  if (typeof window === 'undefined') return false;\r\n  \r\n  try {\r\n    return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\r\n  } catch (e) {\r\n    // Fallback se matchMedia non è supportato\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Utility per disabilitare animazioni se l'utente preferisce movimento ridotto\r\n * Restituisce props di animazione ottimizzate in base alle preferenze utente\r\n */\r\nexport const getAnimationProps = (defaultProps) => {\r\n  if (typeof window === 'undefined') {\r\n    // SSR: restituisci props di base senza animazioni\r\n    return {\r\n      ...defaultProps,\r\n      initial: { opacity: 1 },\r\n      animate: { opacity: 1 },\r\n      exit: { opacity: 1 },\r\n      transition: { duration: 0 }\r\n    };\r\n  }\r\n  \r\n  if (prefersReducedMotion()) {\r\n    return {\r\n      ...defaultProps,\r\n      transition: { duration: 0.01 }\r\n    };\r\n  }\r\n  \r\n  return defaultProps;\r\n};\r\n\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;CASC;;;;;;;;;;;;;;;;;;;;;;;;;AAED;AACA;AAAA;;;;AAEA,8DAA8D;AAC9D,qCAAqC;AACrC,MAAM,YAAY,6LAAM,CAAC,GAAG;AAC5B,MAAM,kBAAkB,6LAAM;AAC9B,MAAM,kBAAkB,qMAAqB;AAKtC,MAAM,cAAc;IACzB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IAEzC,IAAA,gHAAS,EAAC;QACR,YAAY;IACd,GAAG,EAAE;IAEL,OAAO;AACT;AAKO,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAE,GAAG,OAAO;IAClD,MAAM,WAAW;IAEjB,IAAI,CAAC,UAAU;QACb,qBAAO,qKAAC;YAAK,GAAG,KAAK;sBAAG;;;;;;IAC1B;IAEA,qBAAO,qKAAC;QAAW,GAAG,KAAK;kBAAG;;;;;;AAChC;AAKO,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAAE,GAAG,OAAO;IACxD,MAAM,WAAW;IAEjB,IAAI,CAAC,UAAU;QACb,qBAAO;sBAAG;;IACZ;IAEA,qBAAO,qKAAC;QAAiB,GAAG,KAAK;kBAAG;;;;;;AACtC;;AAUO,MAAM,WAAW;IACtB,SAAS;QAAE,SAAS;QAAG,GAAG;IAAG;IAC7B,SAAS;QAAE,SAAS;QAAG,GAAG;IAAE;IAC5B,MAAM;QAAE,SAAS;QAAG,GAAG,CAAC;IAAG;IAC3B,YAAY;QAAE,UAAU;QAAK,MAAM;IAAU;AAC/C;AAEO,MAAM,SAAS;IACpB,SAAS;QAAE,SAAS;IAAE;IACtB,SAAS;QAAE,SAAS;IAAE;IACtB,MAAM;QAAE,SAAS;IAAE;IACnB,YAAY;QAAE,UAAU;IAAI;AAC9B;AAEO,MAAM,UAAU;IACrB,SAAS;QAAE,SAAS;QAAG,OAAO;IAAI;IAClC,SAAS;QAAE,SAAS;QAAG,OAAO;IAAE;IAChC,MAAM;QAAE,SAAS;QAAG,OAAO;IAAI;IAC/B,YAAY;QAAE,UAAU;QAAK,MAAM;IAAU;AAC/C;AAEO,MAAM,eAAe;IAC1B,SAAS;QAAE,SAAS;QAAG,GAAG;IAAG;IAC7B,SAAS;QAAE,SAAS;QAAG,GAAG;IAAE;IAC5B,MAAM;QAAE,SAAS;QAAG,GAAG;IAAG;IAC1B,YAAY;QAAE,UAAU;QAAK,MAAM;YAAC;YAAM;YAAG;YAAK;SAAE;IAAC;AACvD;AAMO,MAAM,uBAAuB;IAClC,wCAAmC,OAAO;;;AAQ5C;AAMO,MAAM,oBAAoB,CAAC;IAChC,wCAAmC;QACjC,kDAAkD;QAClD,OAAO;YACL,GAAG,YAAY;YACf,SAAS;gBAAE,SAAS;YAAE;YACtB,SAAS;gBAAE,SAAS;YAAE;YACtB,MAAM;gBAAE,SAAS;YAAE;YACnB,YAAY;gBAAE,UAAU;YAAE;QAC5B;IACF;;;AAUF"}},
    {"offset": {"line": 5544, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/utils/fileValidation.js"],"sourcesContent":["// File validation utilities\r\n\r\nconst ALLOWED_MIME_TYPES = [\r\n  // Documents\r\n  'application/pdf',\r\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document', // DOCX\r\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', // XLSX\r\n  'application/vnd.ms-excel', // XLS\r\n  'text/plain',\r\n  'text/csv',\r\n  \r\n  // Images\r\n  'image/jpeg',\r\n  'image/png',\r\n  'image/gif',\r\n  'image/webp',\r\n  'image/bmp',\r\n];\r\n\r\nconst MAX_FILE_SIZE = 100 * 1024 * 1024; // 100MB\r\n\r\nexport function isValidFileType(mimeType) {\r\n  return ALLOWED_MIME_TYPES.includes(mimeType);\r\n}\r\n\r\nexport function isValidFileSize(size) {\r\n  return size <= MAX_FILE_SIZE;\r\n}\r\n\r\nexport function getFileExtension(filename) {\r\n  const parts = filename.split('.');\r\n  return parts.length > 1 ? parts[parts.length - 1].toLowerCase() : '';\r\n}\r\n\r\nexport function getFileIcon(fileType) {\r\n  const icons = {\r\n    pdf: '📄',\r\n    docx: '📝',\r\n    xlsx: '📊',\r\n    xls: '📊',\r\n    csv: '📊',\r\n    txt: '📃',\r\n    png: '🖼️',\r\n    jpg: '🖼️',\r\n    jpeg: '🖼️',\r\n    gif: '🖼️',\r\n    webp: '🖼️',\r\n  };\r\n  \r\n  return icons[fileType] || '📄';\r\n}\r\n\r\nexport function formatFileSize(bytes) {\r\n  if (bytes === 0) return '0 B';\r\n  const k = 1024;\r\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\r\n}\r\n\r\nexport function validateFile(file) {\r\n  if (!isValidFileType(file.type)) {\r\n    return {\r\n      valid: false,\r\n      error: `File type ${file.type} is not supported. Please upload PDF, DOCX, XLSX, TXT, or image files.`\r\n    };\r\n  }\r\n  \r\n  if (!isValidFileSize(file.size)) {\r\n    return {\r\n      valid: false,\r\n      error: `File size ${formatFileSize(file.size)} exceeds maximum allowed size of ${formatFileSize(MAX_FILE_SIZE)}.`\r\n    };\r\n  }\r\n  \r\n  return { valid: true };\r\n}\r\n\r\nexport function generatePreview(file) {\r\n  return new Promise((resolve, reject) => {\r\n    // For images, generate a data URL preview\r\n    if (file.type.startsWith('image/')) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        resolve({\r\n          type: 'image',\r\n          url: e.target.result,\r\n          name: file.name,\r\n          size: file.size\r\n        });\r\n      };\r\n      reader.onerror = reject;\r\n      reader.readAsDataURL(file);\r\n    } else {\r\n      // For non-images, return file info without preview\r\n      resolve({\r\n        type: 'file',\r\n        url: null,\r\n        name: file.name,\r\n        size: file.size,\r\n        icon: getFileIcon(getFileExtension(file.name))\r\n      });\r\n    }\r\n  });\r\n}\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;;;;;;;;;;;;AAE5B,MAAM,qBAAqB;IACzB,YAAY;IACZ;IACA;IACA;IACA;IACA;IACA;IAEA,SAAS;IACT;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,gBAAgB,MAAM,OAAO,MAAM,QAAQ;AAE1C,SAAS,gBAAgB,QAAQ;IACtC,OAAO,mBAAmB,QAAQ,CAAC;AACrC;AAEO,SAAS,gBAAgB,IAAI;IAClC,OAAO,QAAQ;AACjB;AAEO,SAAS,iBAAiB,QAAQ;IACvC,MAAM,QAAQ,SAAS,KAAK,CAAC;IAC7B,OAAO,MAAM,MAAM,GAAG,IAAI,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE,CAAC,WAAW,KAAK;AACpE;AAEO,SAAS,YAAY,QAAQ;IAClC,MAAM,QAAQ;QACZ,KAAK;QACL,MAAM;QACN,MAAM;QACN,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,MAAM;QACN,KAAK;QACL,MAAM;IACR;IAEA,OAAO,KAAK,CAAC,SAAS,IAAI;AAC5B;AAEO,SAAS,eAAe,KAAK;IAClC,IAAI,UAAU,GAAG,OAAO;IACxB,MAAM,IAAI;IACV,MAAM,QAAQ;QAAC;QAAK;QAAM;QAAM;QAAM;KAAK;IAC3C,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAChD,OAAO,KAAK,KAAK,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,KAAK,OAAO,MAAM,MAAM,KAAK,CAAC,EAAE;AACxE;AAEO,SAAS,aAAa,IAAI;IAC/B,IAAI,CAAC,gBAAgB,KAAK,IAAI,GAAG;QAC/B,OAAO;YACL,OAAO;YACP,OAAO,CAAC,UAAU,EAAE,KAAK,IAAI,CAAC,sEAAsE,CAAC;QACvG;IACF;IAEA,IAAI,CAAC,gBAAgB,KAAK,IAAI,GAAG;QAC/B,OAAO;YACL,OAAO;YACP,OAAO,CAAC,UAAU,EAAE,eAAe,KAAK,IAAI,EAAE,iCAAiC,EAAE,eAAe,eAAe,CAAC,CAAC;QACnH;IACF;IAEA,OAAO;QAAE,OAAO;IAAK;AACvB;AAEO,SAAS,gBAAgB,IAAI;IAClC,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,0CAA0C;QAC1C,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;YAClC,MAAM,SAAS,IAAI;YACnB,OAAO,MAAM,GAAG,CAAC;gBACf,QAAQ;oBACN,MAAM;oBACN,KAAK,EAAE,MAAM,CAAC,MAAM;oBACpB,MAAM,KAAK,IAAI;oBACf,MAAM,KAAK,IAAI;gBACjB;YACF;YACA,OAAO,OAAO,GAAG;YACjB,OAAO,aAAa,CAAC;QACvB,OAAO;YACL,mDAAmD;YACnD,QAAQ;gBACN,MAAM;gBACN,KAAK;gBACL,MAAM,KAAK,IAAI;gBACf,MAAM,KAAK,IAAI;gBACf,MAAM,YAAY,iBAAiB,KAAK,IAAI;YAC9C;QACF;IACF;AACF"}},
    {"offset": {"line": 5666, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/EnhancedDropzone.js"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { HiOutlineUpload, HiX } from 'react-icons/hi';\r\nimport { validateFile, generatePreview, formatFileSize } from '../utils/fileValidation';\r\nimport { showToast } from './Toast';\r\n\r\nexport default function EnhancedDropzone({ \r\n    onFilesAccepted, \r\n    category = 'image',\r\n    multiple = false,\r\n    maxFiles = 1 \r\n}) {\r\n    const [previews, setPreviews] = useState([]);\r\n    const [isDragActive, setIsDragActive] = useState(false);\r\n\r\n    const onDrop = useCallback(async (acceptedFiles) => {\r\n        const files = multiple ? acceptedFiles : [acceptedFiles[0]];\r\n        \r\n        // Validate files\r\n        const validFiles = [];\r\n        const startTime = Date.now();\r\n        for (const file of files) {\r\n            const validation = validateFile(file, category);\r\n            if (!validation.valid) {\r\n                showToast(validation.error, 'error', 5000, {\r\n                    details: `Tipo: ${file.type || 'sconosciuto'} • Dimensione: ${formatFileSize(file.size)}`,\r\n                    technical: `File: ${file.name.substring(0, 30)}${file.name.length > 30 ? '...' : ''}`\r\n                });\r\n                continue;\r\n            }\r\n            validFiles.push(file);\r\n        }\r\n\r\n        if (validFiles.length === 0) return;\r\n\r\n        // Generate previews\r\n        const previewPromises = validFiles.map(async (file) => {\r\n            const preview = await generatePreview(file);\r\n            return {\r\n                file,\r\n                preview,\r\n                name: file.name,\r\n                size: formatFileSize(file.size)\r\n            };\r\n        });\r\n\r\n        const newPreviews = await Promise.all(previewPromises);\r\n        setPreviews(newPreviews);\r\n        onFilesAccepted(validFiles);\r\n        \r\n        const totalSize = validFiles.reduce((sum, f) => sum + f.size, 0);\r\n        const loadTime = ((Date.now() - startTime) / 1000).toFixed(2);\r\n        \r\n        showToast(`${validFiles.length} file caricato${validFiles.length > 1 ? 'i' : ''} con successo`, 'success', 4000, {\r\n            details: `Dimensione totale: ${formatFileSize(totalSize)} • Tempo: ${loadTime}s`,\r\n            technical: validFiles.length === 1 \r\n                ? `${validFiles[0].name} (${validFiles[0].type})`\r\n                : `${validFiles.length} file processati`\r\n        });\r\n    }, [category, multiple, onFilesAccepted]);\r\n\r\n    const { getRootProps, getInputProps, isDragActive: dropzoneDragActive } = useDropzone({\r\n        onDrop,\r\n        multiple,\r\n        maxFiles,\r\n        accept: category === 'image' ? { 'image/*': ['.png', '.jpg', '.jpeg', '.webp', '.gif'] } : undefined\r\n    });\r\n\r\n    // Paste support\r\n    useEffect(() => {\r\n        const handlePaste = async (e) => {\r\n            const items = e.clipboardData?.items;\r\n            if (!items) return;\r\n\r\n            const files = [];\r\n            for (let item of items) {\r\n                if (item.type.startsWith('image/')) {\r\n                    const file = item.getAsFile();\r\n                    if (file) files.push(file);\r\n                }\r\n            }\r\n\r\n            if (files.length > 0) {\r\n                e.preventDefault();\r\n                onDrop(files);\r\n                const file = files[0];\r\n                showToast('Immagine incollata dal clipboard', 'info', 3000, {\r\n                    details: `Dimensione: ${formatFileSize(file.size)} • Tipo: ${file.type || 'sconosciuto'}`,\r\n                    technical: `Source: Clipboard • Method: Paste Event`\r\n                });\r\n            }\r\n        };\r\n\r\n        window.addEventListener('paste', handlePaste);\r\n        return () => window.removeEventListener('paste', handlePaste);\r\n    }, [onDrop]);\r\n\r\n    const removePreview = (index) => {\r\n        setPreviews(prev => prev.filter((_, i) => i !== index));\r\n    };\r\n\r\n    const clearAll = () => {\r\n        setPreviews([]);\r\n        onFilesAccepted([]);\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div \r\n                {...getRootProps()} \r\n                style={{\r\n                    ...styles.dropzone,\r\n                    borderColor: dropzoneDragActive ? '#667eea' : 'rgba(102, 126, 234, 0.3)',\r\n                    background: dropzoneDragActive ? 'rgba(102, 126, 234, 0.15)' : 'rgba(102, 126, 234, 0.05)',\r\n                    transform: dropzoneDragActive ? 'scale(1.02)' : 'scale(1)'\r\n                }}\r\n            >\r\n                <input \r\n                    {...getInputProps()} \r\n                    aria-label=\"Carica file immagine\"\r\n                    id=\"file-upload-input\"\r\n                />\r\n                <div style={styles.uploadIcon}>\r\n                    <HiOutlineUpload style={{ width: 48, height: 48 }} />\r\n                </div>\r\n                <h3 style={styles.dropzoneTitle}>\r\n                    {dropzoneDragActive ? 'Rilascia qui!' : 'Trascina file o clicca'}\r\n                </h3>\r\n                <p style={styles.dropzoneHint}>\r\n                    {multiple ? `Fino a ${maxFiles} file` : 'Un file alla volta'} • Max 10MB\r\n                    <br />\r\n                    <span style={styles.pasteHint}>💡 Puoi anche incollare con Ctrl+V</span>\r\n                </p>\r\n            </div>\r\n\r\n            {previews.length > 0 && (\r\n                <div style={styles.previewSection}>\r\n                    <div style={styles.previewHeader}>\r\n                        <span style={styles.previewTitle}>File caricati ({previews.length})</span>\r\n                        <button onClick={clearAll} style={styles.clearBtn}>\r\n                            Rimuovi tutti\r\n                        </button>\r\n                    </div>\r\n                    <div style={styles.previewGrid}>\r\n                        {previews.map((item, index) => (\r\n                            <div key={index} style={styles.previewCard}>\r\n                                {item.preview && (\r\n                                    <img src={item.preview} alt={item.name} style={styles.previewImg} />\r\n                                )}\r\n                                <div style={styles.previewInfo}>\r\n                                    <span style={styles.previewName}>{item.name}</span>\r\n                                    <span style={styles.previewSize}>{item.size}</span>\r\n                                </div>\r\n                                <button \r\n                                    onClick={() => removePreview(index)} \r\n                                    style={styles.removeBtn}\r\n                                    aria-label=\"Rimuovi file\"\r\n                                >\r\n                                    <HiX style={{ width: 16, height: 16 }} />\r\n                                </button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    container: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '20px',\r\n        width: '100%'\r\n    },\r\n    dropzone: {\r\n        border: '3px dashed',\r\n        borderRadius: '16px',\r\n        padding: '48px 24px',\r\n        textAlign: 'center',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.3s ease',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        gap: '16px'\r\n    },\r\n    uploadIcon: {\r\n        width: 80,\r\n        height: 80,\r\n        borderRadius: '50%',\r\n        background: 'rgba(102, 126, 234, 0.1)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        color: '#667eea'\r\n    },\r\n    dropzoneTitle: {\r\n        margin: 0,\r\n        fontSize: '20px',\r\n        fontWeight: '700',\r\n        color: '#e2e8f0'\r\n    },\r\n    dropzoneHint: {\r\n        margin: 0,\r\n        fontSize: '14px',\r\n        color: '#94a3b8',\r\n        lineHeight: '1.6'\r\n    },\r\n    pasteHint: {\r\n        fontSize: '13px',\r\n        color: '#667eea',\r\n        fontWeight: '500'\r\n    },\r\n    previewSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '12px'\r\n    },\r\n    previewHeader: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between'\r\n    },\r\n    previewTitle: {\r\n        fontSize: '14px',\r\n        fontWeight: '600',\r\n        color: '#cbd5e1'\r\n    },\r\n    clearBtn: {\r\n        background: 'rgba(239, 68, 68, 0.1)',\r\n        border: '1px solid rgba(239, 68, 68, 0.3)',\r\n        borderRadius: '6px',\r\n        padding: '6px 12px',\r\n        color: '#ef4444',\r\n        fontSize: '13px',\r\n        fontWeight: '600',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.2s'\r\n    },\r\n    previewGrid: {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fill, minmax(120px, 1fr))',\r\n        gap: '12px'\r\n    },\r\n    previewCard: {\r\n        position: 'relative',\r\n        background: 'rgba(102, 126, 234, 0.05)',\r\n        border: '1px solid rgba(102, 126, 234, 0.2)',\r\n        borderRadius: '12px',\r\n        overflow: 'hidden',\r\n        aspectRatio: '1',\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    },\r\n    previewImg: {\r\n        width: '100%',\r\n        height: '80px',\r\n        objectFit: 'cover'\r\n    },\r\n    previewInfo: {\r\n        padding: '8px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '4px',\r\n        flex: 1\r\n    },\r\n    previewName: {\r\n        fontSize: '12px',\r\n        color: '#cbd5e1',\r\n        fontWeight: '500',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        whiteSpace: 'nowrap'\r\n    },\r\n    previewSize: {\r\n        fontSize: '11px',\r\n        color: '#94a3b8'\r\n    },\r\n    removeBtn: {\r\n        position: 'absolute',\r\n        top: '6px',\r\n        right: '6px',\r\n        background: 'rgba(0, 0, 0, 0.7)',\r\n        border: 'none',\r\n        borderRadius: '6px',\r\n        padding: '4px',\r\n        color: '#ffffff',\r\n        cursor: 'pointer',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        transition: 'all 0.2s'\r\n    }\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/ExportModal.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { HiX, HiDownload } from 'react-icons/hi';\r\n\r\nexport default function ExportModal({ imageData, filename, onClose }) {\r\n    const [format, setFormat] = useState('png');\r\n    const [quality, setQuality] = useState(90);\r\n    const [isConverting, setIsConverting] = useState(false);\r\n\r\n    const handleExport = async () => {\r\n        setIsConverting(true);\r\n        try {\r\n            // Convert image to selected format\r\n            const img = new Image();\r\n            img.src = imageData;\r\n            \r\n            await new Promise((resolve) => {\r\n                img.onload = resolve;\r\n            });\r\n\r\n            const canvas = document.createElement('canvas');\r\n            canvas.width = img.width;\r\n            canvas.height = img.height;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.drawImage(img, 0, 0);\r\n\r\n            // Convert to blob with quality\r\n            const mimeType = format === 'png' ? 'image/png' : \r\n                           format === 'jpg' ? 'image/jpeg' : 'image/webp';\r\n            \r\n            canvas.toBlob((blob) => {\r\n                const url = URL.createObjectURL(blob);\r\n                const a = document.createElement('a');\r\n                a.href = url;\r\n                a.download = `${filename.replace(/\\.[^/.]+$/, '')}.${format}`;\r\n                document.body.appendChild(a);\r\n                a.click();\r\n                document.body.removeChild(a);\r\n                URL.revokeObjectURL(url);\r\n                setIsConverting(false);\r\n                onClose();\r\n            }, mimeType, quality / 100);\r\n\r\n        } catch (error) {\r\n            console.error('Export error:', error);\r\n            setIsConverting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.overlay} onClick={onClose}>\r\n            <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n                <div style={styles.header}>\r\n                    <h3 style={styles.title}>Esporta Immagine</h3>\r\n                    <button onClick={onClose} style={styles.closeBtn} aria-label=\"Chiudi\">\r\n                        <HiX style={{ width: 20, height: 20 }} />\r\n                    </button>\r\n                </div>\r\n\r\n                <div style={styles.content}>\r\n                    <div style={styles.section}>\r\n                        <label style={styles.label}>Formato</label>\r\n                        <div style={styles.formatGrid}>\r\n                            {['png', 'jpg', 'webp'].map(fmt => (\r\n                                <button\r\n                                    key={fmt}\r\n                                    onClick={() => setFormat(fmt)}\r\n                                    style={{\r\n                                        ...styles.formatBtn,\r\n                                        background: format === fmt ? 'rgba(102, 126, 234, 0.3)' : 'rgba(102, 126, 234, 0.1)',\r\n                                        borderColor: format === fmt ? '#667eea' : 'rgba(102, 126, 234, 0.3)'\r\n                                    }}\r\n                                >\r\n                                    {fmt.toUpperCase()}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {format !== 'png' && (\r\n                        <div style={styles.section}>\r\n                            <label style={styles.label}>\r\n                                Qualità: {quality}%\r\n                            </label>\r\n                            <input\r\n                                type=\"range\"\r\n                                min=\"60\"\r\n                                max=\"100\"\r\n                                value={quality}\r\n                                onChange={(e) => setQuality(parseInt(e.target.value))}\r\n                                style={styles.slider}\r\n                            />\r\n                            <div style={styles.qualityHints}>\r\n                                <span style={styles.hint}>Minore dimensione</span>\r\n                                <span style={styles.hint}>Migliore qualità</span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div style={styles.info}>\r\n                        <p style={styles.infoText}>\r\n                            {format === 'png' && '• PNG: Qualità massima, supporta trasparenza'}\r\n                            {format === 'jpg' && '• JPG: File più piccolo, nessuna trasparenza'}\r\n                            {format === 'webp' && '• WebP: Miglior compressione, supporta trasparenza'}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={styles.footer}>\r\n                    <button onClick={onClose} style={styles.cancelBtn}>\r\n                        Annulla\r\n                    </button>\r\n                    <button \r\n                        onClick={handleExport} \r\n                        style={styles.exportBtn}\r\n                        disabled={isConverting}\r\n                    >\r\n                        <HiDownload style={{ width: 18, height: 18 }} />\r\n                        {isConverting ? 'Conversione...' : 'Scarica'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    overlay: {\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: 'rgba(0, 0, 0, 0.7)',\r\n        backdropFilter: 'blur(8px)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 9999,\r\n        padding: '20px'\r\n    },\r\n    modal: {\r\n        background: 'rgba(15, 23, 42, 0.98)',\r\n        border: '1px solid rgba(102, 126, 234, 0.3)',\r\n        borderRadius: '16px',\r\n        maxWidth: '480px',\r\n        width: '100%',\r\n        boxShadow: '0 20px 60px rgba(0, 0, 0, 0.5)'\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        padding: '20px 24px',\r\n        borderBottom: '1px solid rgba(102, 126, 234, 0.2)'\r\n    },\r\n    title: {\r\n        margin: 0,\r\n        fontSize: '20px',\r\n        fontWeight: '700',\r\n        color: '#e2e8f0'\r\n    },\r\n    closeBtn: {\r\n        background: 'rgba(102, 126, 234, 0.1)',\r\n        border: 'none',\r\n        borderRadius: '8px',\r\n        padding: '8px',\r\n        cursor: 'pointer',\r\n        color: '#cbd5e1',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        transition: 'background 0.2s'\r\n    },\r\n    content: {\r\n        padding: '24px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '24px'\r\n    },\r\n    section: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '12px'\r\n    },\r\n    label: {\r\n        fontSize: '14px',\r\n        fontWeight: '600',\r\n        color: '#cbd5e1'\r\n    },\r\n    formatGrid: {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(3, 1fr)',\r\n        gap: '12px'\r\n    },\r\n    formatBtn: {\r\n        padding: '12px',\r\n        border: '2px solid',\r\n        borderRadius: '8px',\r\n        fontSize: '14px',\r\n        fontWeight: '600',\r\n        color: '#e2e8f0',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.2s'\r\n    },\r\n    slider: {\r\n        width: '100%',\r\n        height: '6px',\r\n        borderRadius: '3px',\r\n        outline: 'none',\r\n        background: 'rgba(102, 126, 234, 0.2)',\r\n        cursor: 'pointer'\r\n    },\r\n    qualityHints: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        marginTop: '-4px'\r\n    },\r\n    hint: {\r\n        fontSize: '12px',\r\n        color: '#94a3b8'\r\n    },\r\n    info: {\r\n        background: 'rgba(102, 126, 234, 0.1)',\r\n        padding: '12px 16px',\r\n        borderRadius: '8px',\r\n        border: '1px solid rgba(102, 126, 234, 0.2)'\r\n    },\r\n    infoText: {\r\n        margin: 0,\r\n        fontSize: '13px',\r\n        color: '#cbd5e1',\r\n        lineHeight: '1.5'\r\n    },\r\n    footer: {\r\n        display: 'flex',\r\n        gap: '12px',\r\n        padding: '20px 24px',\r\n        borderTop: '1px solid rgba(102, 126, 234, 0.2)'\r\n    },\r\n    cancelBtn: {\r\n        flex: 1,\r\n        padding: '12px',\r\n        background: 'rgba(102, 126, 234, 0.1)',\r\n        border: '1px solid rgba(102, 126, 234, 0.3)',\r\n        borderRadius: '8px',\r\n        color: '#cbd5e1',\r\n        fontSize: '14px',\r\n        fontWeight: '600',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.2s'\r\n    },\r\n    exportBtn: {\r\n        flex: 1,\r\n        padding: '12px',\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        border: 'none',\r\n        borderRadius: '8px',\r\n        color: '#ffffff',\r\n        fontSize: '14px',\r\n        fontWeight: '600',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.2s',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        gap: '8px'\r\n    }\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6519, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/Loading.js"],"sourcesContent":["export function LoadingSpinner({ size = 40, color = '#667eea' }) {\r\n    return (\r\n        <div style={{ ...styles.spinner, width: size, height: size, borderTopColor: color }}>\r\n            <style jsx>{`\r\n                @keyframes spin {\r\n                    to { transform: rotate(360deg); }\r\n                }\r\n            `}</style>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ProgressBar({ progress, showPercentage = true }) {\r\n    return (\r\n        <div style={styles.progressContainer}>\r\n            <div style={styles.progressTrack}>\r\n                <div \r\n                    style={{\r\n                        ...styles.progressFill,\r\n                        width: `${Math.min(100, Math.max(0, progress))}%`\r\n                    }}\r\n                />\r\n            </div>\r\n            {showPercentage && (\r\n                <span style={styles.progressText}>\r\n                    {Math.round(progress)}%\r\n                </span>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function SkeletonLoader({ width = '100%', height = 20, borderRadius = 8 }) {\r\n    return (\r\n        <div style={{\r\n            ...styles.skeleton,\r\n            width,\r\n            height,\r\n            borderRadius\r\n        }}>\r\n            <style jsx>{`\r\n                @keyframes shimmer {\r\n                    0% { background-position: -1000px 0; }\r\n                    100% { background-position: 1000px 0; }\r\n                }\r\n            `}</style>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function LoadingOverlay({ message = 'Elaborazione in corso...' }) {\r\n    return (\r\n        <div style={styles.overlay}>\r\n            <div style={styles.overlayContent}>\r\n                <LoadingSpinner size={50} color=\"#667eea\" />\r\n                <p style={styles.overlayText}>{message}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    spinner: {\r\n        border: '4px solid rgba(102, 126, 234, 0.2)',\r\n        borderTopColor: '#667eea',\r\n        borderRadius: '50%',\r\n        animation: 'spin 0.8s linear infinite'\r\n    },\r\n    progressContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '12px',\r\n        width: '100%'\r\n    },\r\n    progressTrack: {\r\n        flex: 1,\r\n        height: '8px',\r\n        background: 'rgba(102, 126, 234, 0.15)',\r\n        borderRadius: '4px',\r\n        overflow: 'hidden',\r\n        position: 'relative'\r\n    },\r\n    progressFill: {\r\n        height: '100%',\r\n        background: 'linear-gradient(90deg, #667eea 0%, #764ba2 100%)',\r\n        borderRadius: '4px',\r\n        transition: 'width 0.3s ease',\r\n        position: 'relative',\r\n        overflow: 'hidden'\r\n    },\r\n    progressText: {\r\n        fontSize: '14px',\r\n        fontWeight: '600',\r\n        color: '#cbd5e1',\r\n        minWidth: '45px',\r\n        textAlign: 'right'\r\n    },\r\n    skeleton: {\r\n        background: 'linear-gradient(90deg, rgba(102, 126, 234, 0.1) 0%, rgba(102, 126, 234, 0.2) 50%, rgba(102, 126, 234, 0.1) 100%)',\r\n        backgroundSize: '1000px 100%',\r\n        animation: 'shimmer 2s infinite linear'\r\n    },\r\n    overlay: {\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: 'rgba(10, 14, 26, 0.9)',\r\n        backdropFilter: 'blur(8px)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 9998\r\n    },\r\n    overlayContent: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        gap: '20px'\r\n    },\r\n    overlayText: {\r\n        color: '#e2e8f0',\r\n        fontSize: '16px',\r\n        fontWeight: '500',\r\n        margin: 0\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAO,SAAS,eAAe,EAAE,OAAO,EAAE,EAAE,QAAQ,SAAS,EAAE;IAC3D,qBACI,qKAAC;QAAI,OAAO;YAAE,GAAG,OAAO,OAAO;YAAE,OAAO;YAAM,QAAQ;YAAM,gBAAgB;QAAM;;;;;;;;;;;AAQ1F;AAEO,SAAS,YAAY,EAAE,QAAQ,EAAE,iBAAiB,IAAI,EAAE;IAC3D,qBACI,qKAAC;QAAI,OAAO,OAAO,iBAAiB;;0BAChC,qKAAC;gBAAI,OAAO,OAAO,aAAa;0BAC5B,cAAA,qKAAC;oBACG,OAAO;wBACH,GAAG,OAAO,YAAY;wBACtB,OAAO,GAAG,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,WAAW,CAAC,CAAC;oBACrD;;;;;;;;;;;YAGP,gCACG,qKAAC;gBAAK,OAAO,OAAO,YAAY;;oBAC3B,KAAK,KAAK,CAAC;oBAAU;;;;;;;;;;;;;AAK1C;AAEO,SAAS,eAAe,EAAE,QAAQ,MAAM,EAAE,SAAS,EAAE,EAAE,eAAe,CAAC,EAAE;IAC5E,qBACI,qKAAC;QAAI,OAAO;YACR,GAAG,OAAO,QAAQ;YAClB;YACA;YACA;QACJ;;;;;;;;;;;AASR;AAEO,SAAS,eAAe,EAAE,UAAU,0BAA0B,EAAE;IACnE,qBACI,qKAAC;QAAI,OAAO,OAAO,OAAO;kBACtB,cAAA,qKAAC;YAAI,OAAO,OAAO,cAAc;;8BAC7B,qKAAC;oBAAe,MAAM;oBAAI,OAAM;;;;;;8BAChC,qKAAC;oBAAE,OAAO,OAAO,WAAW;8BAAG;;;;;;;;;;;;;;;;;AAI/C;AAEA,MAAM,SAAS;IACX,SAAS;QACL,QAAQ;QACR,gBAAgB;QAChB,cAAc;QACd,WAAW;IACf;IACA,mBAAmB;QACf,SAAS;QACT,YAAY;QACZ,KAAK;QACL,OAAO;IACX;IACA,eAAe;QACX,MAAM;QACN,QAAQ;QACR,YAAY;QACZ,cAAc;QACd,UAAU;QACV,UAAU;IACd;IACA,cAAc;QACV,QAAQ;QACR,YAAY;QACZ,cAAc;QACd,YAAY;QACZ,UAAU;QACV,UAAU;IACd;IACA,cAAc;QACV,UAAU;QACV,YAAY;QACZ,OAAO;QACP,UAAU;QACV,WAAW;IACf;IACA,UAAU;QACN,YAAY;QACZ,gBAAgB;QAChB,WAAW;IACf;IACA,SAAS;QACL,UAAU;QACV,KAAK;QACL,MAAM;QACN,OAAO;QACP,QAAQ;QACR,YAAY;QACZ,gBAAgB;QAChB,SAAS;QACT,YAAY;QACZ,gBAAgB;QAChB,QAAQ;IACZ;IACA,gBAAgB;QACZ,SAAS;QACT,eAAe;QACf,YAAY;QACZ,KAAK;IACT;IACA,aAAa;QACT,OAAO;QACP,UAAU;QACV,YAAY;QACZ,QAAQ;IACZ;AACJ"}},
    {"offset": {"line": 6717, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/BackgroundRemover.js"],"sourcesContent":["import { useState, useCallback, useMemo, useEffect, useRef } from 'react';\nimport { HiDownload, HiRefresh, HiX } from 'react-icons/hi';\nimport { SafeMotionDiv, SafeAnimatePresence, fadeInUp, scaleIn } from '../../lib/animations';\nimport EnhancedDropzone from '../EnhancedDropzone';\nimport ExportModal from '../ExportModal';\nimport { LoadingOverlay, ProgressBar } from '../Loading';\nimport { showToast, updateToast } from '../Toast';\nimport { saveToHistory } from '../../utils/history';\n\nconst PRESETS = {\n    portrait: { type: 'person', quality: 90, crop: true, cropMargin: 5, name: 'Ritratto' },\n    product: { type: 'product', quality: 85, crop: true, cropMargin: 10, name: 'Prodotto' },\n    car: { type: 'car', quality: 85, crop: true, cropMargin: 8, name: 'Auto' },\n    document: { type: 'auto', quality: 70, crop: false, cropMargin: 0, name: 'Documento' }\n};\n\nconst BackgroundRemover = () => {\n    const [files, setFiles] = useState([]);\n    const [processedImage, setProcessedImage] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [progress, setProgress] = useState(0);\n    const [error, setError] = useState(null);\n    const [subjectType, setSubjectType] = useState('auto');\n    const [quality, setQuality] = useState(90);\n    const [crop, setCrop] = useState(true);\n    const [cropMargin, setCropMargin] = useState(8);\n    const [bgPreview, setBgPreview] = useState('checker');\n    const [autoProcess, setAutoProcess] = useState(false); // Disabilitato di default - l'utente deve cliccare manualmente\n    const [compare, setCompare] = useState(50);\n    const [showExportModal, setShowExportModal] = useState(false);\n    const progressIntervalRef = useRef(null);\n    const toastIdRef = useRef(null);\n\n    const onFilesAccepted = useCallback((acceptedFiles) => {\n        setProcessedImage(null);\n        setError(null);\n        setFiles(acceptedFiles);\n    }, []);\n\n    const mappedSize = useMemo(() => {\n        if (quality >= 85) return 'full';\n        if (quality >= 60) return 'medium';\n        if (quality >= 35) return 'regular';\n        if (quality >= 15) return 'small';\n        return 'preview';\n    }, [quality]);\n\n    const handleProcessImage = async () => {\n        if (files.length === 0) {\n            // Usa setTimeout per evitare chiamate durante il render\n            setTimeout(() => {\n                showToast('Carica prima un\\'immagine', 'error', 4000, {\n                    details: 'Nessun file selezionato per l\\'elaborazione',\n                    technical: 'Status: No file provided'\n                });\n            }, 0);\n            return;\n        }\n\n        setIsLoading(true);\n        setError(null);\n        setProcessedImage(null);\n        setProgress(0);\n\n        const startTime = Date.now();\n        const file = files[0];\n        const fileSize = (file.size / 1024 / 1024).toFixed(2);\n        \n        // Usa setTimeout per evitare chiamate durante il render\n        let toastId;\n        await new Promise(resolve => {\n            setTimeout(() => {\n                toastId = showToast('Elaborazione in corso...', 'progress', 0, {\n                    progress: 0,\n                    details: `File: ${file.name.substring(0, 25)}${file.name.length > 25 ? '...' : ''} • ${fileSize} MB`,\n                    technical: `Type: ${subjectType} • Size: ${mappedSize} • Crop: ${crop ? 'Yes' : 'No'}`\n                });\n                resolve();\n            }, 0);\n        });\n\n        // Verifica che il file sia valido prima di inviare\n        if (!file || !file.size || file.size === 0) {\n            setError('Il file selezionato non è valido o è vuoto.');\n            setIsLoading(false);\n            updateToast(toastId, {\n                type: 'error',\n                message: 'File non valido',\n                details: 'Il file selezionato è vuoto o corrotto.'\n            });\n            return;\n        }\n\n        console.log('Sending file to API:', {\n            name: file.name,\n            size: file.size,\n            type: file.type,\n            lastModified: file.lastModified\n        });\n\n        const formData = new FormData();\n        formData.append('file', file);\n        formData.append('type', subjectType);\n        formData.append('size', mappedSize);\n        formData.append('crop', crop ? 'true' : 'false');\n        if (crop) formData.append('crop_margin', `${cropMargin}%`);\n\n        // Verifica che il file sia nel FormData\n        console.log('FormData entries:', Array.from(formData.entries()).map(([key, value]) => [\n            key, \n            value instanceof File ? { name: value.name, size: value.size, type: value.type } : value\n        ]));\n\n        // Salva il toastId in un ref per usarlo nel progress interval\n        toastIdRef.current = toastId;\n        \n        // Simulate progress - usa setTimeout per evitare chiamate durante il render\n        progressIntervalRef.current = setInterval(() => {\n            setProgress(prev => {\n                const newProgress = Math.min(prev + 10, 90);\n                // Usa setTimeout per evitare chiamate durante il render\n                setTimeout(() => {\n                    if (toastIdRef.current) {\n                        updateToast(toastIdRef.current, { progress: newProgress });\n                    }\n                }, 0);\n                return newProgress;\n            });\n        }, 200);\n\n        try {\n            console.log('Sending request to /api/tools/remove-background...');\n            const response = await fetch('/api/tools/remove-background', {\n                method: 'POST',\n                body: formData,\n            });\n\n            console.log('Response received:', {\n                status: response.status,\n                statusText: response.statusText,\n                ok: response.ok,\n                headers: Object.fromEntries(response.headers.entries())\n            });\n\n            if (progressIntervalRef.current) {\n                clearInterval(progressIntervalRef.current);\n                progressIntervalRef.current = null;\n            }\n            setProgress(95);\n            setTimeout(() => {\n                if (toastIdRef.current) {\n                    updateToast(toastIdRef.current, { progress: 95, message: 'Finalizzazione...' });\n                }\n            }, 0);\n\n            if (!response.ok) {\n                console.error('Response not OK:', response.status, response.statusText);\n                // Prova a leggere come JSON, altrimenti come testo\n                let errorMessage = 'Qualcosa è andato storto';\n                let errorDetails = '';\n                try {\n                    const contentType = response.headers.get('content-type');\n                    if (contentType && contentType.includes('application/json')) {\n                        const errorData = await response.json();\n                        errorMessage = errorData.error || errorMessage;\n                        errorDetails = errorData.debug ? JSON.stringify(errorData.debug, null, 2) : '';\n                        console.error('Error details from server:', errorData);\n                    } else {\n                        const errorText = await response.text();\n                        errorMessage = errorText || errorMessage;\n                        console.error('Error text from server:', errorText);\n                    }\n                } catch (e) {\n                    console.error('Error reading response:', e);\n                    errorMessage = `Errore HTTP ${response.status}: ${response.statusText}`;\n                }\n                console.error('Full error:', { status: response.status, message: errorMessage, details: errorDetails });\n                throw new Error(errorMessage);\n            }\n\n            const blob = await response.blob();\n            const imageUrl = URL.createObjectURL(blob);\n            setProcessedImage(imageUrl);\n            setProgress(100);\n\n            const processTime = ((Date.now() - startTime) / 1000).toFixed(2);\n            const outputSize = (blob.size / 1024 / 1024).toFixed(2);\n\n            // Save to history - converti il blob in data URL per renderlo persistente\n            if (typeof window !== 'undefined' && typeof document !== 'undefined') {\n                const reader = new FileReader();\n                reader.onload = () => {\n                    const resultDataUrl = reader.result; // Data URL del risultato completo\n                    \n                    // Crea un thumbnail più piccolo per la history (max 200x200)\n                    try {\n                        const canvas = document.createElement('canvas');\n                        const ctx = canvas.getContext('2d');\n                        const img = new Image();\n                        img.onload = () => {\n                            const maxSize = 200;\n                            let thumbWidth = img.width;\n                            let thumbHeight = img.height;\n                            \n                            if (thumbWidth > maxSize || thumbHeight > maxSize) {\n                                const ratio = Math.min(maxSize / thumbWidth, maxSize / thumbHeight);\n                                thumbWidth = Math.round(thumbWidth * ratio);\n                                thumbHeight = Math.round(thumbHeight * ratio);\n                            }\n                            \n                            canvas.width = thumbWidth;\n                            canvas.height = thumbHeight;\n                            ctx.drawImage(img, 0, 0, thumbWidth, thumbHeight);\n                            const thumbnail = canvas.toDataURL('image/png', 0.7);\n                            \n                            saveToHistory({\n                                tool: 'Rimozione Sfondo AI',\n                                filename: file.name,\n                                thumbnail: thumbnail,\n                                params: { subjectType, quality: mappedSize, crop, cropMargin },\n                                result: resultDataUrl // Data URL persistente invece di blob URL\n                            });\n                        };\n                        img.onerror = () => {\n                            // Fallback: usa il data URL completo come thumbnail\n                            saveToHistory({\n                                tool: 'Rimozione Sfondo AI',\n                                filename: file.name,\n                                thumbnail: resultDataUrl,\n                                params: { subjectType, quality: mappedSize, crop, cropMargin },\n                                result: resultDataUrl\n                            });\n                        };\n                        img.src = resultDataUrl;\n                    } catch (canvasError) {\n                        console.warn('Canvas not available, using full data URL:', canvasError);\n                        // Fallback: usa il data URL completo\n                        saveToHistory({\n                            tool: 'Rimozione Sfondo AI',\n                            filename: file.name,\n                            thumbnail: resultDataUrl,\n                            params: { subjectType, quality: mappedSize, crop, cropMargin },\n                            result: resultDataUrl\n                        });\n                    }\n                };\n                reader.onerror = (err) => {\n                    console.error('Failed to read blob for history:', err);\n                    // Fallback: salva comunque con il blob URL\n                    saveToHistory({\n                        tool: 'Rimozione Sfondo AI',\n                        filename: file.name,\n                        thumbnail: null,\n                        params: { subjectType, quality: mappedSize, crop, cropMargin },\n                        result: imageUrl\n                    });\n                };\n                reader.readAsDataURL(blob);\n            } else {\n                // Fallback se non siamo in browser\n                saveToHistory({\n                    tool: 'Rimozione Sfondo AI',\n                    filename: file.name,\n                    thumbnail: null,\n                    params: { subjectType, quality: mappedSize, crop, cropMargin },\n                    result: imageUrl\n                });\n            }\n\n            setTimeout(() => {\n                if (toastIdRef.current) {\n                    updateToast(toastIdRef.current, {\n                        type: 'success',\n                        message: 'Sfondo rimosso con successo!',\n                        progress: 100,\n                        details: `Tempo elaborazione: ${processTime}s • Output: ${outputSize} MB`,\n                        technical: `Algorithm: AI Background Removal • Quality: ${mappedSize} • Compression: ${((1 - blob.size / file.size) * 100).toFixed(1)}%`\n                    });\n                }\n            }, 0);\n\n        } catch (err) {\n            setError(err.message);\n            setTimeout(() => {\n                if (toastIdRef.current) {\n                    updateToast(toastIdRef.current, {\n                        type: 'error',\n                        message: err.message,\n                        details: 'Errore durante l\\'elaborazione dell\\'immagine',\n                        technical: `Error: ${err.message} • File: ${file.name}`\n                    });\n                }\n            }, 0);\n            if (progressIntervalRef.current) {\n                clearInterval(progressIntervalRef.current);\n                progressIntervalRef.current = null;\n            }\n        } finally {\n            setIsLoading(false);\n            toastIdRef.current = null;\n            if (progressIntervalRef.current) {\n                clearInterval(progressIntervalRef.current);\n                progressIntervalRef.current = null;\n            }\n            setTimeout(() => setProgress(0), 1000);\n        }\n    };\n\n    const applyPreset = (presetKey) => {\n        const preset = PRESETS[presetKey];\n        setSubjectType(preset.type);\n        setQuality(preset.quality);\n        setCrop(preset.crop);\n        setCropMargin(preset.cropMargin);\n        showToast(`Preset \"${preset.name}\" applicato`, 'info', 3000, {\n            details: `Tipo: ${preset.type} • Qualità: ${preset.quality}% • Ritaglio: ${preset.crop ? 'Sì' : 'No'}`,\n            technical: `Preset: ${presetKey} • Crop Margin: ${preset.cropMargin}%`\n        });\n    };\n\n    const handleRemoveFile = () => {\n        setFiles([]);\n        setProcessedImage(null);\n        setError(null);\n        setProgress(0);\n    };\n\n    // Auto-process when file or main controls change (solo se autoProcess è abilitato)\n    useEffect(() => {\n        if (autoProcess && files.length > 0 && !isLoading) {\n            const file = files[0];\n            // Verifica che il file sia valido e pronto\n            if (!file || !file.size || file.size === 0) {\n                console.warn('File not ready for processing:', file);\n                return;\n            }\n            // Usa setTimeout per evitare chiamate durante il render e dare tempo al file di essere completamente caricato\n            const id = setTimeout(() => {\n                // Verifica di nuovo prima di processare\n                if (files.length > 0 && files[0] && files[0].size > 0 && !isLoading) {\n                    handleProcessImage();\n                }\n            }, 1000); // Aumentato a 1 secondo per dare più tempo al file di essere completamente caricato\n            return () => clearTimeout(id);\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [files, subjectType, quality, crop, cropMargin, autoProcess]);\n\n    return (\n        <div style={styles.container}>\n            {isLoading && (\n                <LoadingOverlay message={`Rimozione sfondo in corso... ${progress}%`} />\n            )}\n\n            <EnhancedDropzone \n                onFilesAccepted={onFilesAccepted}\n                category=\"image\"\n                multiple={false}\n                maxFiles={1}\n            />\n\n            <div style={styles.presetsRow}>\n                <div style={styles.controlBox}>\n                    <label htmlFor=\"subject-type-select\" style={styles.label}>Tipo soggetto</label>\n                    <select \n                        id=\"subject-type-select\"\n                        value={subjectType} \n                        onChange={(e)=>setSubjectType(e.target.value)} \n                        style={styles.select}\n                        aria-label=\"Seleziona il tipo di soggetto dell'immagine\"\n                    >\n                        <option value=\"auto\">Auto</option>\n                        <option value=\"person\">Persona</option>\n                        <option value=\"product\">Prodotto</option>\n                        <option value=\"car\">Auto</option>\n                        <option value=\"animal\">Animale</option>\n                    </select>\n                </div>\n                <div style={styles.controlBox}>\n                    <div style={styles.flexBetween}>\n                        <label htmlFor=\"quality-range\" style={styles.label}>Qualità/Dettagli</label>\n                        <span style={styles.badge}>{mappedSize}</span>\n                    </div>\n                    <input \n                        id=\"quality-range\"\n                        type=\"range\" \n                        min=\"0\" \n                        max=\"100\" \n                        value={quality} \n                        onChange={(e)=>setQuality(parseInt(e.target.value,10))} \n                        style={styles.slider}\n                        aria-label={`Qualità immagine: ${quality}%`}\n                        aria-valuemin={0}\n                        aria-valuemax={100}\n                        aria-valuenow={quality}\n                    />\n                </div>\n                <div style={styles.controlBox}>\n                    <label style={styles.label}>Ritaglio intelligente</label>\n                    <div style={styles.checkboxRow}>\n                        <input id=\"crop\" type=\"checkbox\" checked={crop} onChange={(e)=>setCrop(e.target.checked)} />\n                        <label htmlFor=\"crop\" style={styles.checkLabel}>Crop intorno al soggetto</label>\n                    </div>\n                    <div style={{...styles.marginControl, opacity: crop ? 1 : 0.5, pointerEvents: crop ? 'auto' : 'none'}}>\n                        <div style={styles.flexBetween}>\n                            <label htmlFor=\"crop-margin-range\" style={styles.label}>Margine</label>\n                            <span style={styles.badgeSmall}>{cropMargin}%</span>\n                        </div>\n                        <input \n                            id=\"crop-margin-range\"\n                            type=\"range\" \n                            min=\"0\" \n                            max=\"30\" \n                            value={cropMargin} \n                            onChange={(e)=>setCropMargin(parseInt(e.target.value,10))} \n                            style={styles.slider}\n                            aria-label={`Margine ritaglio: ${cropMargin}%`}\n                            aria-valuemin={0}\n                            aria-valuemax={30}\n                            aria-valuenow={cropMargin}\n                            disabled={!crop}\n                        />\n                    </div>\n                </div>\n                <div style={styles.controlBox}>\n                    <label style={styles.label}>Anteprima sfondo</label>\n                    <div style={styles.bgGrid}>\n                        {['checker','transparent','white','black'].map(opt => (\n                            <button \n                                key={opt} \n                                onClick={()=>setBgPreview(opt)} \n                                style={{...styles.bgBtn, ...(bgPreview===opt ? styles.bgBtnActive : {}), ...(opt==='checker' ? styles.bgChecker : opt==='white' ? styles.bgWhite : opt==='black' ? styles.bgBlack : styles.bgTransparent)}}\n                                aria-label={`Anteprima sfondo: ${opt === 'checker' ? 'Scacchiera' : opt === 'transparent' ? 'Trasparente' : opt === 'white' ? 'Bianco' : 'Nero'}`}\n                                title={opt === 'checker' ? 'Scacchiera' : opt === 'transparent' ? 'Trasparente' : opt === 'white' ? 'Bianco' : 'Nero'}\n                            >\n                            <span style={{position: 'absolute', width: '1px', height: '1px', padding: 0, margin: '-1px', overflow: 'hidden', clip: 'rect(0,0,0,0)', whiteSpace: 'nowrap', border: 0}}>\n                                {opt === 'checker' ? 'Scacchiera' : opt === 'transparent' ? 'Trasparente' : opt === 'white' ? 'Bianco' : 'Nero'}\n                            </span>\n                            </button>\n                        ))}\n                    </div>\n                    <div style={styles.checkboxRow}>\n                        <input id=\"auto\" type=\"checkbox\" checked={autoProcess} onChange={(e)=>setAutoProcess(e.target.checked)} />\n                        <label htmlFor=\"auto\" style={styles.checkLabel}>Elabora automaticamente</label>\n                    </div>\n                </div>\n            </div>\n\n            <SafeAnimatePresence>\n                {files.length > 0 && (\n                    <SafeMotionDiv\n                        {...fadeInUp}\n                        style={styles.filePreview}\n                    >\n                        <div style={styles.fileRow}>\n                            <div style={styles.fileInfo}>\n                                <img src={files[0].preview} alt=\"Anteprima\" style={styles.fileThumb} />\n                                <div>\n                                    <p style={styles.fileName}>{files[0].name}</p>\n                                    <p style={styles.fileSize}>{(files[0].size / 1024).toFixed(2)} KB</p>\n                                </div>\n                            </div>\n                            <button onClick={handleRemoveFile} style={styles.removeBtn}>\n                                <HiX style={styles.removeIcon} />\n                            </button>\n                        </div>\n                        <div style={styles.actionGrid}>\n                            <button\n                                onClick={handleProcessImage}\n                                disabled={isLoading}\n                                style={{...styles.processBtn, ...(isLoading ? styles.processBtnDisabled : {})}}\n                            >\n                                {isLoading ? (\n                                    <>\n                                        <svg style={styles.spinner} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                            <circle style={styles.spinnerCircle} cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                            <path style={styles.spinnerPath} fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                                        </svg>\n                                        Elaborazione in corso...\n                                    </>\n                                ) : 'Rimuovi Sfondo'}\n                            </button>\n                            <a\n                                href={processedImage || '#'}\n                                onClick={(e)=>{ if(!processedImage) e.preventDefault(); }}\n                                download={processedImage ? `sfondo-rimosso-${files[0].name}` : undefined}\n                                style={processedImage ? styles.downloadBtn : styles.downloadBtnDisabled}\n                            >\n                                <HiDownload style={styles.downloadIcon} />\n                                Scarica PNG\n                            </a>\n                        </div>\n                    </SafeMotionDiv>\n                )}\n            </SafeAnimatePresence>\n\n            {error && (\n                <SafeMotionDiv\n                    {...scaleIn}\n                    style={styles.errorBox}\n                >\n                    <p><strong>Errore:</strong> {error}</p>\n                </SafeMotionDiv>\n            )}\n\n            <SafeAnimatePresence>\n                {processedImage && (\n                    <SafeMotionDiv\n                        {...scaleIn}\n                        style={styles.compareSection}\n                    >\n                        <h3 style={styles.compareTitle}>Confronto Prima/Dopo</h3>\n                        <div style={{...styles.compareBox, background: bgPreview==='white'?'#fff':bgPreview==='black'?'#000':'transparent'}}>\n                            {bgPreview==='checker' && (\n                                <div style={styles.checkerBg} />\n                            )}\n                            <div style={styles.imageContainer}>\n                                <img src={files[0]?.preview} alt=\"Prima\" style={styles.beforeImg} />\n                                <img src={processedImage} alt=\"Dopo\" style={{...styles.afterImg, clipPath:`polygon(0 0, ${compare}% 0, ${compare}% 100%, 0 100%)`}} />\n                                <div style={{...styles.divider, left:`calc(${compare}% - 1px)`}}>\n                                    <div style={styles.dividerLine} />\n                                </div>\n                            </div>\n                        </div>\n                        <div style={styles.sliderRow}>\n                            <span style={styles.sliderLabel}>Prima</span>\n                            <input \n                                type=\"range\" \n                                min=\"0\" \n                                max=\"100\" \n                                value={compare} \n                                onChange={(e)=>setCompare(parseInt(e.target.value,10))} \n                                style={styles.compareSlider}\n                                aria-label={`Confronto prima/dopo: ${compare}%`}\n                                aria-valuemin={0}\n                                aria-valuemax={100}\n                                aria-valuenow={compare}\n                            />\n                            <span style={styles.sliderLabel}>Dopo</span>\n                        </div>\n                    </SafeMotionDiv>\n                )}\n            </SafeAnimatePresence>\n        </div>\n    );\n};\n\nexport default BackgroundRemover;\n\nconst styles = {\n    container: { width: '100%', maxWidth: '1000px', margin: '0 auto', padding: '24px', background: 'rgba(30, 41, 59, 0.8)', border: '1px solid rgba(148, 163, 184, 0.2)', borderRadius: '12px' },\n    dropzone: { position: 'relative', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', width: '100%', height: '240px', padding: '24px', border: '2px dashed rgba(148, 163, 184, 0.4)', borderRadius: '12px', cursor: 'pointer', transition: 'all 0.2s' },\n    dropzoneActive: { borderColor: '#a78bfa', background: 'rgba(167, 139, 250, 0.1)' },\n    uploadIcon: { width: '48px', height: '48px', color: '#94a3b8', marginBottom: '16px' },\n    dropText: { fontSize: '18px', fontWeight: 600, color: '#e2e8f0', marginBottom: '8px' },\n    dropTextActive: { fontSize: '18px', fontWeight: 600, color: '#a78bfa' },\n    dropHint: { fontSize: '14px', color: '#94a3b8' },\n    controlsGrid: { marginTop: '24px', display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(240px, 1fr))', gap: '16px' },\n    controlBox: { padding: '16px', background: 'rgba(51, 65, 85, 0.6)', borderRadius: '8px', border: '1px solid rgba(148, 163, 184, 0.2)' },\n    label: { display: 'block', fontSize: '14px', color: '#cbd5e1', marginBottom: '8px' },\n    select: { width: '100%', background: 'rgba(15, 23, 42, 0.8)', color: '#e2e8f0', borderRadius: '6px', border: '1px solid rgba(148, 163, 184, 0.3)', padding: '8px 12px', fontSize: '14px' },\n    flexBetween: { display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '8px' },\n    badge: { fontSize: '11px', color: '#94a3b8', textTransform: 'uppercase', fontWeight: 700 },\n    badgeSmall: { fontSize: '11px', color: '#94a3b8' },\n    slider: { width: '100%', cursor: 'pointer' },\n    checkboxRow: { display: 'flex', alignItems: 'center', gap: '8px', marginTop: '8px' },\n    checkLabel: { fontSize: '14px', color: '#e2e8f0' },\n    marginControl: { marginTop: '12px' },\n    bgGrid: { display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '8px', marginBottom: '12px' },\n    bgBtn: { height: '40px', borderRadius: '6px', border: '2px solid rgba(148, 163, 184, 0.3)', cursor: 'pointer', transition: 'border-color 0.2s' },\n    bgBtnActive: { borderColor: '#a78bfa' },\n    bgChecker: { backgroundImage: 'linear-gradient(45deg, #4a5568 25%, transparent 25%), linear-gradient(-45deg, #4a5568 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #4a5568 75%), linear-gradient(-45deg, transparent 75%, #4a5568 75%)', backgroundSize: '14px 14px', backgroundPosition: '0 0, 0 7px, 7px -7px, -7px 0px' },\n    bgWhite: { background: '#fff' },\n    bgBlack: { background: '#000' },\n    bgTransparent: { background: 'transparent' },\n    filePreview: { marginTop: '24px' },\n    fileRow: { display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '16px', background: 'rgba(51, 65, 85, 0.6)', borderRadius: '8px' },\n    fileInfo: { display: 'flex', alignItems: 'center' },\n    fileThumb: { width: '64px', height: '64px', objectFit: 'cover', borderRadius: '6px', marginRight: '16px' },\n    fileName: { fontWeight: 600, color: '#fff', marginBottom: '4px' },\n    fileSize: { fontSize: '14px', color: '#94a3b8' },\n    removeBtn: { padding: '8px', color: '#94a3b8', background: 'transparent', border: 'none', borderRadius: '50%', cursor: 'pointer', transition: 'all 0.2s' },\n    removeIcon: { width: '24px', height: '24px' },\n    actionGrid: { display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '12px', marginTop: '16px' },\n    processBtn: { padding: '12px 24px', background: '#a78bfa', color: '#fff', fontWeight: 700, borderRadius: '8px', border: 'none', cursor: 'pointer', transition: 'background 0.2s', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '15px' },\n    processBtnDisabled: { background: '#6b7280', cursor: 'not-allowed' },\n    spinner: { width: '20px', height: '20px', marginRight: '8px', animation: 'spin 1s linear infinite' },\n    spinnerCircle: { opacity: 0.25 },\n    spinnerPath: { opacity: 0.75 },\n    downloadBtn: { padding: '12px 24px', background: '#10b981', color: '#fff', fontWeight: 700, borderRadius: '8px', textDecoration: 'none', display: 'flex', alignItems: 'center', justifyContent: 'center', transition: 'background 0.2s', fontSize: '15px' },\n    downloadBtnDisabled: { padding: '12px 24px', background: '#4b5563', color: '#9ca3af', fontWeight: 700, borderRadius: '8px', textDecoration: 'none', display: 'flex', alignItems: 'center', justifyContent: 'center', cursor: 'not-allowed', fontSize: '15px' },\n    downloadIcon: { width: '20px', height: '20px', marginRight: '8px' },\n    errorBox: { marginTop: '24px', padding: '16px', background: 'rgba(153, 27, 27, 0.8)', border: '1px solid rgba(220, 38, 38, 0.6)', borderRadius: '8px', color: '#fecaca', textAlign: 'center' },\n    compareSection: { marginTop: '32px', width: '100%' },\n    compareTitle: { fontSize: '24px', fontWeight: 700, color: '#fff', textAlign: 'center', marginBottom: '24px' },\n    compareBox: { \n        position: 'relative', \n        width: '100%', \n        maxWidth: '100%',\n        minHeight: '400px',\n        overflow: 'hidden', \n        borderRadius: '12px', \n        border: '1px solid rgba(148, 163, 184, 0.2)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n    },\n    checkerBg: { position: 'absolute', inset: 0, backgroundImage: 'linear-gradient(45deg, #4a5568 25%, transparent 25%), linear-gradient(-45deg, #4a5568 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #4a5568 75%), linear-gradient(-45deg, transparent 75%, #4a5568 75%)', backgroundSize: '20px 20px', backgroundPosition: '0 0, 0 10px, 10px -10px, -10px 0px' },\n    imageContainer: { position: 'relative', width: '100%', height: '100%', minHeight: '400px', display: 'flex', alignItems: 'center', justifyContent: 'center' },\n    beforeImg: { display: 'block', maxWidth: '100%', maxHeight: '70vh', width: 'auto', height: 'auto', objectFit: 'contain', userSelect: 'none' },\n    afterImg: { position: 'absolute', inset: 0, maxWidth: '100%', maxHeight: '70vh', width: 'auto', height: 'auto', margin: 'auto', objectFit: 'contain' },\n    divider: { position: 'absolute', top: 0, bottom: 0 },\n    dividerLine: { width: '2px', height: '100%', background: '#a78bfa', boxShadow: '0 0 8px rgba(167, 139, 250, 0.6)' },\n    sliderRow: { marginTop: '12px', display: 'flex', alignItems: 'center', gap: '12px' },\n    sliderLabel: { fontSize: '12px', color: '#94a3b8' },\n    compareSlider: { flex: 1, cursor: 'pointer' }\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8064, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/ImageGenerator.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { HiSparkles, HiDownload, HiLightningBolt } from 'react-icons/hi';\r\nimport ExportModal from '../ExportModal';\r\nimport { LoadingOverlay, ProgressBar } from '../Loading';\r\nimport { showToast, updateToast } from '../Toast';\r\nimport { saveToHistory } from '../../utils/history';\r\n\r\nexport default function ImageGenerator() {\r\n    const [prompt, setPrompt] = useState('');\r\n    const [result, setResult] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [aspect, setAspect] = useState('1:1');\r\n    const [detail, setDetail] = useState(1);\r\n    const [realism, setRealism] = useState(true);\r\n    const [progress, setProgress] = useState(0);\r\n    const [showExportModal, setShowExportModal] = useState(false);\r\n\r\n    const handleGenerate = async () => {\r\n        if (!prompt.trim()) {\r\n            showToast('Inserisci una descrizione', 'error', 4000, {\r\n                details: 'Il campo prompt è obbligatorio per la generazione',\r\n                technical: 'Status: Empty prompt validation failed'\r\n            });\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n        setResult(null);\r\n        setProgress(0);\r\n\r\n        const startTime = Date.now();\r\n        const promptLength = prompt.length;\r\n        const wordCount = prompt.trim().split(/\\s+/).length;\r\n        \r\n        const toastId = showToast('Generazione immagine AI in corso...', 'progress', 0, {\r\n            progress: 0,\r\n            details: `Prompt: ${wordCount} parole • Rapporto: ${aspect} • Dettaglio: ${detail.toFixed(1)}x`,\r\n            technical: `Model: AI Image Generator • Realism: ${realism ? 'Enabled' : 'Disabled'} • Prompt Length: ${promptLength} chars`\r\n        });\r\n\r\n        const progressInterval = setInterval(() => {\r\n            setProgress(prev => {\r\n                const newProgress = Math.min(prev + 8, 90);\r\n                updateToast(toastId, { \r\n                    progress: newProgress,\r\n                    message: newProgress < 40 ? 'Elaborazione prompt...' : newProgress < 80 ? 'Generazione immagine...' : 'Finalizzazione...'\r\n                });\r\n                return newProgress;\r\n            });\r\n        }, 150);\r\n\r\n        try {\r\n            const response = await fetch('/api/tools/generate-image', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ prompt, aspect, detail, realism }),\r\n            });\r\n\r\n            clearInterval(progressInterval);\r\n            setProgress(95);\r\n            updateToast(toastId, { progress: 95, message: 'Elaborazione finale...' });\r\n\r\n            if (!response.ok) {\r\n                const contentType = response.headers.get('content-type');\r\n                if (contentType && contentType.includes('application/json')) {\r\n                    const errorData = await response.json();\r\n                    throw new Error(errorData.error || 'Errore durante la generazione');\r\n                } else {\r\n                    throw new Error(`Errore HTTP ${response.status}`);\r\n                }\r\n            }\r\n\r\n            const blob = await response.blob();\r\n            \r\n            if (blob.size === 0) {\r\n                throw new Error('Immagine vuota ricevuta');\r\n            }\r\n            \r\n            const url = URL.createObjectURL(blob);\r\n            setResult(url);\r\n            setProgress(100);\r\n\r\n            const generationTime = ((Date.now() - startTime) / 1000).toFixed(2);\r\n            const imageSize = (blob.size / 1024 / 1024).toFixed(2);\r\n\r\n            // Save to history\r\n            saveToHistory({\r\n                tool: 'Generazione Immagini AI',\r\n                filename: `generated_${Date.now()}_4k.jpg`,\r\n                thumbnail: url,\r\n                params: { prompt, aspect, detail, realism },\r\n                result: url\r\n            });\r\n\r\n            updateToast(toastId, {\r\n                type: 'success',\r\n                message: 'Immagine generata con successo!',\r\n                progress: 100,\r\n                details: `Tempo generazione: ${generationTime}s • Dimensione: ${imageSize} MB • Risoluzione: ${aspect}`,\r\n                technical: `AI Model: Image Generation • Quality: 4K • Format: JPEG • Compression: ${((blob.size / (4096 * 4096 * 3)) * 100).toFixed(1)}%`\r\n            });\r\n        } catch (err) {\r\n            console.error('Generation error:', err);\r\n            setError(err.message);\r\n            updateToast(toastId, {\r\n                type: 'error',\r\n                message: err.message,\r\n                details: 'Errore durante la generazione dell\\'immagine',\r\n                technical: `Error: ${err.message} • Status: ${err.message.includes('HTTP') ? 'Network Error' : 'Generation Failed'}`\r\n            });\r\n            clearInterval(progressInterval);\r\n        } finally {\r\n            setLoading(false);\r\n            setTimeout(() => setProgress(0), 1000);\r\n        }\r\n    };\r\n\r\n    const handleDownload = () => {\r\n        if (!result) return;\r\n        setShowExportModal(true);\r\n    };\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.key === 'Enter' && e.ctrlKey && !loading && prompt.trim()) {\r\n            handleGenerate();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            {loading && (\r\n                <LoadingOverlay message={`Generazione in corso... ${Math.round(progress)}%`} />\r\n            )}\r\n\r\n            {showExportModal && result && (\r\n                <ExportModal\r\n                    imageData={result}\r\n                    filename={`generated_${Date.now()}_4k`}\r\n                    onClose={() => setShowExportModal(false)}\r\n                />\r\n            )}\r\n\r\n            <div style={styles.card}>\r\n                <div style={styles.inputSection}>\r\n                    <label style={styles.label}>\r\n                        <HiSparkles style={{ width: 16, height: 16 }} />\r\n                        Descrivi l'immagine che vuoi creare\r\n                    </label>\r\n                    <textarea\r\n                        value={prompt}\r\n                        onChange={(e) => setPrompt(e.target.value)}\r\n                        onKeyDown={handleKeyPress}\r\n                        placeholder=\"Es: Un paesaggio montano al tramonto con un lago cristallino, stile fotografico realistico...\"\r\n                        style={styles.textarea}\r\n                        rows={4}\r\n                        disabled={loading}\r\n                    />\r\n                    <p style={styles.hint}>\r\n                        💡 Suggerimento: Sii dettagliato! Specifica colori, stile, atmosfera e dettagli per risultati migliori.\r\n                    </p>\r\n                </div>\r\n\r\n                <div style={styles.controlsRow}>\r\n                    <div style={styles.controlGroup}>\r\n                        <label style={styles.smallLabel}>Rapporto</label>\r\n                        <select\r\n                            value={aspect}\r\n                            onChange={(e) => setAspect(e.target.value)}\r\n                            style={styles.select}\r\n                            disabled={loading}\r\n                        >\r\n                            <option value=\"1:1\">1 : 1 (Quadrato)</option>\r\n                            <option value=\"16:9\">16 : 9 (Wide)</option>\r\n                            <option value=\"9:16\">9 : 16 (Verticale)</option>\r\n                            <option value=\"4:3\">4 : 3 (Classico)</option>\r\n                            <option value=\"3:4\">3 : 4 (Verticale)</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div style={styles.controlGroup}>\r\n                        <label style={styles.smallLabel}>Dettaglio</label>\r\n                        <input\r\n                            type=\"range\"\r\n                            min={0.6}\r\n                            max={1.4}\r\n                            step={0.1}\r\n                            value={detail}\r\n                            onChange={(e) => setDetail(Number(e.target.value))}\r\n                            style={styles.slider}\r\n                            disabled={loading}\r\n                        />\r\n                        <div style={styles.sliderMarks}>\r\n                            <span>Basso</span><span>Alto</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={styles.controlGroupToggle}>\r\n                        <label style={styles.smallLabel}>Realismo</label>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => setRealism(v => !v)}\r\n                            disabled={loading}\r\n                            style={{\r\n                                ...styles.toggle,\r\n                                background: realism ? 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)' : 'rgba(148,163,184,0.2)'\r\n                            }}\r\n                        >\r\n                            {realism ? 'Attivo' : 'Off'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    onClick={handleGenerate}\r\n                    disabled={loading || !prompt.trim()}\r\n                    style={{\r\n                        ...styles.button,\r\n                        ...(loading || !prompt.trim() ? styles.buttonDisabled : {})\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                        if (!loading && prompt.trim()) {\r\n                            e.currentTarget.style.transform = 'translateY(-2px)';\r\n                            e.currentTarget.style.boxShadow = '0 12px 24px rgba(102, 126, 234, 0.4)';\r\n                        }\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(0)';\r\n                        e.currentTarget.style.boxShadow = '0 8px 16px rgba(102, 126, 234, 0.3)';\r\n                    }}\r\n                >\r\n                    <HiSparkles style={{ width: 20, height: 20 }} />\r\n                    {loading ? 'Generazione in corso...' : 'Genera Immagine'}\r\n                </button>\r\n\r\n                {loading && (\r\n                    <div style={styles.loadingContainer}>\r\n                        <div style={styles.spinner}></div>\r\n                        <p style={styles.loadingText}>\r\n                            Generazione procedurale in corso - Immagine 4K ({aspect})...<br/>\r\n                            <span style={{ fontSize: '14px', color: '#64748b' }}>Elaborazione locale avanzata — può richiedere 20-40 secondi</span>\r\n                        </p>\r\n                    </div>\r\n                )}\r\n\r\n                {error && (\r\n                    <div style={styles.errorBox}>\r\n                        <p style={styles.errorText}>❌ {error}</p>\r\n                    </div>\r\n                )}\r\n\r\n                {result && (\r\n                    <div style={styles.resultSection}>\r\n                        <h3 style={styles.resultTitle}>✨ Immagine Generata</h3>\r\n                        <div style={styles.imageContainer}>\r\n                            <img src={result} alt=\"Generated\" style={styles.image} />\r\n                        </div>\r\n                        <button\r\n                            onClick={handleDownload}\r\n                            style={styles.downloadButton}\r\n                            onMouseEnter={(e) => {\r\n                                e.currentTarget.style.transform = 'translateY(-2px)';\r\n                                e.currentTarget.style.boxShadow = '0 12px 24px rgba(67, 233, 123, 0.4)';\r\n                            }}\r\n                            onMouseLeave={(e) => {\r\n                                e.currentTarget.style.transform = 'translateY(0)';\r\n                                e.currentTarget.style.boxShadow = '0 8px 16px rgba(67, 233, 123, 0.3)';\r\n                            }}\r\n                        >\r\n                            <HiDownload style={{ width: 20, height: 20 }} />\r\n                            Scarica Immagine\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div style={styles.examples}>\r\n                <h3 style={styles.examplesTitle}>💡 Esempi di prompt efficaci:</h3>\r\n                <div style={styles.exampleGrid}>\r\n                    {[\r\n                        'Un gatto astronauta nello spazio profondo, stile fotorealistico, illuminazione cinematografica',\r\n                        'Paesaggio fantasy con castello medievale su una montagna, tramonto dorato, arte digitale dettagliata',\r\n                        'Ritratto di un robot futuristico, stile cyberpunk, neon blu e viola, altamente dettagliato',\r\n                        'Una città sott\\'acqua con architettura moderna, raggi di luce dall\\'alto, atmosfera serena'\r\n                    ].map((example, idx) => (\r\n                        <button\r\n                            key={idx}\r\n                            onClick={() => setPrompt(example)}\r\n                            style={styles.exampleButton}\r\n                            onMouseEnter={(e) => {\r\n                                e.currentTarget.style.transform = 'translateY(-2px)';\r\n                                e.currentTarget.style.borderColor = 'rgba(102, 126, 234, 0.5)';\r\n                            }}\r\n                            onMouseLeave={(e) => {\r\n                                e.currentTarget.style.transform = 'translateY(0)';\r\n                                e.currentTarget.style.borderColor = 'rgba(102, 126, 234, 0.2)';\r\n                            }}\r\n                            disabled={loading}\r\n                        >\r\n                            {example}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    container: {\r\n        maxWidth: '900px',\r\n        margin: '0 auto',\r\n        padding: '24px'\r\n    },\r\n    card: {\r\n        background: 'rgba(15, 23, 42, 0.7)',\r\n        backdropFilter: 'blur(12px)',\r\n        border: '1px solid rgba(102, 126, 234, 0.2)',\r\n        borderRadius: '16px',\r\n        padding: '32px',\r\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\r\n        marginBottom: '32px'\r\n    },\r\n    inputSection: {\r\n        marginBottom: '24px'\r\n    },\r\n    label: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px',\r\n        fontSize: '14px',\r\n        fontWeight: '600',\r\n        color: '#cbd5e1',\r\n        marginBottom: '12px'\r\n    },\r\n    textarea: {\r\n        width: '100%',\r\n        padding: '16px',\r\n        background: 'rgba(10, 14, 26, 0.6)',\r\n        border: '1px solid rgba(102, 126, 234, 0.3)',\r\n        borderRadius: '12px',\r\n        color: '#e2e8f0',\r\n        fontSize: '15px',\r\n        fontFamily: 'inherit',\r\n        resize: 'vertical',\r\n        outline: 'none',\r\n        transition: 'border-color 0.2s, background 0.2s',\r\n        lineHeight: '1.6'\r\n    },\r\n    hint: {\r\n        fontSize: '13px',\r\n        color: '#64748b',\r\n        marginTop: '8px',\r\n        marginBottom: 0\r\n    },\r\n    button: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        gap: '10px',\r\n        padding: '16px 24px',\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        border: 'none',\r\n        borderRadius: '12px',\r\n        color: '#fff',\r\n        fontSize: '16px',\r\n        fontWeight: '600',\r\n        cursor: 'pointer',\r\n        transition: 'transform 0.2s, box-shadow 0.2s',\r\n        boxShadow: '0 8px 16px rgba(102, 126, 234, 0.3)'\r\n    },\r\n    buttonDisabled: {\r\n        opacity: 0.5,\r\n        cursor: 'not-allowed',\r\n        transform: 'none !important',\r\n        boxShadow: 'none !important'\r\n    },\r\n    loadingContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        gap: '16px',\r\n        padding: '32px',\r\n        marginTop: '24px',\r\n        background: 'rgba(102, 126, 234, 0.05)',\r\n        borderRadius: '12px',\r\n        border: '1px solid rgba(102, 126, 234, 0.2)'\r\n    },\r\n    spinner: {\r\n        width: '48px',\r\n        height: '48px',\r\n        border: '4px solid rgba(102, 126, 234, 0.2)',\r\n        borderTop: '4px solid #667eea',\r\n        borderRadius: '50%',\r\n        animation: 'spin 1s linear infinite'\r\n    },\r\n    loadingText: {\r\n        color: '#cbd5e1',\r\n        textAlign: 'center',\r\n        margin: 0,\r\n        fontSize: '16px',\r\n        fontWeight: '500'\r\n    },\r\n    errorBox: {\r\n        marginTop: '20px',\r\n        padding: '16px',\r\n        background: 'rgba(239, 68, 68, 0.1)',\r\n        border: '1px solid rgba(239, 68, 68, 0.3)',\r\n        borderRadius: '12px'\r\n    },\r\n    errorText: {\r\n        color: '#f87171',\r\n        margin: 0,\r\n        fontSize: '14px'\r\n    },\r\n    resultSection: {\r\n        marginTop: '32px',\r\n        animation: 'fadeIn 0.5s ease-out'\r\n    },\r\n    resultTitle: {\r\n        fontSize: '20px',\r\n        fontWeight: '700',\r\n        color: '#e2e8f0',\r\n        marginBottom: '16px',\r\n        textAlign: 'center'\r\n    },\r\n    imageContainer: {\r\n        border: '2px solid rgba(102, 126, 234, 0.3)',\r\n        borderRadius: '12px',\r\n        overflow: 'hidden',\r\n        marginBottom: '20px',\r\n        background: '#000'\r\n    },\r\n    image: {\r\n        width: '100%',\r\n        display: 'block',\r\n        height: 'auto'\r\n    },\r\n    downloadButton: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        gap: '10px',\r\n        padding: '16px 24px',\r\n        background: 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',\r\n        border: 'none',\r\n        borderRadius: '12px',\r\n        color: '#fff',\r\n        fontSize: '16px',\r\n        fontWeight: '600',\r\n        cursor: 'pointer',\r\n        transition: 'transform 0.2s, box-shadow 0.2s',\r\n        boxShadow: '0 8px 16px rgba(67, 233, 123, 0.3)'\r\n    },\r\n    examples: {\r\n        background: 'rgba(15, 23, 42, 0.5)',\r\n        backdropFilter: 'blur(12px)',\r\n        border: '1px solid rgba(102, 126, 234, 0.15)',\r\n        borderRadius: '16px',\r\n        padding: '24px'\r\n    },\r\n    controlsRow: {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))',\r\n        gap: '16px',\r\n        marginBottom: '20px'\r\n    },\r\n    controlGroup: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '8px',\r\n        background: 'rgba(10, 14, 26, 0.5)',\r\n        border: '1px solid rgba(102, 126, 234, 0.15)',\r\n        borderRadius: '12px',\r\n        padding: '12px'\r\n    },\r\n    controlGroupToggle: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n        gap: '8px',\r\n        background: 'rgba(10, 14, 26, 0.5)',\r\n        border: '1px solid rgba(102, 126, 234, 0.15)',\r\n        borderRadius: '12px',\r\n        padding: '12px'\r\n    },\r\n    smallLabel: {\r\n        fontSize: '12px',\r\n        color: '#94a3b8',\r\n        fontWeight: 600\r\n    },\r\n    select: {\r\n        background: 'rgba(15, 23, 42, 0.7)',\r\n        color: '#e2e8f0',\r\n        border: '1px solid rgba(102, 126, 234, 0.25)',\r\n        borderRadius: '10px',\r\n        padding: '10px 12px',\r\n        fontSize: '14px',\r\n        outline: 'none'\r\n    },\r\n    slider: {\r\n        WebkitAppearance: 'none',\r\n        width: '100%'\r\n    },\r\n    sliderMarks: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        fontSize: '12px',\r\n        color: '#64748b'\r\n    },\r\n    toggle: {\r\n        border: 'none',\r\n        color: '#0b1220',\r\n        fontWeight: 700,\r\n        borderRadius: '10px',\r\n        padding: '10px 12px',\r\n        cursor: 'pointer',\r\n        transition: 'transform 0.2s, box-shadow 0.2s',\r\n        boxShadow: '0 6px 14px rgba(56, 249, 215, 0.25)'\r\n    },\r\n    examplesTitle: {\r\n        fontSize: '18px',\r\n        fontWeight: '700',\r\n        color: '#cbd5e1',\r\n        marginBottom: '16px',\r\n        marginTop: 0\r\n    },\r\n    exampleGrid: {\r\n        display: 'grid',\r\n        gap: '12px',\r\n        gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))'\r\n    },\r\n    exampleButton: {\r\n        padding: '14px 16px',\r\n        background: 'rgba(102, 126, 234, 0.08)',\r\n        border: '1px solid rgba(102, 126, 234, 0.2)',\r\n        borderRadius: '10px',\r\n        color: '#94a3b8',\r\n        fontSize: '13px',\r\n        textAlign: 'left',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.2s',\r\n        lineHeight: '1.5'\r\n    }\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8902, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/CleanNoise.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { BsSoundwave, BsCloudUpload, BsDownload, BsX } from 'react-icons/bs';\r\nimport { HiCheckCircle } from 'react-icons/hi';\r\n\r\nexport default function CleanNoise() {\r\n    const [audio, setAudio] = useState(null);\r\n    const [result, setResult] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [noiseLevel, setNoiseLevel] = useState('medium');\r\n\r\n    const onDrop = async (acceptedFiles) => {\r\n        const file = acceptedFiles[0];\r\n        if (!file) return;\r\n\r\n        setAudio(file);\r\n        setResult(null);\r\n        setError(null);\r\n    };\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        onDrop,\r\n        accept: { \r\n            'audio/*': ['.mp3', '.wav', '.ogg', '.m4a', '.flac', '.aac']\r\n        },\r\n        maxFiles: 1,\r\n    });\r\n\r\n    const handleProcess = async () => {\r\n        if (!audio) return;\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('audio', audio);\r\n            formData.append('noiseLevel', noiseLevel);\r\n\r\n            const response = await fetch('/api/tools/clean-noise', {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.error || 'Errore durante l\\'elaborazione');\r\n            }\r\n\r\n            const blob = await response.blob();\r\n            const url = URL.createObjectURL(blob);\r\n            setResult(url);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDownload = () => {\r\n        if (!result) return;\r\n        const a = document.createElement('a');\r\n        a.href = result;\r\n        a.download = `cleaned_${audio.name}`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n    };\r\n\r\n    const handleReset = () => {\r\n        setAudio(null);\r\n        setResult(null);\r\n        setError(null);\r\n    };\r\n\r\n    const styles = {\r\n        container: {\r\n            maxWidth: '900px',\r\n            margin: '0 auto',\r\n            padding: '20px'\r\n        },\r\n        dropzone: {\r\n            border: '3px dashed #ccc',\r\n            borderRadius: '12px',\r\n            padding: '60px 20px',\r\n            textAlign: 'center',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.3s ease',\r\n            background: '#fafafa'\r\n        },\r\n        dropzoneActive: {\r\n            borderColor: '#667eea',\r\n            background: '#f0f4ff'\r\n        },\r\n        uploadIcon: {\r\n            fontSize: '64px',\r\n            color: '#667eea',\r\n            marginBottom: '20px'\r\n        },\r\n        dropzoneTitle: {\r\n            fontSize: '18px',\r\n            fontWeight: '600',\r\n            color: '#333',\r\n            marginBottom: '10px'\r\n        },\r\n        dropzoneText: {\r\n            fontSize: '14px',\r\n            color: '#666'\r\n        },\r\n        audioInfo: {\r\n            padding: '20px',\r\n            background: 'white',\r\n            borderRadius: '12px',\r\n            boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\r\n            marginBottom: '20px'\r\n        },\r\n        audioIcon: {\r\n            fontSize: '48px',\r\n            color: '#667eea',\r\n            marginBottom: '15px'\r\n        },\r\n        fileName: {\r\n            fontSize: '16px',\r\n            fontWeight: '600',\r\n            color: '#333',\r\n            marginBottom: '5px'\r\n        },\r\n        fileSize: {\r\n            fontSize: '14px',\r\n            color: '#666'\r\n        },\r\n        noiseLevelSection: {\r\n            marginBottom: '25px'\r\n        },\r\n        label: {\r\n            display: 'block',\r\n            fontSize: '14px',\r\n            fontWeight: '600',\r\n            color: '#333',\r\n            marginBottom: '12px'\r\n        },\r\n        levelGrid: {\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(3, 1fr)',\r\n            gap: '10px'\r\n        },\r\n        levelBtn: {\r\n            padding: '12px',\r\n            border: '2px solid #e5e7eb',\r\n            borderRadius: '8px',\r\n            fontSize: '14px',\r\n            fontWeight: '600',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.2s',\r\n            background: 'white',\r\n            color: '#333'\r\n        },\r\n        levelBtnActive: {\r\n            borderColor: '#667eea',\r\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n            color: 'white'\r\n        },\r\n        button: {\r\n            width: '100%',\r\n            padding: '15px',\r\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '8px',\r\n            fontSize: '16px',\r\n            fontWeight: '600',\r\n            cursor: 'pointer',\r\n            transition: 'transform 0.2s',\r\n            marginBottom: '15px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: '10px'\r\n        },\r\n        buttonDisabled: {\r\n            opacity: 0.6,\r\n            cursor: 'not-allowed'\r\n        },\r\n        downloadBtn: {\r\n            background: '#10b981'\r\n        },\r\n        resetBtn: {\r\n            background: '#6b7280',\r\n            padding: '12px'\r\n        },\r\n        buttonGroup: {\r\n            display: 'grid',\r\n            gridTemplateColumns: '1fr auto',\r\n            gap: '10px',\r\n            marginTop: '20px'\r\n        },\r\n        error: {\r\n            padding: '15px',\r\n            background: '#fee2e2',\r\n            border: '1px solid #fca5a5',\r\n            borderRadius: '8px',\r\n            color: '#dc2626',\r\n            marginBottom: '20px',\r\n            fontSize: '14px'\r\n        },\r\n        result: {\r\n            marginTop: '30px',\r\n            padding: '25px',\r\n            background: 'white',\r\n            borderRadius: '12px',\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.1)',\r\n            textAlign: 'center'\r\n        },\r\n        successIcon: {\r\n            fontSize: '48px',\r\n            color: '#10b981',\r\n            marginBottom: '15px'\r\n        },\r\n        resultTitle: {\r\n            fontSize: '18px',\r\n            fontWeight: '600',\r\n            color: '#333',\r\n            marginBottom: '15px'\r\n        },\r\n        audioPlayer: {\r\n            width: '100%',\r\n            marginBottom: '20px',\r\n            borderRadius: '8px'\r\n        },\r\n        hint: {\r\n            fontSize: '12px',\r\n            color: '#6b7280',\r\n            marginTop: '8px',\r\n            fontStyle: 'italic'\r\n        }\r\n    };\r\n\r\n    const formatFileSize = (bytes) => {\r\n        if (bytes === 0) return '0 Bytes';\r\n        const k = 1024;\r\n        const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n        return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            {!audio ? (\r\n                <div\r\n                    {...getRootProps()}\r\n                    style={{\r\n                        ...styles.dropzone,\r\n                        ...(isDragActive ? styles.dropzoneActive : {})\r\n                    }}\r\n                >\r\n                    <input {...getInputProps()} />\r\n                    <BsCloudUpload style={styles.uploadIcon} />\r\n                    <p style={styles.dropzoneTitle}>\r\n                        {isDragActive ? 'Rilascia qui il file audio...' : 'Trascina qui un file audio o clicca per selezionare'}\r\n                    </p>\r\n                    <p style={styles.dropzoneText}>\r\n                        Supporta MP3, WAV, OGG, M4A, FLAC, AAC\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <div>\r\n                    <div style={styles.audioInfo}>\r\n                        <BsSoundwave style={styles.audioIcon} />\r\n                        <div style={styles.fileName}>{audio.name}</div>\r\n                        <div style={styles.fileSize}>{formatFileSize(audio.size)}</div>\r\n                    </div>\r\n\r\n                    {!result && (\r\n                        <>\r\n                            <div style={styles.noiseLevelSection}>\r\n                                <label style={styles.label}>\r\n                                    Livello di riduzione rumore\r\n                                </label>\r\n                                <div style={styles.levelGrid}>\r\n                                    <button\r\n                                        onClick={() => setNoiseLevel('light')}\r\n                                        style={{\r\n                                            ...styles.levelBtn,\r\n                                            ...(noiseLevel === 'light' ? styles.levelBtnActive : {})\r\n                                        }}\r\n                                    >\r\n                                        Leggero\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => setNoiseLevel('medium')}\r\n                                        style={{\r\n                                            ...styles.levelBtn,\r\n                                            ...(noiseLevel === 'medium' ? styles.levelBtnActive : {})\r\n                                        }}\r\n                                    >\r\n                                        Medio\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => setNoiseLevel('strong')}\r\n                                        style={{\r\n                                            ...styles.levelBtn,\r\n                                            ...(noiseLevel === 'strong' ? styles.levelBtnActive : {})\r\n                                        }}\r\n                                    >\r\n                                        Forte\r\n                                    </button>\r\n                                </div>\r\n                                <p style={styles.hint}>\r\n                                    Livelli più alti riducono più rumore ma potrebbero alterare la qualità audio\r\n                                </p>\r\n                            </div>\r\n\r\n                            <button\r\n                                onClick={handleProcess}\r\n                                disabled={loading}\r\n                                style={{\r\n                                    ...styles.button,\r\n                                    ...(loading ? styles.buttonDisabled : {})\r\n                                }}\r\n                                onMouseEnter={(e) => {\r\n                                    if (!loading) e.target.style.transform = 'translateY(-2px)';\r\n                                }}\r\n                                onMouseLeave={(e) => {\r\n                                    e.target.style.transform = 'translateY(0)';\r\n                                }}\r\n                            >\r\n                                {loading ? 'Elaborazione in corso...' : 'Riduci Rumore'}\r\n                            </button>\r\n                        </>\r\n                    )}\r\n\r\n                    {error && (\r\n                        <div style={styles.error}>\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    {result && (\r\n                        <div style={styles.result}>\r\n                            <HiCheckCircle style={styles.successIcon} />\r\n                            <h3 style={styles.resultTitle}>Audio Pulito con Successo!</h3>\r\n                            \r\n                            <audio controls style={styles.audioPlayer}>\r\n                                <source src={result} type=\"audio/mpeg\" />\r\n                                Il tuo browser non supporta l'elemento audio.\r\n                            </audio>\r\n\r\n                            <div style={styles.buttonGroup}>\r\n                                <button\r\n                                    onClick={handleDownload}\r\n                                    style={{\r\n                                        ...styles.button,\r\n                                        ...styles.downloadBtn\r\n                                    }}\r\n                                    onMouseEnter={(e) => {\r\n                                        e.target.style.transform = 'translateY(-2px)';\r\n                                    }}\r\n                                    onMouseLeave={(e) => {\r\n                                        e.target.style.transform = 'translateY(0)';\r\n                                    }}\r\n                                >\r\n                                    <BsDownload style={{ fontSize: '20px' }} />\r\n                                    Scarica Audio\r\n                                </button>\r\n                                <button\r\n                                    onClick={handleReset}\r\n                                    style={{\r\n                                        ...styles.button,\r\n                                        ...styles.resetBtn\r\n                                    }}\r\n                                    onMouseEnter={(e) => {\r\n                                        e.target.style.background = '#4b5563';\r\n                                    }}\r\n                                    onMouseLeave={(e) => {\r\n                                        e.target.style.background = '#6b7280';\r\n                                    }}\r\n                                >\r\n                                    <BsX style={{ fontSize: '24px' }} />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {!result && (\r\n                        <button\r\n                            onClick={handleReset}\r\n                            style={{\r\n                                ...styles.button,\r\n                                ...styles.resetBtn\r\n                            }}\r\n                            onMouseEnter={(e) => {\r\n                                e.target.style.background = '#4b5563';\r\n                            }}\r\n                            onMouseLeave={(e) => {\r\n                                e.target.style.background = '#6b7280';\r\n                            }}\r\n                        >\r\n                            <BsX style={{ fontSize: '24px' }} />\r\n                            Cambia File\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9493, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/AudioTranscription.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { HiUpload, HiClipboard } from 'react-icons/hi';\r\n\r\nexport default function AudioTranscription() {\r\n    const [audio, setAudio] = useState(null);\r\n    const [result, setResult] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const onDrop = async (acceptedFiles) => {\r\n        const file = acceptedFiles[0];\r\n        if (!file) return;\r\n\r\n        setAudio(file);\r\n        setResult('');\r\n        setError(null);\r\n    };\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        onDrop,\r\n        accept: { 'audio/*': ['.mp3', '.wav', '.m4a', '.ogg'] },\r\n        maxFiles: 1,\r\n    });\r\n\r\n    const handleTranscribe = async () => {\r\n        if (!audio) return;\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('audio', audio);\r\n\r\n            const response = await fetch('/api/tools/transcribe-audio', {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.error || 'Errore durante la trascrizione');\r\n            }\r\n\r\n            const data = await response.json();\r\n            setResult(data.text);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCopy = () => {\r\n        navigator.clipboard.writeText(result);\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {!audio ? (\r\n                <div\r\n                    {...getRootProps()}\r\n                    className={`border-2 border-dashed rounded-lg p-12 text-center cursor-pointer transition-all ${\r\n                        isDragActive\r\n                            ? 'border-purple-500 bg-purple-500/10'\r\n                            : 'border-gray-600 hover:border-gray-500'\r\n                    }`}\r\n                >\r\n                    <input {...getInputProps()} />\r\n                    <HiUpload className=\"w-16 h-16 mx-auto mb-4 text-gray-400\" />\r\n                    <p className=\"text-lg font-medium mb-2\">\r\n                        {isDragActive ? 'Rilascia qui...' : 'Carica un file audio'}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-400\">MP3, WAV, M4A o OGG</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-4\">\r\n                    <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\r\n                        <p className=\"text-sm text-gray-400\">File caricato:</p>\r\n                        <p className=\"font-medium\">{audio.name}</p>\r\n                    </div>\r\n\r\n                    {!result && (\r\n                        <button\r\n                            onClick={handleTranscribe}\r\n                            disabled={loading}\r\n                            className=\"w-full px-6 py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 rounded-lg font-medium transition-colors\"\r\n                        >\r\n                            {loading ? 'Trascrizione in corso...' : 'Trascrivi Audio'}\r\n                        </button>\r\n                    )}\r\n\r\n                    {error && (\r\n                        <div className=\"bg-red-500/10 border border-red-500 rounded-lg p-4\">\r\n                            <p className=\"text-red-500\">{error}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {result && (\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <div className=\"flex justify-between items-center mb-2\">\r\n                                    <h3 className=\"text-sm font-medium text-gray-400\">Trascrizione</h3>\r\n                                    <button\r\n                                        onClick={handleCopy}\r\n                                        className=\"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm flex items-center gap-2\"\r\n                                    >\r\n                                        <HiClipboard className=\"w-4 h-4\" />\r\n                                        Copia\r\n                                    </button>\r\n                                </div>\r\n                                <textarea\r\n                                    value={result}\r\n                                    readOnly\r\n                                    className=\"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none resize-none\"\r\n                                    rows={10}\r\n                                />\r\n                            </div>\r\n                            <button\r\n                                onClick={() => {\r\n                                    setAudio(null);\r\n                                    setResult('');\r\n                                }}\r\n                                className=\"w-full px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-colors\"\r\n                            >\r\n                                Carica Nuovo File\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;;;AAEe,SAAS;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAEnC,MAAM,SAAS,OAAO;QAClB,MAAM,OAAO,aAAa,CAAC,EAAE;QAC7B,IAAI,CAAC,MAAM;QAEX,SAAS;QACT,UAAU;QACV,SAAS;IACb;IAEA,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,GAAG,IAAA,iJAAW,EAAC;QAC9D;QACA,QAAQ;YAAE,WAAW;gBAAC;gBAAQ;gBAAQ;gBAAQ;aAAO;QAAC;QACtD,UAAU;IACd;IAEA,MAAM,mBAAmB;QACrB,IAAI,CAAC,OAAO;QAEZ,WAAW;QACX,SAAS;QAET,IAAI;YACA,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,SAAS;YAEzB,MAAM,WAAW,MAAM,MAAM,+BAA+B;gBACxD,QAAQ;gBACR,MAAM;YACV;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI;YACvC;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,UAAU,KAAK,IAAI;QACvB,EAAE,OAAO,KAAK;YACV,SAAS,IAAI,OAAO;QACxB,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,aAAa;QACf,UAAU,SAAS,CAAC,SAAS,CAAC;IAClC;IAEA,qBACI,qKAAC;QAAI,WAAU;kBACV,CAAC,sBACE,qKAAC;YACI,GAAG,cAAc;YAClB,WAAW,CAAC,iFAAiF,EACzF,eACM,uCACA,yCACR;;8BAEF,qKAAC;oBAAO,GAAG,eAAe;;;;;;8BAC1B,qKAAC,mJAAQ;oBAAC,WAAU;;;;;;8BACpB,qKAAC;oBAAE,WAAU;8BACR,eAAe,oBAAoB;;;;;;8BAExC,qKAAC;oBAAE,WAAU;8BAAwB;;;;;;;;;;;iCAGzC,qKAAC;YAAI,WAAU;;8BACX,qKAAC;oBAAI,WAAU;;sCACX,qKAAC;4BAAE,WAAU;sCAAwB;;;;;;sCACrC,qKAAC;4BAAE,WAAU;sCAAe,MAAM,IAAI;;;;;;;;;;;;gBAGzC,CAAC,wBACE,qKAAC;oBACG,SAAS;oBACT,UAAU;oBACV,WAAU;8BAET,UAAU,6BAA6B;;;;;;gBAI/C,uBACG,qKAAC;oBAAI,WAAU;8BACX,cAAA,qKAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;gBAIpC,wBACG,qKAAC;oBAAI,WAAU;;sCACX,qKAAC;;8CACG,qKAAC;oCAAI,WAAU;;sDACX,qKAAC;4CAAG,WAAU;sDAAoC;;;;;;sDAClD,qKAAC;4CACG,SAAS;4CACT,WAAU;;8DAEV,qKAAC,sJAAW;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;;8CAI3C,qKAAC;oCACG,OAAO;oCACP,QAAQ;oCACR,WAAU;oCACV,MAAM;;;;;;;;;;;;sCAGd,qKAAC;4BACG,SAAS;gCACL,SAAS;gCACT,UAAU;4BACd;4BACA,WAAU;sCACb;;;;;;;;;;;;;;;;;;;;;;;AAS7B"}},
    {"offset": {"line": 9744, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/ProBadge.js"],"sourcesContent":["// Componente badge PRO riutilizzabile\r\nexport default function ProBadge({ style = {}, size = 'small' }) {\r\n    const sizes = {\r\n        small: {\r\n            fontSize: '10px',\r\n            padding: '3px 8px',\r\n        },\r\n        medium: {\r\n            fontSize: '12px',\r\n            padding: '4px 10px',\r\n        },\r\n        large: {\r\n            fontSize: '14px',\r\n            padding: '6px 12px',\r\n        },\r\n    };\r\n\r\n    const sizeStyle = sizes[size] || sizes.small;\r\n\r\n    return (\r\n        <span\r\n            style={{\r\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                color: '#fff',\r\n                fontWeight: '700',\r\n                borderRadius: '12px',\r\n                letterSpacing: '0.5px',\r\n                textTransform: 'uppercase',\r\n                display: 'inline-flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                boxShadow: '0 2px 8px rgba(102, 126, 234, 0.4)',\r\n                ...sizeStyle,\r\n                ...style,\r\n            }}\r\n        >\r\n            PRO\r\n        </span>\r\n    );\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,sCAAsC;;;;;;;AACvB,SAAS,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,OAAO,EAAE;IAC3D,MAAM,QAAQ;QACV,OAAO;YACH,UAAU;YACV,SAAS;QACb;QACA,QAAQ;YACJ,UAAU;YACV,SAAS;QACb;QACA,OAAO;YACH,UAAU;YACV,SAAS;QACb;IACJ;IAEA,MAAM,YAAY,KAAK,CAAC,KAAK,IAAI,MAAM,KAAK;IAE5C,qBACI,qKAAC;QACG,OAAO;YACH,YAAY;YACZ,OAAO;YACP,YAAY;YACZ,cAAc;YACd,eAAe;YACf,eAAe;YACf,SAAS;YACT,YAAY;YACZ,gBAAgB;YAChB,WAAW;YACX,GAAG,SAAS;YACZ,GAAG,KAAK;QACZ;kBACH;;;;;;AAIT"}},
    {"offset": {"line": 9795, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/OCRAdvanced.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { BsFileEarmarkText, BsCloudUpload } from 'react-icons/bs';\r\nimport { HiClipboard, HiCheckCircle } from 'react-icons/hi';\r\nimport ProBadge from '../ProBadge';\r\nimport Link from 'next/link';\r\n\r\nexport default function OCRAdvanced() {\r\n    const [file, setFile] = useState(null);\r\n    const [result, setResult] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    const onDrop = async (acceptedFiles) => {\r\n        const uploadedFile = acceptedFiles[0];\r\n        if (!uploadedFile) return;\r\n\r\n        setFile(uploadedFile);\r\n        setResult('');\r\n        setError(null);\r\n    };\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        onDrop,\r\n        accept: { 'image/*': ['.png', '.jpg', '.jpeg'], 'application/pdf': ['.pdf'] },\r\n        maxFiles: 1,\r\n    });\r\n\r\n    const handleExtract = async () => {\r\n        if (!file) return;\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('file', file);\r\n\r\n            const response = await fetch('/api/tools/ocr-advanced', {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.error || 'Errore durante l\\'estrazione');\r\n            }\r\n\r\n            const data = await response.json();\r\n            setResult(data.text);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCopy = () => {\r\n        navigator.clipboard.writeText(result);\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    const styles = {\r\n        container: {\r\n            maxWidth: '800px',\r\n            margin: '0 auto',\r\n            padding: '20px'\r\n        },\r\n        proInfo: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '12px',\r\n            padding: '16px',\r\n            background: 'rgba(102, 126, 234, 0.1)',\r\n            border: '1px solid rgba(102, 126, 234, 0.3)',\r\n            borderRadius: '12px',\r\n            marginBottom: '24px',\r\n            flexWrap: 'wrap',\r\n        },\r\n        proInfoText: {\r\n            fontSize: '13px',\r\n            color: '#cbd5e1',\r\n            margin: 0,\r\n            flex: 1,\r\n            lineHeight: '1.6',\r\n        },\r\n        proLink: {\r\n            color: '#667eea',\r\n            textDecoration: 'none',\r\n            fontWeight: '600',\r\n            marginLeft: '8px',\r\n            transition: 'color 0.2s',\r\n        },\r\n        dropzone: {\r\n            border: '3px dashed #ccc',\r\n            borderRadius: '12px',\r\n            padding: '60px 20px',\r\n            textAlign: 'center',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.3s ease',\r\n            background: '#fafafa'\r\n        },\r\n        dropzoneActive: {\r\n            borderColor: '#667eea',\r\n            background: '#f0f4ff'\r\n        },\r\n        uploadIcon: {\r\n            fontSize: '64px',\r\n            color: '#667eea',\r\n            marginBottom: '20px'\r\n        },\r\n        dropzoneTitle: {\r\n            fontSize: '18px',\r\n            fontWeight: '600',\r\n            color: '#333',\r\n            marginBottom: '10px'\r\n        },\r\n        dropzoneText: {\r\n            fontSize: '14px',\r\n            color: '#666'\r\n        },\r\n        fileInfo: {\r\n            padding: '20px',\r\n            background: 'white',\r\n            borderRadius: '12px',\r\n            boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\r\n            marginBottom: '20px'\r\n        },\r\n        fileLabel: {\r\n            fontSize: '12px',\r\n            color: '#666',\r\n            marginBottom: '8px',\r\n            display: 'block'\r\n        },\r\n        fileName: {\r\n            fontSize: '16px',\r\n            fontWeight: '600',\r\n            color: '#333',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '10px'\r\n        },\r\n        fileIcon: {\r\n            fontSize: '24px',\r\n            color: '#667eea'\r\n        },\r\n        button: {\r\n            width: '100%',\r\n            padding: '15px',\r\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '8px',\r\n            fontSize: '16px',\r\n            fontWeight: '600',\r\n            cursor: 'pointer',\r\n            transition: 'transform 0.2s',\r\n            marginBottom: '20px'\r\n        },\r\n        buttonDisabled: {\r\n            opacity: 0.6,\r\n            cursor: 'not-allowed'\r\n        },\r\n        error: {\r\n            padding: '15px',\r\n            background: '#fee2e2',\r\n            border: '1px solid #fca5a5',\r\n            borderRadius: '8px',\r\n            color: '#dc2626',\r\n            marginBottom: '20px',\r\n            fontSize: '14px'\r\n        },\r\n        resultSection: {\r\n            marginTop: '20px'\r\n        },\r\n        resultHeader: {\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            marginBottom: '15px'\r\n        },\r\n        resultTitle: {\r\n            fontSize: '16px',\r\n            fontWeight: '600',\r\n            color: '#333'\r\n        },\r\n        copyBtn: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n            padding: '8px 16px',\r\n            background: copied ? '#10b981' : '#6b7280',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            fontSize: '14px',\r\n            fontWeight: '500',\r\n            cursor: 'pointer',\r\n            transition: 'background 0.2s'\r\n        },\r\n        textarea: {\r\n            width: '100%',\r\n            padding: '15px',\r\n            border: '2px solid #e5e7eb',\r\n            borderRadius: '8px',\r\n            fontSize: '14px',\r\n            lineHeight: '1.6',\r\n            resize: 'vertical',\r\n            minHeight: '300px',\r\n            maxHeight: '500px',\r\n            fontFamily: 'inherit',\r\n            boxSizing: 'border-box',\r\n            background: 'white'\r\n        },\r\n        resetBtn: {\r\n            width: '100%',\r\n            padding: '12px',\r\n            background: '#6b7280',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '8px',\r\n            fontSize: '14px',\r\n            fontWeight: '600',\r\n            cursor: 'pointer',\r\n            marginTop: '15px',\r\n            transition: 'background 0.2s'\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            {/* Badge PRO e info limiti */}\r\n            <div style={styles.proInfo}>\r\n                <ProBadge size=\"medium\" />\r\n                <p style={styles.proInfoText}>\r\n                    <strong>Piano Gratuito:</strong> 5 documenti/giorno • \r\n                    <Link href=\"/pricing\" style={styles.proLink}>\r\n                        <strong>Passa a PRO</strong>\r\n                    </Link> per utilizzi illimitati\r\n                </p>\r\n            </div>\r\n\r\n            {!file ? (\r\n                <div\r\n                    {...getRootProps()}\r\n                    style={{\r\n                        ...styles.dropzone,\r\n                        ...(isDragActive ? styles.dropzoneActive : {})\r\n                    }}\r\n                >\r\n                    <input {...getInputProps()} />\r\n                    <BsCloudUpload style={styles.uploadIcon} />\r\n                    <p style={styles.dropzoneTitle}>\r\n                        {isDragActive ? 'Rilascia qui il file...' : 'Trascina qui un file o clicca per selezionare'}\r\n                    </p>\r\n                    <p style={styles.dropzoneText}>Supporta immagini (PNG, JPG, JPEG) e PDF</p>\r\n                </div>\r\n            ) : (\r\n                <div>\r\n                    <div style={styles.fileInfo}>\r\n                        <span style={styles.fileLabel}>File caricato:</span>\r\n                        <div style={styles.fileName}>\r\n                            <BsFileEarmarkText style={styles.fileIcon} />\r\n                            {file.name}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {!result && (\r\n                        <button\r\n                            onClick={handleExtract}\r\n                            disabled={loading}\r\n                            style={{\r\n                                ...styles.button,\r\n                                ...(loading ? styles.buttonDisabled : {})\r\n                            }}\r\n                            onMouseEnter={(e) => {\r\n                                if (!loading) e.target.style.transform = 'translateY(-2px)';\r\n                            }}\r\n                            onMouseLeave={(e) => {\r\n                                e.target.style.transform = 'translateY(0)';\r\n                            }}\r\n                        >\r\n                            {loading ? 'Estrazione in corso...' : 'Estrai Testo'}\r\n                        </button>\r\n                    )}\r\n\r\n                    {error && (\r\n                        <div style={styles.error}>\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    {result && (\r\n                        <div style={styles.resultSection}>\r\n                            <div style={styles.resultHeader}>\r\n                                <h3 style={styles.resultTitle}>Testo estratto</h3>\r\n                                <button\r\n                                    onClick={handleCopy}\r\n                                    style={styles.copyBtn}\r\n                                >\r\n                                    {copied ? (\r\n                                        <>\r\n                                            <HiCheckCircle style={{ fontSize: '18px' }} />\r\n                                            Copiato!\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <HiClipboard style={{ fontSize: '18px' }} />\r\n                                            Copia\r\n                                        </>\r\n                                    )}\r\n                                </button>\r\n                            </div>\r\n                            <textarea\r\n                                value={result}\r\n                                readOnly\r\n                                style={styles.textarea}\r\n                            />\r\n                            <button\r\n                                onClick={() => {\r\n                                    setFile(null);\r\n                                    setResult('');\r\n                                    setError(null);\r\n                                }}\r\n                                style={styles.resetBtn}\r\n                                onMouseEnter={(e) => {\r\n                                    e.target.style.background = '#4b5563';\r\n                                }}\r\n                                onMouseLeave={(e) => {\r\n                                    e.target.style.background = '#6b7280';\r\n                                }}\r\n                            >\r\n                                Carica Nuovo File\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAEe,SAAS;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IAErC,MAAM,SAAS,OAAO;QAClB,MAAM,eAAe,aAAa,CAAC,EAAE;QACrC,IAAI,CAAC,cAAc;QAEnB,QAAQ;QACR,UAAU;QACV,SAAS;IACb;IAEA,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,GAAG,IAAA,iJAAW,EAAC;QAC9D;QACA,QAAQ;YAAE,WAAW;gBAAC;gBAAQ;gBAAQ;aAAQ;YAAE,mBAAmB;gBAAC;aAAO;QAAC;QAC5E,UAAU;IACd;IAEA,MAAM,gBAAgB;QAClB,IAAI,CAAC,MAAM;QAEX,WAAW;QACX,SAAS;QAET,IAAI;YACA,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,QAAQ;YAExB,MAAM,WAAW,MAAM,MAAM,2BAA2B;gBACpD,QAAQ;gBACR,MAAM;YACV;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI;YACvC;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,UAAU,KAAK,IAAI;QACvB,EAAE,OAAO,KAAK;YACV,SAAS,IAAI,OAAO;QACxB,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,aAAa;QACf,UAAU,SAAS,CAAC,SAAS,CAAC;QAC9B,UAAU;QACV,WAAW,IAAM,UAAU,QAAQ;IACvC;IAEA,MAAM,SAAS;QACX,WAAW;YACP,UAAU;YACV,QAAQ;YACR,SAAS;QACb;QACA,SAAS;YACL,SAAS;YACT,YAAY;YACZ,KAAK;YACL,SAAS;YACT,YAAY;YACZ,QAAQ;YACR,cAAc;YACd,cAAc;YACd,UAAU;QACd;QACA,aAAa;YACT,UAAU;YACV,OAAO;YACP,QAAQ;YACR,MAAM;YACN,YAAY;QAChB;QACA,SAAS;YACL,OAAO;YACP,gBAAgB;YAChB,YAAY;YACZ,YAAY;YACZ,YAAY;QAChB;QACA,UAAU;YACN,QAAQ;YACR,cAAc;YACd,SAAS;YACT,WAAW;YACX,QAAQ;YACR,YAAY;YACZ,YAAY;QAChB;QACA,gBAAgB;YACZ,aAAa;YACb,YAAY;QAChB;QACA,YAAY;YACR,UAAU;YACV,OAAO;YACP,cAAc;QAClB;QACA,eAAe;YACX,UAAU;YACV,YAAY;YACZ,OAAO;YACP,cAAc;QAClB;QACA,cAAc;YACV,UAAU;YACV,OAAO;QACX;QACA,UAAU;YACN,SAAS;YACT,YAAY;YACZ,cAAc;YACd,WAAW;YACX,cAAc;QAClB;QACA,WAAW;YACP,UAAU;YACV,OAAO;YACP,cAAc;YACd,SAAS;QACb;QACA,UAAU;YACN,UAAU;YACV,YAAY;YACZ,OAAO;YACP,SAAS;YACT,YAAY;YACZ,KAAK;QACT;QACA,UAAU;YACN,UAAU;YACV,OAAO;QACX;QACA,QAAQ;YACJ,OAAO;YACP,SAAS;YACT,YAAY;YACZ,OAAO;YACP,QAAQ;YACR,cAAc;YACd,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,YAAY;YACZ,cAAc;QAClB;QACA,gBAAgB;YACZ,SAAS;YACT,QAAQ;QACZ;QACA,OAAO;YACH,SAAS;YACT,YAAY;YACZ,QAAQ;YACR,cAAc;YACd,OAAO;YACP,cAAc;YACd,UAAU;QACd;QACA,eAAe;YACX,WAAW;QACf;QACA,cAAc;YACV,SAAS;YACT,gBAAgB;YAChB,YAAY;YACZ,cAAc;QAClB;QACA,aAAa;YACT,UAAU;YACV,YAAY;YACZ,OAAO;QACX;QACA,SAAS;YACL,SAAS;YACT,YAAY;YACZ,KAAK;YACL,SAAS;YACT,YAAY,SAAS,YAAY;YACjC,OAAO;YACP,QAAQ;YACR,cAAc;YACd,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,YAAY;QAChB;QACA,UAAU;YACN,OAAO;YACP,SAAS;YACT,QAAQ;YACR,cAAc;YACd,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,WAAW;YACX,WAAW;YACX,YAAY;YACZ,WAAW;YACX,YAAY;QAChB;QACA,UAAU;YACN,OAAO;YACP,SAAS;YACT,YAAY;YACZ,OAAO;YACP,QAAQ;YACR,cAAc;YACd,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,WAAW;YACX,YAAY;QAChB;IACJ;IAEA,qBACI,qKAAC;QAAI,OAAO,OAAO,SAAS;;0BAExB,qKAAC;gBAAI,OAAO,OAAO,OAAO;;kCACtB,qKAAC,0HAAQ;wBAAC,MAAK;;;;;;kCACf,qKAAC;wBAAE,OAAO,OAAO,WAAW;;0CACxB,qKAAC;0CAAO;;;;;;4BAAwB;0CAChC,qKAAC,gIAAI;gCAAC,MAAK;gCAAW,OAAO,OAAO,OAAO;0CACvC,cAAA,qKAAC;8CAAO;;;;;;;;;;;4BACL;;;;;;;;;;;;;YAId,CAAC,qBACE,qKAAC;gBACI,GAAG,cAAc;gBAClB,OAAO;oBACH,GAAG,OAAO,QAAQ;oBAClB,GAAI,eAAe,OAAO,cAAc,GAAG,CAAC,CAAC;gBACjD;;kCAEA,qKAAC;wBAAO,GAAG,eAAe;;;;;;kCAC1B,qKAAC,wJAAa;wBAAC,OAAO,OAAO,UAAU;;;;;;kCACvC,qKAAC;wBAAE,OAAO,OAAO,aAAa;kCACzB,eAAe,4BAA4B;;;;;;kCAEhD,qKAAC;wBAAE,OAAO,OAAO,YAAY;kCAAE;;;;;;;;;;;qCAGnC,qKAAC;;kCACG,qKAAC;wBAAI,OAAO,OAAO,QAAQ;;0CACvB,qKAAC;gCAAK,OAAO,OAAO,SAAS;0CAAE;;;;;;0CAC/B,qKAAC;gCAAI,OAAO,OAAO,QAAQ;;kDACvB,qKAAC,4JAAiB;wCAAC,OAAO,OAAO,QAAQ;;;;;;oCACxC,KAAK,IAAI;;;;;;;;;;;;;oBAIjB,CAAC,wBACE,qKAAC;wBACG,SAAS;wBACT,UAAU;wBACV,OAAO;4BACH,GAAG,OAAO,MAAM;4BAChB,GAAI,UAAU,OAAO,cAAc,GAAG,CAAC,CAAC;wBAC5C;wBACA,cAAc,CAAC;4BACX,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,SAAS,GAAG;wBAC7C;wBACA,cAAc,CAAC;4BACX,EAAE,MAAM,CAAC,KAAK,CAAC,SAAS,GAAG;wBAC/B;kCAEC,UAAU,2BAA2B;;;;;;oBAI7C,uBACG,qKAAC;wBAAI,OAAO,OAAO,KAAK;kCACnB;;;;;;oBAIR,wBACG,qKAAC;wBAAI,OAAO,OAAO,aAAa;;0CAC5B,qKAAC;gCAAI,OAAO,OAAO,YAAY;;kDAC3B,qKAAC;wCAAG,OAAO,OAAO,WAAW;kDAAE;;;;;;kDAC/B,qKAAC;wCACG,SAAS;wCACT,OAAO,OAAO,OAAO;kDAEpB,uBACG;;8DACI,qKAAC,wJAAa;oDAAC,OAAO;wDAAE,UAAU;oDAAO;;;;;;gDAAK;;yEAIlD;;8DACI,qKAAC,sJAAW;oDAAC,OAAO;wDAAE,UAAU;oDAAO;;;;;;gDAAK;;;;;;;;;;;;;;0CAM5D,qKAAC;gCACG,OAAO;gCACP,QAAQ;gCACR,OAAO,OAAO,QAAQ;;;;;;0CAE1B,qKAAC;gCACG,SAAS;oCACL,QAAQ;oCACR,UAAU;oCACV,SAAS;gCACb;gCACA,OAAO,OAAO,QAAQ;gCACtB,cAAc,CAAC;oCACX,EAAE,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG;gCAChC;gCACA,cAAc,CAAC;oCACX,EAAE,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG;gCAChC;0CACH;;;;;;;;;;;;;;;;;;;;;;;;AAS7B"}},
    {"offset": {"line": 10302, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/TextSummarizer.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { HiClipboard, HiCheckCircle } from 'react-icons/hi';\r\n\r\nexport default function TextSummarizer() {\r\n    const [text, setText] = useState('');\r\n    const [result, setResult] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    const handleSummarize = async () => {\r\n        if (!text.trim()) {\r\n            setError('Inserisci del testo da riassumere');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const response = await fetch('/api/tools/text-summarizer', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ text }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.error || 'Errore durante il riassunto');\r\n            }\r\n\r\n            const data = await response.json();\r\n            setResult(data.summary);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCopy = () => {\r\n        navigator.clipboard.writeText(result);\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.inputSection}>\r\n                <label style={styles.label}>\r\n                    Inserisci il testo da riassumere\r\n                </label>\r\n                <textarea\r\n                    value={text}\r\n                    onChange={(e) => setText(e.target.value)}\r\n                    placeholder=\"Incolla qui il testo lungo che vuoi riassumere...\"\r\n                    style={styles.textarea}\r\n                    rows={10}\r\n                />\r\n\r\n                <button\r\n                    onClick={handleSummarize}\r\n                    disabled={loading || !text.trim()}\r\n                    style={{\r\n                        ...styles.button,\r\n                        ...(loading || !text.trim() ? styles.buttonDisabled : {})\r\n                    }}\r\n                >\r\n                    {loading ? 'Elaborazione...' : 'Riassumi Testo'}\r\n                </button>\r\n            </div>\r\n\r\n            {error && (\r\n                <div style={styles.errorBox}>\r\n                    <p style={styles.errorText}>{error}</p>\r\n                </div>\r\n            )}\r\n\r\n            {result && (\r\n                <div style={styles.resultSection}>\r\n                    <div style={styles.resultHeader}>\r\n                        <h3 style={styles.resultTitle}>Riassunto</h3>\r\n                        <button\r\n                            onClick={handleCopy}\r\n                            style={styles.copyButton}\r\n                        >\r\n                            {copied ? <HiCheckCircle style={{width: 16, height: 16}} /> : <HiClipboard style={{width: 16, height: 16}} />}\r\n                            <span>{copied ? 'Copiato!' : 'Copia'}</span>\r\n                        </button>\r\n                    </div>\r\n                    <div style={styles.resultBox}>\r\n                        <p style={styles.resultText}>{result}</p>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    container: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '24px'\r\n    },\r\n    inputSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '16px'\r\n    },\r\n    label: {\r\n        fontSize: '14px',\r\n        fontWeight: 500,\r\n        color: '#94a3b8',\r\n        marginBottom: '8px'\r\n    },\r\n    textarea: {\r\n        width: '100%',\r\n        padding: '16px',\r\n        background: 'rgba(15, 23, 42, 0.6)',\r\n        border: '2px solid rgba(148, 163, 184, 0.2)',\r\n        borderRadius: '12px',\r\n        color: '#e6eef8',\r\n        fontSize: '15px',\r\n        lineHeight: 1.6,\r\n        resize: 'vertical',\r\n        outline: 'none',\r\n        transition: 'border-color 0.2s',\r\n        fontFamily: 'inherit'\r\n    },\r\n    button: {\r\n        width: '100%',\r\n        padding: '14px 24px',\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        border: 'none',\r\n        borderRadius: '12px',\r\n        color: '#fff',\r\n        fontSize: '16px',\r\n        fontWeight: 600,\r\n        cursor: 'pointer',\r\n        transition: 'transform 0.2s, box-shadow 0.2s',\r\n        boxShadow: '0 4px 12px rgba(102, 126, 234, 0.3)'\r\n    },\r\n    buttonDisabled: {\r\n        opacity: 0.5,\r\n        cursor: 'not-allowed',\r\n        transform: 'none'\r\n    },\r\n    errorBox: {\r\n        background: 'rgba(239, 68, 68, 0.1)',\r\n        border: '2px solid rgba(239, 68, 68, 0.3)',\r\n        borderRadius: '12px',\r\n        padding: '16px'\r\n    },\r\n    errorText: {\r\n        color: '#ef4444',\r\n        margin: 0\r\n    },\r\n    resultSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '12px'\r\n    },\r\n    resultHeader: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    },\r\n    resultTitle: {\r\n        fontSize: '14px',\r\n        fontWeight: 500,\r\n        color: '#94a3b8',\r\n        margin: 0\r\n    },\r\n    copyButton: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px',\r\n        padding: '8px 16px',\r\n        background: 'rgba(51, 65, 85, 0.8)',\r\n        border: 'none',\r\n        borderRadius: '8px',\r\n        color: '#cbd5e1',\r\n        fontSize: '14px',\r\n        fontWeight: 500,\r\n        cursor: 'pointer',\r\n        transition: 'background 0.2s'\r\n    },\r\n    resultBox: {\r\n        padding: '20px',\r\n        background: 'rgba(15, 23, 42, 0.6)',\r\n        border: '2px solid rgba(148, 163, 184, 0.2)',\r\n        borderRadius: '12px',\r\n        maxHeight: '400px',\r\n        overflowY: 'auto'\r\n    },\r\n    resultText: {\r\n        color: '#e6eef8',\r\n        fontSize: '15px',\r\n        lineHeight: 1.6,\r\n        whiteSpace: 'pre-wrap',\r\n        margin: 0\r\n    }\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10604, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/GrammarChecker.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { HiClipboard, HiCheckCircle } from 'react-icons/hi';\r\n\r\nexport default function GrammarChecker() {\r\n    const [text, setText] = useState('');\r\n    const [result, setResult] = useState('');\r\n    const [corrections, setCorrections] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    const handleCheck = async () => {\r\n        if (!text.trim()) {\r\n            setError('Inserisci del testo da correggere');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const response = await fetch('/api/tools/grammar-checker', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ text }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.error || 'Errore durante la correzione');\r\n            }\r\n\r\n            const data = await response.json();\r\n            setResult(data.corrected);\r\n            setCorrections(data.corrections || []);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCopy = () => {\r\n        navigator.clipboard.writeText(result);\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.inputSection}>\r\n                <label style={styles.label}>\r\n                    Inserisci il testo da correggere\r\n                </label>\r\n                <textarea\r\n                    value={text}\r\n                    onChange={(e) => setText(e.target.value)}\r\n                    placeholder=\"Scrivi o incolla il testo qui...\"\r\n                    style={styles.textarea}\r\n                    rows={10}\r\n                />\r\n\r\n                <button\r\n                    onClick={handleCheck}\r\n                    disabled={loading || !text.trim()}\r\n                    style={{\r\n                        ...styles.button,\r\n                        ...(loading || !text.trim() ? styles.buttonDisabled : {})\r\n                    }}\r\n                >\r\n                    {loading ? 'Controllo in corso...' : 'Controlla Grammatica'}\r\n                </button>\r\n            </div>\r\n\r\n            {error && (\r\n                <div style={styles.errorBox}>\r\n                    <p style={styles.errorText}>{error}</p>\r\n                </div>\r\n            )}\r\n\r\n            {result && (\r\n                <div style={styles.resultSection}>\r\n                    {corrections.length > 0 && (\r\n                        <div style={styles.warningBox}>\r\n                            <p style={styles.warningTitle}>✓ {corrections.length} correzioni trovate</p>\r\n                            <ul style={styles.correctionsList}>\r\n                                {corrections.map((c, i) => (\r\n                                    <li key={i} style={styles.correctionItem}>{c}</li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div style={styles.resultHeader}>\r\n                        <h3 style={styles.resultTitle}>Testo Corretto</h3>\r\n                        <button onClick={handleCopy} style={styles.copyButton}>\r\n                            {copied ? <HiCheckCircle style={{width: 16, height: 16}} /> : <HiClipboard style={{width: 16, height: 16}} />}\r\n                            <span>{copied ? 'Copiato!' : 'Copia'}</span>\r\n                        </button>\r\n                    </div>\r\n                    <div style={styles.resultBox}>\r\n                        <p style={styles.resultText}>{result}</p>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    container: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '24px'\r\n    },\r\n    inputSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '16px'\r\n    },\r\n    label: {\r\n        fontSize: '14px',\r\n        fontWeight: 500,\r\n        color: '#94a3b8',\r\n        marginBottom: '8px'\r\n    },\r\n    textarea: {\r\n        width: '100%',\r\n        padding: '16px',\r\n        background: 'rgba(15, 23, 42, 0.6)',\r\n        border: '2px solid rgba(148, 163, 184, 0.2)',\r\n        borderRadius: '12px',\r\n        color: '#e6eef8',\r\n        fontSize: '15px',\r\n        lineHeight: 1.6,\r\n        resize: 'vertical',\r\n        outline: 'none',\r\n        transition: 'border-color 0.2s',\r\n        fontFamily: 'inherit'\r\n    },\r\n    button: {\r\n        width: '100%',\r\n        padding: '14px 24px',\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        border: 'none',\r\n        borderRadius: '12px',\r\n        color: '#fff',\r\n        fontSize: '16px',\r\n        fontWeight: 600,\r\n        cursor: 'pointer',\r\n        transition: 'transform 0.2s, box-shadow 0.2s',\r\n        boxShadow: '0 4px 12px rgba(102, 126, 234, 0.3)'\r\n    },\r\n    buttonDisabled: {\r\n        opacity: 0.5,\r\n        cursor: 'not-allowed'\r\n    },\r\n    errorBox: {\r\n        background: 'rgba(239, 68, 68, 0.1)',\r\n        border: '2px solid rgba(239, 68, 68, 0.3)',\r\n        borderRadius: '12px',\r\n        padding: '16px'\r\n    },\r\n    errorText: {\r\n        color: '#ef4444',\r\n        margin: 0\r\n    },\r\n    warningBox: {\r\n        background: 'rgba(234, 179, 8, 0.1)',\r\n        border: '2px solid rgba(234, 179, 8, 0.3)',\r\n        borderRadius: '12px',\r\n        padding: '16px'\r\n    },\r\n    warningTitle: {\r\n        color: '#eab308',\r\n        fontWeight: 600,\r\n        margin: '0 0 12px',\r\n        fontSize: '14px'\r\n    },\r\n    correctionsList: {\r\n        margin: 0,\r\n        paddingLeft: '20px',\r\n        color: '#fde047',\r\n        fontSize: '14px'\r\n    },\r\n    correctionItem: {\r\n        marginBottom: '4px'\r\n    },\r\n    resultSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '12px'\r\n    },\r\n    resultHeader: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    },\r\n    resultTitle: {\r\n        fontSize: '14px',\r\n        fontWeight: 500,\r\n        color: '#94a3b8',\r\n        margin: 0\r\n    },\r\n    copyButton: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px',\r\n        padding: '8px 16px',\r\n        background: 'rgba(51, 65, 85, 0.8)',\r\n        border: 'none',\r\n        borderRadius: '8px',\r\n        color: '#cbd5e1',\r\n        fontSize: '14px',\r\n        fontWeight: 500,\r\n        cursor: 'pointer',\r\n        transition: 'background 0.2s'\r\n    },\r\n    resultBox: {\r\n        padding: '20px',\r\n        background: 'rgba(15, 23, 42, 0.6)',\r\n        border: '2px solid rgba(148, 163, 184, 0.2)',\r\n        borderRadius: '12px',\r\n        maxHeight: '400px',\r\n        overflowY: 'auto'\r\n    },\r\n    resultText: {\r\n        color: '#e6eef8',\r\n        fontSize: '15px',\r\n        lineHeight: 1.6,\r\n        whiteSpace: 'pre-wrap',\r\n        margin: 0\r\n    }\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10966, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/ThumbnailGenerator.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { HiUpload, HiDownload, HiX } from 'react-icons/hi';\r\n\r\nexport default function ThumbnailGenerator() {\r\n    const [image, setImage] = useState(null);\r\n    const [preview, setPreview] = useState(null);\r\n    const [result, setResult] = useState(null);\r\n    const [size, setSize] = useState('1280x720');\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const sizes = [\r\n        { id: '1280x720', name: 'YouTube (1280x720)' },\r\n        { id: '1200x630', name: 'Facebook (1200x630)' },\r\n        { id: '1080x1080', name: 'Instagram (1080x1080)' },\r\n        { id: '1200x675', name: 'Twitter (1200x675)' },\r\n    ];\r\n\r\n    const onDrop = async (acceptedFiles) => {\r\n        const file = acceptedFiles[0];\r\n        if (!file) return;\r\n\r\n        setImage(file);\r\n        setPreview(URL.createObjectURL(file));\r\n        setResult(null);\r\n        setError(null);\r\n    };\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        onDrop,\r\n        accept: { 'image/*': ['.png', '.jpg', '.jpeg', '.webp'] },\r\n        maxFiles: 1,\r\n    });\r\n\r\n    const handleGenerate = async () => {\r\n        if (!image) return;\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('image', image);\r\n            formData.append('size', size);\r\n\r\n            const response = await fetch('/api/tools/thumbnail-generator', {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.error || 'Errore durante la generazione');\r\n            }\r\n\r\n            const blob = await response.blob();\r\n            const url = URL.createObjectURL(blob);\r\n            setResult(url);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDownload = () => {\r\n        if (!result) return;\r\n        const a = document.createElement('a');\r\n        a.href = result;\r\n        a.download = `thumbnail_${size}.png`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n    };\r\n\r\n    const handleReset = () => {\r\n        setImage(null);\r\n        setPreview(null);\r\n        setResult(null);\r\n        setError(null);\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            {!preview ? (\r\n                <div\r\n                    {...getRootProps()}\r\n                    style={{\r\n                        ...styles.dropzone,\r\n                        ...(isDragActive ? styles.dropzoneActive : {})\r\n                    }}\r\n                >\r\n                    <input {...getInputProps()} />\r\n                    <HiUpload style={styles.uploadIcon} />\r\n                    <p style={styles.dropzoneTitle}>\r\n                        {isDragActive ? 'Rilascia qui...' : 'Carica un\\'immagine'}\r\n                    </p>\r\n                    <p style={styles.dropzoneSubtitle}>PNG, JPG, JPEG o WEBP</p>\r\n                </div>\r\n            ) : (\r\n                <div style={styles.editorSection}>\r\n                    <div style={styles.sizeSelector}>\r\n                        <h3 style={styles.sectionTitle}>Dimensione thumbnail</h3>\r\n                        <div style={styles.sizesGrid}>\r\n                            {sizes.map((s) => (\r\n                                <button\r\n                                    key={s.id}\r\n                                    onClick={() => setSize(s.id)}\r\n                                    style={{\r\n                                        ...styles.sizeButton,\r\n                                        ...(size === s.id ? styles.sizeButtonActive : {})\r\n                                    }}\r\n                                >\r\n                                    <p style={styles.sizeButtonText}>{s.name}</p>\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={styles.imagesGrid}>\r\n                        <div style={styles.imageBox}>\r\n                            <h3 style={styles.imageTitle}>Originale</h3>\r\n                            <div style={styles.imageContainer}>\r\n                                <img\r\n                                    src={preview}\r\n                                    alt=\"Original\"\r\n                                    style={styles.image}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        {result && (\r\n                            <div style={styles.imageBox}>\r\n                                <h3 style={styles.imageTitle}>Thumbnail</h3>\r\n                                <div style={styles.imageContainer}>\r\n                                    <img\r\n                                        src={result}\r\n                                        alt=\"Result\"\r\n                                        style={styles.image}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div style={styles.errorBox}>\r\n                            <p style={styles.errorText}>{error}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div style={styles.actionsRow}>\r\n                        {!result && (\r\n                            <button\r\n                                onClick={handleGenerate}\r\n                                disabled={loading}\r\n                                style={{\r\n                                    ...styles.button,\r\n                                    ...styles.buttonPrimary,\r\n                                    ...(loading ? styles.buttonDisabled : {})\r\n                                }}\r\n                            >\r\n                                {loading ? 'Generazione...' : 'Genera Thumbnail'}\r\n                            </button>\r\n                        )}\r\n                        {result && (\r\n                            <button\r\n                                onClick={handleDownload}\r\n                                style={{...styles.button, ...styles.buttonSuccess}}\r\n                            >\r\n                                <HiDownload style={{width: 20, height: 20}} />\r\n                                <span>Scarica</span>\r\n                            </button>\r\n                        )}\r\n                        <button\r\n                            onClick={handleReset}\r\n                            style={{...styles.button, ...styles.buttonSecondary}}\r\n                        >\r\n                            <HiX style={{width: 20, height: 20}} />\r\n                            <span>Reset</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    container: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '24px'\r\n    },\r\n    dropzone: {\r\n        border: '2px dashed rgba(148, 163, 184, 0.3)',\r\n        borderRadius: '16px',\r\n        padding: '48px 24px',\r\n        textAlign: 'center',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.3s',\r\n        background: 'rgba(15, 23, 42, 0.4)'\r\n    },\r\n    dropzoneActive: {\r\n        borderColor: '#667eea',\r\n        background: 'rgba(102, 126, 234, 0.1)'\r\n    },\r\n    uploadIcon: {\r\n        width: '64px',\r\n        height: '64px',\r\n        margin: '0 auto 16px',\r\n        color: '#94a3b8'\r\n    },\r\n    dropzoneTitle: {\r\n        fontSize: '18px',\r\n        fontWeight: 600,\r\n        color: '#e6eef8',\r\n        margin: '0 0 8px'\r\n    },\r\n    dropzoneSubtitle: {\r\n        fontSize: '14px',\r\n        color: '#94a3b8',\r\n        margin: 0\r\n    },\r\n    editorSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '24px'\r\n    },\r\n    sizeSelector: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '12px'\r\n    },\r\n    sectionTitle: {\r\n        fontSize: '14px',\r\n        fontWeight: 500,\r\n        color: '#94a3b8',\r\n        margin: 0\r\n    },\r\n    sizesGrid: {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n        gap: '12px'\r\n    },\r\n    sizeButton: {\r\n        padding: '12px 16px',\r\n        borderRadius: '12px',\r\n        border: '2px solid rgba(148, 163, 184, 0.2)',\r\n        background: 'rgba(15, 23, 42, 0.4)',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.2s',\r\n        textAlign: 'left'\r\n    },\r\n    sizeButtonActive: {\r\n        borderColor: '#667eea',\r\n        background: 'rgba(102, 126, 234, 0.1)'\r\n    },\r\n    sizeButtonText: {\r\n        color: '#e6eef8',\r\n        fontWeight: 500,\r\n        margin: 0,\r\n        fontSize: '14px'\r\n    },\r\n    imagesGrid: {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',\r\n        gap: '20px'\r\n    },\r\n    imageBox: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '12px'\r\n    },\r\n    imageTitle: {\r\n        fontSize: '14px',\r\n        fontWeight: 500,\r\n        color: '#94a3b8',\r\n        margin: 0\r\n    },\r\n    imageContainer: {\r\n        position: 'relative',\r\n        width: '100%',\r\n        borderRadius: '12px',\r\n        overflow: 'hidden',\r\n        border: '2px solid rgba(148, 163, 184, 0.2)',\r\n        background: 'rgba(15, 23, 42, 0.4)'\r\n    },\r\n    image: {\r\n        width: '100%',\r\n        height: 'auto',\r\n        maxHeight: '400px',\r\n        objectFit: 'contain',\r\n        display: 'block'\r\n    },\r\n    errorBox: {\r\n        background: 'rgba(239, 68, 68, 0.1)',\r\n        border: '2px solid rgba(239, 68, 68, 0.3)',\r\n        borderRadius: '12px',\r\n        padding: '16px'\r\n    },\r\n    errorText: {\r\n        color: '#ef4444',\r\n        margin: 0\r\n    },\r\n    actionsRow: {\r\n        display: 'flex',\r\n        gap: '12px',\r\n        flexWrap: 'wrap'\r\n    },\r\n    button: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        gap: '8px',\r\n        padding: '14px 24px',\r\n        borderRadius: '12px',\r\n        border: 'none',\r\n        fontSize: '16px',\r\n        fontWeight: 600,\r\n        cursor: 'pointer',\r\n        transition: 'all 0.2s',\r\n        flex: 1,\r\n        minWidth: '140px'\r\n    },\r\n    buttonPrimary: {\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        color: '#fff',\r\n        boxShadow: '0 4px 12px rgba(102, 126, 234, 0.3)'\r\n    },\r\n    buttonSuccess: {\r\n        background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n        color: '#fff',\r\n        boxShadow: '0 4px 12px rgba(16, 185, 129, 0.3)'\r\n    },\r\n    buttonSecondary: {\r\n        background: 'rgba(51, 65, 85, 0.8)',\r\n        color: '#cbd5e1'\r\n    },\r\n    buttonDisabled: {\r\n        opacity: 0.5,\r\n        cursor: 'not-allowed'\r\n    }\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 11505, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/CombineSplitPDF.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { BsFilePdf, BsDownload, BsX } from 'react-icons/bs';\r\nimport { HiCheckCircle } from 'react-icons/hi';\r\n\r\nexport default function CombineSplitPDF() {\r\n    const [mode, setMode] = useState('combine'); // 'combine' o 'split'\r\n    const [files, setFiles] = useState([]);\r\n    const [processing, setProcessing] = useState(false);\r\n    const [result, setResult] = useState(null);\r\n    const [error, setError] = useState('');\r\n    \r\n    // Per split PDF\r\n    const [splitRanges, setSplitRanges] = useState('');\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        accept: { 'application/pdf': ['.pdf'] },\r\n        multiple: mode === 'combine',\r\n        onDrop: (acceptedFiles) => {\r\n            setError('');\r\n            setResult(null);\r\n            if (mode === 'combine') {\r\n                setFiles([...files, ...acceptedFiles]);\r\n            } else {\r\n                setFiles([acceptedFiles[0]]);\r\n            }\r\n        }\r\n    });\r\n\r\n    const removeFile = (index) => {\r\n        setFiles(files.filter((_, i) => i !== index));\r\n    };\r\n\r\n    const moveFile = (index, direction) => {\r\n        const newFiles = [...files];\r\n        const newIndex = index + direction;\r\n        if (newIndex >= 0 && newIndex < files.length) {\r\n            [newFiles[index], newFiles[newIndex]] = [newFiles[newIndex], newFiles[index]];\r\n            setFiles(newFiles);\r\n        }\r\n    };\r\n\r\n    const handleProcess = async () => {\r\n        if (files.length === 0) {\r\n            setError('Carica almeno un file PDF');\r\n            return;\r\n        }\r\n\r\n        if (mode === 'combine' && files.length < 2) {\r\n            setError('Carica almeno 2 file PDF da combinare');\r\n            return;\r\n        }\r\n\r\n        setProcessing(true);\r\n        setError('');\r\n        setResult(null);\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('mode', mode);\r\n            \r\n            if (mode === 'combine') {\r\n                files.forEach((file, index) => {\r\n                    formData.append('files', file);\r\n                });\r\n            } else {\r\n                formData.append('file', files[0]);\r\n                formData.append('ranges', splitRanges);\r\n            }\r\n\r\n            const response = await fetch('/api/tools/combine-split-pdf', {\r\n                method: 'POST',\r\n                body: formData\r\n            });\r\n\r\n            if (!response.ok) {\r\n                // Verifica se la risposta è JSON\r\n                const contentType = response.headers.get('content-type');\r\n                let errorMessage = 'Errore durante l\\'elaborazione del PDF';\r\n                \r\n                if (contentType && contentType.includes('application/json')) {\r\n                    try {\r\n                        const errorData = await response.json();\r\n                        errorMessage = errorData.error || errorMessage;\r\n                    } catch (e) {\r\n                        // Se il parsing JSON fallisce, usa il messaggio di default\r\n                        errorMessage = response.status === 413 \r\n                            ? 'File troppo grande. Dimensione massima: 50MB per file'\r\n                            : `Errore ${response.status}: ${response.statusText}`;\r\n                    }\r\n                } else {\r\n                    // Se la risposta non è JSON, estrai il testo o usa un messaggio generico\r\n                    try {\r\n                        const text = await response.text();\r\n                        errorMessage = response.status === 413 \r\n                            ? 'File troppo grande. Dimensione massima: 50MB per file'\r\n                            : text || `Errore ${response.status}: ${response.statusText}`;\r\n                    } catch (e) {\r\n                        errorMessage = response.status === 413 \r\n                            ? 'File troppo grande. Dimensione massima: 50MB per file'\r\n                            : `Errore ${response.status}: ${response.statusText}`;\r\n                    }\r\n                }\r\n                \r\n                throw new Error(errorMessage);\r\n            }\r\n\r\n            const blob = await response.blob();\r\n            const url = URL.createObjectURL(blob);\r\n            \r\n            setResult({\r\n                url,\r\n                filename: mode === 'combine' ? 'combined.pdf' : 'split.pdf'\r\n            });\r\n        } catch (err) {\r\n            console.error('Errore:', err);\r\n            setError(err.message || 'Errore durante l\\'elaborazione del PDF');\r\n        } finally {\r\n            setProcessing(false);\r\n        }\r\n    };\r\n\r\n    const handleDownload = () => {\r\n        if (result) {\r\n            const link = document.createElement('a');\r\n            link.href = result.url;\r\n            link.download = result.filename;\r\n            link.click();\r\n        }\r\n    };\r\n\r\n    const resetAll = () => {\r\n        setFiles([]);\r\n        setResult(null);\r\n        setError('');\r\n        setSplitRanges('');\r\n    };\r\n\r\n    const styles = {\r\n        container: {\r\n            maxWidth: '900px',\r\n            margin: '0 auto',\r\n            padding: '20px'\r\n        },\r\n        modeSelector: {\r\n            display: 'flex',\r\n            gap: '10px',\r\n            marginBottom: '30px',\r\n            justifyContent: 'center'\r\n        },\r\n        modeBtn: {\r\n            padding: '12px 30px',\r\n            border: 'none',\r\n            borderRadius: '8px',\r\n            fontSize: '16px',\r\n            fontWeight: '600',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.3s ease',\r\n            background: '#e0e0e0',\r\n            color: '#333'\r\n        },\r\n        modeBtnActive: {\r\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n            color: 'white',\r\n            boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)'\r\n        },\r\n        dropzone: {\r\n            border: '3px dashed #ccc',\r\n            borderRadius: '12px',\r\n            padding: '40px 20px',\r\n            textAlign: 'center',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.3s ease',\r\n            background: '#fafafa',\r\n            marginBottom: '20px'\r\n        },\r\n        dropzoneActive: {\r\n            borderColor: '#667eea',\r\n            background: '#f0f4ff'\r\n        },\r\n        dropzoneIcon: {\r\n            fontSize: '48px',\r\n            color: '#667eea',\r\n            marginBottom: '15px'\r\n        },\r\n        dropzoneText: {\r\n            fontSize: '16px',\r\n            color: '#666',\r\n            margin: '10px 0'\r\n        },\r\n        filesList: {\r\n            marginTop: '20px',\r\n            marginBottom: '20px'\r\n        },\r\n        fileItem: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            padding: '15px',\r\n            background: 'white',\r\n            borderRadius: '8px',\r\n            marginBottom: '10px',\r\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\r\n        },\r\n        fileInfo: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '10px',\r\n            flex: 1\r\n        },\r\n        fileIcon: {\r\n            fontSize: '24px',\r\n            color: '#dc2626'\r\n        },\r\n        fileName: {\r\n            fontSize: '14px',\r\n            color: '#333',\r\n            fontWeight: '500'\r\n        },\r\n        fileActions: {\r\n            display: 'flex',\r\n            gap: '8px'\r\n        },\r\n        actionBtn: {\r\n            padding: '6px 12px',\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            fontSize: '12px',\r\n            cursor: 'pointer',\r\n            background: '#f3f4f6',\r\n            color: '#333',\r\n            transition: 'background 0.2s'\r\n        },\r\n        removeBtn: {\r\n            background: '#fee2e2',\r\n            color: '#dc2626'\r\n        },\r\n        splitInput: {\r\n            marginBottom: '20px'\r\n        },\r\n        label: {\r\n            display: 'block',\r\n            fontSize: '14px',\r\n            fontWeight: '600',\r\n            color: '#333',\r\n            marginBottom: '8px'\r\n        },\r\n        input: {\r\n            width: '100%',\r\n            padding: '12px',\r\n            border: '2px solid #e5e7eb',\r\n            borderRadius: '8px',\r\n            fontSize: '14px',\r\n            boxSizing: 'border-box'\r\n        },\r\n        hint: {\r\n            fontSize: '12px',\r\n            color: '#6b7280',\r\n            marginTop: '5px'\r\n        },\r\n        processBtn: {\r\n            width: '100%',\r\n            padding: '15px',\r\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '8px',\r\n            fontSize: '16px',\r\n            fontWeight: '600',\r\n            cursor: 'pointer',\r\n            transition: 'transform 0.2s',\r\n            marginTop: '20px'\r\n        },\r\n        processBtnDisabled: {\r\n            opacity: 0.6,\r\n            cursor: 'not-allowed'\r\n        },\r\n        error: {\r\n            padding: '15px',\r\n            background: '#fee2e2',\r\n            border: '1px solid #fca5a5',\r\n            borderRadius: '8px',\r\n            color: '#dc2626',\r\n            marginTop: '20px',\r\n            fontSize: '14px'\r\n        },\r\n        result: {\r\n            marginTop: '30px',\r\n            padding: '25px',\r\n            background: 'white',\r\n            borderRadius: '12px',\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.1)',\r\n            textAlign: 'center'\r\n        },\r\n        successIcon: {\r\n            fontSize: '48px',\r\n            color: '#10b981',\r\n            marginBottom: '15px'\r\n        },\r\n        resultTitle: {\r\n            fontSize: '18px',\r\n            fontWeight: '600',\r\n            color: '#333',\r\n            marginBottom: '20px'\r\n        },\r\n        downloadBtn: {\r\n            display: 'inline-flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n            padding: '12px 30px',\r\n            background: '#10b981',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '8px',\r\n            fontSize: '16px',\r\n            fontWeight: '600',\r\n            cursor: 'pointer',\r\n            transition: 'background 0.2s',\r\n            marginRight: '10px'\r\n        },\r\n        resetBtn: {\r\n            display: 'inline-flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n            padding: '12px 30px',\r\n            background: '#6b7280',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '8px',\r\n            fontSize: '16px',\r\n            fontWeight: '600',\r\n            cursor: 'pointer',\r\n            transition: 'background 0.2s'\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.modeSelector}>\r\n                <button\r\n                    onClick={() => { setMode('combine'); resetAll(); }}\r\n                    style={{\r\n                        ...styles.modeBtn,\r\n                        ...(mode === 'combine' ? styles.modeBtnActive : {})\r\n                    }}\r\n                >\r\n                    Combina PDF\r\n                </button>\r\n                <button\r\n                    onClick={() => { setMode('split'); resetAll(); }}\r\n                    style={{\r\n                        ...styles.modeBtn,\r\n                        ...(mode === 'split' ? styles.modeBtnActive : {})\r\n                    }}\r\n                >\r\n                    Splitta PDF\r\n                </button>\r\n            </div>\r\n\r\n            {mode === 'combine' ? (\r\n                <>\r\n                    <div\r\n                        {...getRootProps()}\r\n                        style={{\r\n                            ...styles.dropzone,\r\n                            ...(isDragActive ? styles.dropzoneActive : {})\r\n                        }}\r\n                    >\r\n                        <input {...getInputProps()} />\r\n                        <BsFilePdf style={styles.dropzoneIcon} />\r\n                        <p style={styles.dropzoneText}>\r\n                            <strong>Trascina qui i file PDF</strong> oppure clicca per selezionarli\r\n                        </p>\r\n                        <p style={{...styles.dropzoneText, fontSize: '14px', color: '#999'}}>\r\n                            Aggiungi almeno 2 file PDF da combinare\r\n                        </p>\r\n                    </div>\r\n\r\n                    {files.length > 0 && (\r\n                        <div style={styles.filesList}>\r\n                            <h3 style={{fontSize: '16px', fontWeight: '600', marginBottom: '15px', color: '#333'}}>\r\n                                File da combinare ({files.length})\r\n                            </h3>\r\n                            {files.map((file, index) => (\r\n                                <div key={index} style={styles.fileItem}>\r\n                                    <div style={styles.fileInfo}>\r\n                                        <BsFilePdf style={styles.fileIcon} />\r\n                                        <span style={styles.fileName}>{file.name}</span>\r\n                                    </div>\r\n                                    <div style={styles.fileActions}>\r\n                                        {index > 0 && (\r\n                                            <button\r\n                                                onClick={() => moveFile(index, -1)}\r\n                                                style={styles.actionBtn}\r\n                                            >\r\n                                                ↑\r\n                                            </button>\r\n                                        )}\r\n                                        {index < files.length - 1 && (\r\n                                            <button\r\n                                                onClick={() => moveFile(index, 1)}\r\n                                                style={styles.actionBtn}\r\n                                            >\r\n                                                ↓\r\n                                            </button>\r\n                                        )}\r\n                                        <button\r\n                                            onClick={() => removeFile(index)}\r\n                                            style={{...styles.actionBtn, ...styles.removeBtn}}\r\n                                        >\r\n                                            <BsX />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <div\r\n                        {...getRootProps()}\r\n                        style={{\r\n                            ...styles.dropzone,\r\n                            ...(isDragActive ? styles.dropzoneActive : {})\r\n                        }}\r\n                    >\r\n                        <input {...getInputProps()} />\r\n                        <BsFilePdf style={styles.dropzoneIcon} />\r\n                        <p style={styles.dropzoneText}>\r\n                            <strong>Trascina qui il file PDF</strong> oppure clicca per selezionarlo\r\n                        </p>\r\n                        <p style={{...styles.dropzoneText, fontSize: '14px', color: '#999'}}>\r\n                            Seleziona un singolo file PDF da dividere\r\n                        </p>\r\n                    </div>\r\n\r\n                    {files.length > 0 && (\r\n                        <div style={styles.filesList}>\r\n                            <div style={styles.fileItem}>\r\n                                <div style={styles.fileInfo}>\r\n                                    <BsFilePdf style={styles.fileIcon} />\r\n                                    <span style={styles.fileName}>{files[0].name}</span>\r\n                                </div>\r\n                                <button\r\n                                    onClick={() => setFiles([])}\r\n                                    style={{...styles.actionBtn, ...styles.removeBtn}}\r\n                                >\r\n                                    <BsX />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div style={styles.splitInput}>\r\n                        <label style={styles.label}>\r\n                            Specifica le pagine da estrarre\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            style={styles.input}\r\n                            placeholder=\"es: 1-3,5,7-10\"\r\n                            value={splitRanges}\r\n                            onChange={(e) => setSplitRanges(e.target.value)}\r\n                        />\r\n                        <p style={styles.hint}>\r\n                            Inserisci pagine singole (5) o intervalli (1-3) separati da virgola\r\n                        </p>\r\n                    </div>\r\n                </>\r\n            )}\r\n\r\n            {!result && (\r\n                <button\r\n                    onClick={handleProcess}\r\n                    disabled={processing || files.length === 0 || (mode === 'combine' && files.length < 2)}\r\n                    style={{\r\n                        ...styles.processBtn,\r\n                        ...(processing || files.length === 0 || (mode === 'combine' && files.length < 2) ? styles.processBtnDisabled : {})\r\n                    }}\r\n                >\r\n                    {processing ? 'Elaborazione in corso...' : mode === 'combine' ? 'Combina PDF' : 'Splitta PDF'}\r\n                </button>\r\n            )}\r\n\r\n            {error && (\r\n                <div style={styles.error}>\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            {result && (\r\n                <div style={styles.result}>\r\n                    <HiCheckCircle style={styles.successIcon} />\r\n                    <h3 style={styles.resultTitle}>\r\n                        {mode === 'combine' ? 'PDF Combinato con Successo!' : 'PDF Splittato con Successo!'}\r\n                    </h3>\r\n                    <button onClick={handleDownload} style={styles.downloadBtn}>\r\n                        <BsDownload /> Scarica PDF\r\n                    </button>\r\n                    <button onClick={resetAll} style={styles.resetBtn}>\r\n                        Nuova Operazione\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;AAEe,SAAS;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC,YAAY,sBAAsB;IACnE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC,EAAE;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,+GAAQ,EAAC;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IACrC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAEnC,gBAAgB;IAChB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,+GAAQ,EAAC;IAE/C,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,GAAG,IAAA,iJAAW,EAAC;QAC9D,QAAQ;YAAE,mBAAmB;gBAAC;aAAO;QAAC;QACtC,UAAU,SAAS;QACnB,QAAQ,CAAC;YACL,SAAS;YACT,UAAU;YACV,IAAI,SAAS,WAAW;gBACpB,SAAS;uBAAI;uBAAU;iBAAc;YACzC,OAAO;gBACH,SAAS;oBAAC,aAAa,CAAC,EAAE;iBAAC;YAC/B;QACJ;IACJ;IAEA,MAAM,aAAa,CAAC;QAChB,SAAS,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;IAC1C;IAEA,MAAM,WAAW,CAAC,OAAO;QACrB,MAAM,WAAW;eAAI;SAAM;QAC3B,MAAM,WAAW,QAAQ;QACzB,IAAI,YAAY,KAAK,WAAW,MAAM,MAAM,EAAE;YAC1C,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,SAAS,CAAC,GAAG;gBAAC,QAAQ,CAAC,SAAS;gBAAE,QAAQ,CAAC,MAAM;aAAC;YAC7E,SAAS;QACb;IACJ;IAEA,MAAM,gBAAgB;QAClB,IAAI,MAAM,MAAM,KAAK,GAAG;YACpB,SAAS;YACT;QACJ;QAEA,IAAI,SAAS,aAAa,MAAM,MAAM,GAAG,GAAG;YACxC,SAAS;YACT;QACJ;QAEA,cAAc;QACd,SAAS;QACT,UAAU;QAEV,IAAI;YACA,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,QAAQ;YAExB,IAAI,SAAS,WAAW;gBACpB,MAAM,OAAO,CAAC,CAAC,MAAM;oBACjB,SAAS,MAAM,CAAC,SAAS;gBAC7B;YACJ,OAAO;gBACH,SAAS,MAAM,CAAC,QAAQ,KAAK,CAAC,EAAE;gBAChC,SAAS,MAAM,CAAC,UAAU;YAC9B;YAEA,MAAM,WAAW,MAAM,MAAM,gCAAgC;gBACzD,QAAQ;gBACR,MAAM;YACV;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,iCAAiC;gBACjC,MAAM,cAAc,SAAS,OAAO,CAAC,GAAG,CAAC;gBACzC,IAAI,eAAe;gBAEnB,IAAI,eAAe,YAAY,QAAQ,CAAC,qBAAqB;oBACzD,IAAI;wBACA,MAAM,YAAY,MAAM,SAAS,IAAI;wBACrC,eAAe,UAAU,KAAK,IAAI;oBACtC,EAAE,OAAO,GAAG;wBACR,2DAA2D;wBAC3D,eAAe,SAAS,MAAM,KAAK,MAC7B,0DACA,CAAC,OAAO,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,SAAS,UAAU,EAAE;oBAC7D;gBACJ,OAAO;oBACH,yEAAyE;oBACzE,IAAI;wBACA,MAAM,OAAO,MAAM,SAAS,IAAI;wBAChC,eAAe,SAAS,MAAM,KAAK,MAC7B,0DACA,QAAQ,CAAC,OAAO,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,SAAS,UAAU,EAAE;oBACrE,EAAE,OAAO,GAAG;wBACR,eAAe,SAAS,MAAM,KAAK,MAC7B,0DACA,CAAC,OAAO,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,SAAS,UAAU,EAAE;oBAC7D;gBACJ;gBAEA,MAAM,IAAI,MAAM;YACpB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,MAAM,MAAM,IAAI,eAAe,CAAC;YAEhC,UAAU;gBACN;gBACA,UAAU,SAAS,YAAY,iBAAiB;YACpD;QACJ,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,WAAW;YACzB,SAAS,IAAI,OAAO,IAAI;QAC5B,SAAU;YACN,cAAc;QAClB;IACJ;IAEA,MAAM,iBAAiB;QACnB,IAAI,QAAQ;YACR,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,IAAI,GAAG,OAAO,GAAG;YACtB,KAAK,QAAQ,GAAG,OAAO,QAAQ;YAC/B,KAAK,KAAK;QACd;IACJ;IAEA,MAAM,WAAW;QACb,SAAS,EAAE;QACX,UAAU;QACV,SAAS;QACT,eAAe;IACnB;IAEA,MAAM,SAAS;QACX,WAAW;YACP,UAAU;YACV,QAAQ;YACR,SAAS;QACb;QACA,cAAc;YACV,SAAS;YACT,KAAK;YACL,cAAc;YACd,gBAAgB;QACpB;QACA,SAAS;YACL,SAAS;YACT,QAAQ;YACR,cAAc;YACd,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,YAAY;YACZ,YAAY;YACZ,OAAO;QACX;QACA,eAAe;YACX,YAAY;YACZ,OAAO;YACP,WAAW;QACf;QACA,UAAU;YACN,QAAQ;YACR,cAAc;YACd,SAAS;YACT,WAAW;YACX,QAAQ;YACR,YAAY;YACZ,YAAY;YACZ,cAAc;QAClB;QACA,gBAAgB;YACZ,aAAa;YACb,YAAY;QAChB;QACA,cAAc;YACV,UAAU;YACV,OAAO;YACP,cAAc;QAClB;QACA,cAAc;YACV,UAAU;YACV,OAAO;YACP,QAAQ;QACZ;QACA,WAAW;YACP,WAAW;YACX,cAAc;QAClB;QACA,UAAU;YACN,SAAS;YACT,YAAY;YACZ,gBAAgB;YAChB,SAAS;YACT,YAAY;YACZ,cAAc;YACd,cAAc;YACd,WAAW;QACf;QACA,UAAU;YACN,SAAS;YACT,YAAY;YACZ,KAAK;YACL,MAAM;QACV;QACA,UAAU;YACN,UAAU;YACV,OAAO;QACX;QACA,UAAU;YACN,UAAU;YACV,OAAO;YACP,YAAY;QAChB;QACA,aAAa;YACT,SAAS;YACT,KAAK;QACT;QACA,WAAW;YACP,SAAS;YACT,QAAQ;YACR,cAAc;YACd,UAAU;YACV,QAAQ;YACR,YAAY;YACZ,OAAO;YACP,YAAY;QAChB;QACA,WAAW;YACP,YAAY;YACZ,OAAO;QACX;QACA,YAAY;YACR,cAAc;QAClB;QACA,OAAO;YACH,SAAS;YACT,UAAU;YACV,YAAY;YACZ,OAAO;YACP,cAAc;QAClB;QACA,OAAO;YACH,OAAO;YACP,SAAS;YACT,QAAQ;YACR,cAAc;YACd,UAAU;YACV,WAAW;QACf;QACA,MAAM;YACF,UAAU;YACV,OAAO;YACP,WAAW;QACf;QACA,YAAY;YACR,OAAO;YACP,SAAS;YACT,YAAY;YACZ,OAAO;YACP,QAAQ;YACR,cAAc;YACd,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,YAAY;YACZ,WAAW;QACf;QACA,oBAAoB;YAChB,SAAS;YACT,QAAQ;QACZ;QACA,OAAO;YACH,SAAS;YACT,YAAY;YACZ,QAAQ;YACR,cAAc;YACd,OAAO;YACP,WAAW;YACX,UAAU;QACd;QACA,QAAQ;YACJ,WAAW;YACX,SAAS;YACT,YAAY;YACZ,cAAc;YACd,WAAW;YACX,WAAW;QACf;QACA,aAAa;YACT,UAAU;YACV,OAAO;YACP,cAAc;QAClB;QACA,aAAa;YACT,UAAU;YACV,YAAY;YACZ,OAAO;YACP,cAAc;QAClB;QACA,aAAa;YACT,SAAS;YACT,YAAY;YACZ,KAAK;YACL,SAAS;YACT,YAAY;YACZ,OAAO;YACP,QAAQ;YACR,cAAc;YACd,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,YAAY;YACZ,aAAa;QACjB;QACA,UAAU;YACN,SAAS;YACT,YAAY;YACZ,KAAK;YACL,SAAS;YACT,YAAY;YACZ,OAAO;YACP,QAAQ;YACR,cAAc;YACd,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,YAAY;QAChB;IACJ;IAEA,qBACI,qKAAC;QAAI,OAAO,OAAO,SAAS;;0BACxB,qKAAC;gBAAI,OAAO,OAAO,YAAY;;kCAC3B,qKAAC;wBACG,SAAS;4BAAQ,QAAQ;4BAAY;wBAAY;wBACjD,OAAO;4BACH,GAAG,OAAO,OAAO;4BACjB,GAAI,SAAS,YAAY,OAAO,aAAa,GAAG,CAAC,CAAC;wBACtD;kCACH;;;;;;kCAGD,qKAAC;wBACG,SAAS;4BAAQ,QAAQ;4BAAU;wBAAY;wBAC/C,OAAO;4BACH,GAAG,OAAO,OAAO;4BACjB,GAAI,SAAS,UAAU,OAAO,aAAa,GAAG,CAAC,CAAC;wBACpD;kCACH;;;;;;;;;;;;YAKJ,SAAS,0BACN;;kCACI,qKAAC;wBACI,GAAG,cAAc;wBAClB,OAAO;4BACH,GAAG,OAAO,QAAQ;4BAClB,GAAI,eAAe,OAAO,cAAc,GAAG,CAAC,CAAC;wBACjD;;0CAEA,qKAAC;gCAAO,GAAG,eAAe;;;;;;0CAC1B,qKAAC,oJAAS;gCAAC,OAAO,OAAO,YAAY;;;;;;0CACrC,qKAAC;gCAAE,OAAO,OAAO,YAAY;;kDACzB,qKAAC;kDAAO;;;;;;oCAAgC;;;;;;;0CAE5C,qKAAC;gCAAE,OAAO;oCAAC,GAAG,OAAO,YAAY;oCAAE,UAAU;oCAAQ,OAAO;gCAAM;0CAAG;;;;;;;;;;;;oBAKxE,MAAM,MAAM,GAAG,mBACZ,qKAAC;wBAAI,OAAO,OAAO,SAAS;;0CACxB,qKAAC;gCAAG,OAAO;oCAAC,UAAU;oCAAQ,YAAY;oCAAO,cAAc;oCAAQ,OAAO;gCAAM;;oCAAG;oCAC/D,MAAM,MAAM;oCAAC;;;;;;;4BAEpC,MAAM,GAAG,CAAC,CAAC,MAAM,sBACd,qKAAC;oCAAgB,OAAO,OAAO,QAAQ;;sDACnC,qKAAC;4CAAI,OAAO,OAAO,QAAQ;;8DACvB,qKAAC,oJAAS;oDAAC,OAAO,OAAO,QAAQ;;;;;;8DACjC,qKAAC;oDAAK,OAAO,OAAO,QAAQ;8DAAG,KAAK,IAAI;;;;;;;;;;;;sDAE5C,qKAAC;4CAAI,OAAO,OAAO,WAAW;;gDACzB,QAAQ,mBACL,qKAAC;oDACG,SAAS,IAAM,SAAS,OAAO,CAAC;oDAChC,OAAO,OAAO,SAAS;8DAC1B;;;;;;gDAIJ,QAAQ,MAAM,MAAM,GAAG,mBACpB,qKAAC;oDACG,SAAS,IAAM,SAAS,OAAO;oDAC/B,OAAO,OAAO,SAAS;8DAC1B;;;;;;8DAIL,qKAAC;oDACG,SAAS,IAAM,WAAW;oDAC1B,OAAO;wDAAC,GAAG,OAAO,SAAS;wDAAE,GAAG,OAAO,SAAS;oDAAA;8DAEhD,cAAA,qKAAC,8IAAG;;;;;;;;;;;;;;;;;mCA1BN;;;;;;;;;;;;6CAmC1B;;kCACI,qKAAC;wBACI,GAAG,cAAc;wBAClB,OAAO;4BACH,GAAG,OAAO,QAAQ;4BAClB,GAAI,eAAe,OAAO,cAAc,GAAG,CAAC,CAAC;wBACjD;;0CAEA,qKAAC;gCAAO,GAAG,eAAe;;;;;;0CAC1B,qKAAC,oJAAS;gCAAC,OAAO,OAAO,YAAY;;;;;;0CACrC,qKAAC;gCAAE,OAAO,OAAO,YAAY;;kDACzB,qKAAC;kDAAO;;;;;;oCAAiC;;;;;;;0CAE7C,qKAAC;gCAAE,OAAO;oCAAC,GAAG,OAAO,YAAY;oCAAE,UAAU;oCAAQ,OAAO;gCAAM;0CAAG;;;;;;;;;;;;oBAKxE,MAAM,MAAM,GAAG,mBACZ,qKAAC;wBAAI,OAAO,OAAO,SAAS;kCACxB,cAAA,qKAAC;4BAAI,OAAO,OAAO,QAAQ;;8CACvB,qKAAC;oCAAI,OAAO,OAAO,QAAQ;;sDACvB,qKAAC,oJAAS;4CAAC,OAAO,OAAO,QAAQ;;;;;;sDACjC,qKAAC;4CAAK,OAAO,OAAO,QAAQ;sDAAG,KAAK,CAAC,EAAE,CAAC,IAAI;;;;;;;;;;;;8CAEhD,qKAAC;oCACG,SAAS,IAAM,SAAS,EAAE;oCAC1B,OAAO;wCAAC,GAAG,OAAO,SAAS;wCAAE,GAAG,OAAO,SAAS;oCAAA;8CAEhD,cAAA,qKAAC,8IAAG;;;;;;;;;;;;;;;;;;;;;kCAMpB,qKAAC;wBAAI,OAAO,OAAO,UAAU;;0CACzB,qKAAC;gCAAM,OAAO,OAAO,KAAK;0CAAE;;;;;;0CAG5B,qKAAC;gCACG,MAAK;gCACL,OAAO,OAAO,KAAK;gCACnB,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;0CAElD,qKAAC;gCAAE,OAAO,OAAO,IAAI;0CAAE;;;;;;;;;;;;;;YAOlC,CAAC,wBACE,qKAAC;gBACG,SAAS;gBACT,UAAU,cAAc,MAAM,MAAM,KAAK,KAAM,SAAS,aAAa,MAAM,MAAM,GAAG;gBACpF,OAAO;oBACH,GAAG,OAAO,UAAU;oBACpB,GAAI,cAAc,MAAM,MAAM,KAAK,KAAM,SAAS,aAAa,MAAM,MAAM,GAAG,IAAK,OAAO,kBAAkB,GAAG,CAAC,CAAC;gBACrH;0BAEC,aAAa,6BAA6B,SAAS,YAAY,gBAAgB;;;;;;YAIvF,uBACG,qKAAC;gBAAI,OAAO,OAAO,KAAK;0BACnB;;;;;;YAIR,wBACG,qKAAC;gBAAI,OAAO,OAAO,MAAM;;kCACrB,qKAAC,wJAAa;wBAAC,OAAO,OAAO,WAAW;;;;;;kCACxC,qKAAC;wBAAG,OAAO,OAAO,WAAW;kCACxB,SAAS,YAAY,gCAAgC;;;;;;kCAE1D,qKAAC;wBAAO,SAAS;wBAAgB,OAAO,OAAO,WAAW;;0CACtD,qKAAC,qJAAU;;;;;4BAAG;;;;;;;kCAElB,qKAAC;wBAAO,SAAS;wBAAU,OAAO,OAAO,QAAQ;kCAAE;;;;;;;;;;;;;;;;;;AAOvE"}},
    {"offset": {"line": 12282, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/VideoCompressor.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { BsCameraVideo, BsCloudUpload, BsDownload, BsX } from 'react-icons/bs';\r\nimport { HiCheckCircle } from 'react-icons/hi';\r\n\r\nexport default function VideoCompressor() {\r\n    const [video, setVideo] = useState(null);\r\n    const [preview, setPreview] = useState(null);\r\n    const [result, setResult] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [quality, setQuality] = useState('medium');\r\n    const [originalSize, setOriginalSize] = useState(null);\r\n    const [compressedSize, setCompressedSize] = useState(null);\r\n\r\n    const qualityOptions = [\r\n        { value: 'low', label: 'Bassa (massima compressione)', bitrate: '500k' },\r\n        { value: 'medium', label: 'Media (bilanciata)', bitrate: '1000k' },\r\n        { value: 'high', label: 'Alta (qualità preservata)', bitrate: '2000k' },\r\n    ];\r\n\r\n    const onDrop = async (acceptedFiles) => {\r\n        const file = acceptedFiles[0];\r\n        if (!file) return;\r\n\r\n        setVideo(file);\r\n        setOriginalSize(file.size);\r\n        setPreview(URL.createObjectURL(file));\r\n        setResult(null);\r\n        setError(null);\r\n        setCompressedSize(null);\r\n    };\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        onDrop,\r\n        accept: { \r\n            'video/*': ['.mp4', '.avi', '.mov', '.mkv', '.webm', '.flv', '.wmv']\r\n        },\r\n        maxFiles: 1,\r\n    });\r\n\r\n    const handleCompress = async () => {\r\n        if (!video) return;\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('video', video);\r\n            formData.append('quality', quality);\r\n\r\n            const response = await fetch('/api/tools/compress-video', {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.error || 'Errore durante la compressione');\r\n            }\r\n\r\n            const blob = await response.blob();\r\n            const url = URL.createObjectURL(blob);\r\n            setResult(url);\r\n            setCompressedSize(blob.size);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDownload = () => {\r\n        if (!result) return;\r\n        const a = document.createElement('a');\r\n        a.href = result;\r\n        a.download = `compressed_${video.name}`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n    };\r\n\r\n    const handleReset = () => {\r\n        setVideo(null);\r\n        setPreview(null);\r\n        setResult(null);\r\n        setError(null);\r\n        setOriginalSize(null);\r\n        setCompressedSize(null);\r\n    };\r\n\r\n    const formatFileSize = (bytes) => {\r\n        if (!bytes) return '0 B';\r\n        const k = 1024;\r\n        const sizes = ['B', 'KB', 'MB', 'GB'];\r\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n        return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\r\n    };\r\n\r\n    const compressionRatio = originalSize && compressedSize \r\n        ? Math.round((1 - compressedSize / originalSize) * 100) \r\n        : null;\r\n\r\n    const styles = {\r\n        container: {\r\n            maxWidth: '900px',\r\n            margin: '0 auto',\r\n            padding: '20px'\r\n        },\r\n        dropzone: {\r\n            border: '3px dashed rgba(148, 163, 184, 0.3)',\r\n            borderRadius: '16px',\r\n            padding: '60px 20px',\r\n            textAlign: 'center',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.3s ease',\r\n            background: 'rgba(15, 23, 42, 0.4)'\r\n        },\r\n        dropzoneActive: {\r\n            borderColor: '#667eea',\r\n            background: 'rgba(102, 126, 234, 0.1)'\r\n        },\r\n        uploadIcon: {\r\n            fontSize: '64px',\r\n            color: '#667eea',\r\n            marginBottom: '20px'\r\n        },\r\n        dropzoneText: {\r\n            fontSize: '18px',\r\n            fontWeight: 600,\r\n            color: '#e6eef8',\r\n            margin: '10px 0'\r\n        },\r\n        dropzoneSubtext: {\r\n            fontSize: '14px',\r\n            color: '#94a3b8',\r\n            margin: '5px 0'\r\n        },\r\n        qualitySelector: {\r\n            marginTop: '30px',\r\n            marginBottom: '20px'\r\n        },\r\n        qualityLabel: {\r\n            display: 'block',\r\n            fontSize: '14px',\r\n            fontWeight: 600,\r\n            color: '#94a3b8',\r\n            marginBottom: '12px'\r\n        },\r\n        qualityOptions: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: '10px'\r\n        },\r\n        qualityOption: {\r\n            padding: '12px 16px',\r\n            borderRadius: '12px',\r\n            border: '2px solid rgba(148, 163, 184, 0.2)',\r\n            background: 'rgba(15, 23, 42, 0.4)',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.2s',\r\n            textAlign: 'left'\r\n        },\r\n        qualityOptionActive: {\r\n            borderColor: '#667eea',\r\n            background: 'rgba(102, 126, 234, 0.1)'\r\n        },\r\n        qualityOptionLabel: {\r\n            color: '#e6eef8',\r\n            fontWeight: 500,\r\n            fontSize: '14px',\r\n            margin: 0\r\n        },\r\n        videoPreview: {\r\n            marginTop: '30px',\r\n            marginBottom: '20px'\r\n        },\r\n        videoContainer: {\r\n            position: 'relative',\r\n            width: '100%',\r\n            borderRadius: '12px',\r\n            overflow: 'hidden',\r\n            border: '2px solid rgba(148, 163, 184, 0.2)',\r\n            background: 'rgba(15, 23, 42, 0.4)'\r\n        },\r\n        video: {\r\n            width: '100%',\r\n            height: 'auto',\r\n            maxHeight: '400px',\r\n            display: 'block'\r\n        },\r\n        fileInfo: {\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            padding: '15px',\r\n            background: 'rgba(15, 23, 42, 0.6)',\r\n            borderRadius: '8px',\r\n            marginTop: '15px'\r\n        },\r\n        fileInfoText: {\r\n            fontSize: '14px',\r\n            color: '#94a3b8',\r\n            margin: 0\r\n        },\r\n        compressionStats: {\r\n            display: 'flex',\r\n            gap: '20px',\r\n            marginTop: '15px',\r\n            padding: '15px',\r\n            background: 'rgba(16, 185, 129, 0.1)',\r\n            border: '2px solid rgba(16, 185, 129, 0.3)',\r\n            borderRadius: '8px'\r\n        },\r\n        statItem: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: '5px'\r\n        },\r\n        statLabel: {\r\n            fontSize: '12px',\r\n            color: '#94a3b8'\r\n        },\r\n        statValue: {\r\n            fontSize: '16px',\r\n            fontWeight: 600,\r\n            color: '#10b981'\r\n        },\r\n        actionsRow: {\r\n            display: 'flex',\r\n            gap: '12px',\r\n            marginTop: '30px',\r\n            flexWrap: 'wrap'\r\n        },\r\n        button: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: '8px',\r\n            padding: '14px 24px',\r\n            borderRadius: '12px',\r\n            border: 'none',\r\n            fontSize: '16px',\r\n            fontWeight: 600,\r\n            cursor: 'pointer',\r\n            transition: 'all 0.2s',\r\n            flex: 1,\r\n            minWidth: '140px'\r\n        },\r\n        buttonPrimary: {\r\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n            color: '#fff',\r\n            boxShadow: '0 4px 12px rgba(102, 126, 234, 0.3)'\r\n        },\r\n        buttonSuccess: {\r\n            background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n            color: '#fff',\r\n            boxShadow: '0 4px 12px rgba(16, 185, 129, 0.3)'\r\n        },\r\n        buttonSecondary: {\r\n            background: 'rgba(51, 65, 85, 0.8)',\r\n            color: '#cbd5e1'\r\n        },\r\n        buttonDisabled: {\r\n            opacity: 0.5,\r\n            cursor: 'not-allowed'\r\n        },\r\n        errorBox: {\r\n            background: 'rgba(239, 68, 68, 0.1)',\r\n            border: '2px solid rgba(239, 68, 68, 0.3)',\r\n            borderRadius: '12px',\r\n            padding: '16px',\r\n            marginTop: '20px'\r\n        },\r\n        errorText: {\r\n            color: '#ef4444',\r\n            margin: 0\r\n        },\r\n        resultBox: {\r\n            marginTop: '30px',\r\n            padding: '25px',\r\n            background: 'rgba(15, 23, 42, 0.8)',\r\n            border: '2px solid rgba(16, 185, 129, 0.3)',\r\n            borderRadius: '12px',\r\n            textAlign: 'center'\r\n        },\r\n        successIcon: {\r\n            fontSize: '48px',\r\n            color: '#10b981',\r\n            marginBottom: '15px'\r\n        },\r\n        resultTitle: {\r\n            fontSize: '18px',\r\n            fontWeight: 600,\r\n            color: '#e6eef8',\r\n            marginBottom: '20px'\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            {!preview ? (\r\n                <div\r\n                    {...getRootProps()}\r\n                    style={{\r\n                        ...styles.dropzone,\r\n                        ...(isDragActive ? styles.dropzoneActive : {})\r\n                    }}\r\n                >\r\n                    <input {...getInputProps()} />\r\n                    <BsCameraVideo style={styles.uploadIcon} />\r\n                    <p style={styles.dropzoneText}>\r\n                        {isDragActive ? 'Rilascia qui...' : 'Carica un video'}\r\n                    </p>\r\n                    <p style={styles.dropzoneSubtext}>\r\n                        MP4, AVI, MOV, MKV, WEBM, FLV, WMV\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <>\r\n                    <div style={styles.qualitySelector}>\r\n                        <label style={styles.qualityLabel}>Qualità di compressione</label>\r\n                        <div style={styles.qualityOptions}>\r\n                            {qualityOptions.map((opt) => (\r\n                                <button\r\n                                    key={opt.value}\r\n                                    onClick={() => setQuality(opt.value)}\r\n                                    style={{\r\n                                        ...styles.qualityOption,\r\n                                        ...(quality === opt.value ? styles.qualityOptionActive : {})\r\n                                    }}\r\n                                >\r\n                                    <p style={styles.qualityOptionLabel}>{opt.label}</p>\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={styles.videoPreview}>\r\n                        <div style={styles.videoContainer}>\r\n                            <video\r\n                                src={preview}\r\n                                controls\r\n                                style={styles.video}\r\n                            />\r\n                        </div>\r\n                        <div style={styles.fileInfo}>\r\n                            <p style={styles.fileInfoText}>\r\n                                <strong>File originale:</strong> {video.name}\r\n                            </p>\r\n                            <p style={styles.fileInfoText}>\r\n                                <strong>Dimensione:</strong> {formatFileSize(originalSize)}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div style={styles.errorBox}>\r\n                            <p style={styles.errorText}>{error}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {!result && (\r\n                        <div style={styles.actionsRow}>\r\n                            <button\r\n                                onClick={handleCompress}\r\n                                disabled={loading}\r\n                                style={{\r\n                                    ...styles.button,\r\n                                    ...styles.buttonPrimary,\r\n                                    ...(loading ? styles.buttonDisabled : {})\r\n                                }}\r\n                            >\r\n                                {loading ? 'Compressione in corso...' : 'Comprimi Video'}\r\n                            </button>\r\n                            <button\r\n                                onClick={handleReset}\r\n                                style={{...styles.button, ...styles.buttonSecondary}}\r\n                            >\r\n                                <BsX style={{width: 20, height: 20}} />\r\n                                <span>Reset</span>\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n\r\n                    {result && (\r\n                        <>\r\n                            <div style={styles.resultBox}>\r\n                                <HiCheckCircle style={styles.successIcon} />\r\n                                <h3 style={styles.resultTitle}>Video compresso con successo!</h3>\r\n                                \r\n                                {compressionRatio !== null && (\r\n                                    <div style={styles.compressionStats}>\r\n                                        <div style={styles.statItem}>\r\n                                            <span style={styles.statLabel}>Dimensione originale</span>\r\n                                            <span style={styles.statValue}>{formatFileSize(originalSize)}</span>\r\n                                        </div>\r\n                                        <div style={styles.statItem}>\r\n                                            <span style={styles.statLabel}>Dimensione compressa</span>\r\n                                            <span style={styles.statValue}>{formatFileSize(compressedSize)}</span>\r\n                                        </div>\r\n                                        <div style={styles.statItem}>\r\n                                            <span style={styles.statLabel}>Riduzione</span>\r\n                                            <span style={styles.statValue}>{compressionRatio}%</span>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div style={styles.actionsRow}>\r\n                                    <button\r\n                                        onClick={handleDownload}\r\n                                        style={{...styles.button, ...styles.buttonSuccess}}\r\n                                    >\r\n                                        <BsDownload style={{width: 20, height: 20}} />\r\n                                        <span>Scarica Video</span>\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={handleReset}\r\n                                        style={{...styles.button, ...styles.buttonSecondary}}\r\n                                    >\r\n                                        <BsX style={{width: 20, height: 20}} />\r\n                                        <span>Nuovo Video</span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 13026, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/DocumentTranslator.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { BsTranslate, BsCloudUpload, BsDownload, BsX, BsFileText } from 'react-icons/bs';\r\nimport { HiCheckCircle } from 'react-icons/hi';\r\nimport ProBadge from '../ProBadge';\r\nimport Link from 'next/link';\r\n\r\nexport default function DocumentTranslator() {\r\n    const [document, setDocument] = useState(null);\r\n    const [result, setResult] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [targetLanguage, setTargetLanguage] = useState('en');\r\n    const [preserveFormatting, setPreserveFormatting] = useState(true);\r\n\r\n    const languages = [\r\n        { code: 'en', name: 'Inglese' },\r\n        { code: 'es', name: 'Spagnolo' },\r\n        { code: 'fr', name: 'Francese' },\r\n        { code: 'de', name: 'Tedesco' },\r\n        { code: 'it', name: 'Italiano' },\r\n        { code: 'pt', name: 'Portoghese' },\r\n        { code: 'ru', name: 'Russo' },\r\n        { code: 'zh', name: 'Cinese' },\r\n        { code: 'ja', name: 'Giapponese' },\r\n        { code: 'ko', name: 'Coreano' },\r\n        { code: 'ar', name: 'Arabo' },\r\n        { code: 'hi', name: 'Hindi' },\r\n    ];\r\n\r\n    const onDrop = async (acceptedFiles) => {\r\n        const file = acceptedFiles[0];\r\n        if (!file) return;\r\n\r\n        setDocument(file);\r\n        setResult(null);\r\n        setError(null);\r\n    };\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        onDrop,\r\n        accept: { \r\n            'application/pdf': ['.pdf'],\r\n            'application/msword': ['.doc'],\r\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\r\n            'text/plain': ['.txt'],\r\n            'text/markdown': ['.md'],\r\n        },\r\n        maxFiles: 1,\r\n    });\r\n\r\n    const handleTranslate = async () => {\r\n        if (!document) return;\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('document', document);\r\n            formData.append('targetLanguage', targetLanguage);\r\n            formData.append('preserveFormatting', preserveFormatting.toString());\r\n\r\n            const response = await fetch('/api/tools/translate-document', {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                // Prova a leggere come JSON, altrimenti usa il testo\r\n                let errorMessage = 'Errore durante la traduzione';\r\n                let errorData = null;\r\n                \r\n                try {\r\n                    errorData = await response.json();\r\n                    errorMessage = errorData.error || errorMessage;\r\n                } catch (jsonError) {\r\n                    // Se non è JSON, prova a leggere come testo\r\n                    try {\r\n                        const errorText = await response.text();\r\n                        if (errorText) {\r\n                            errorMessage = errorText;\r\n                        } else {\r\n                            errorMessage = `Errore ${response.status}: ${response.statusText || 'Errore del server'}`;\r\n                        }\r\n                    } catch (textError) {\r\n                        errorMessage = `Errore ${response.status}: ${response.statusText || 'Errore del server'}`;\r\n                    }\r\n                }\r\n                \r\n                // Se è un errore di limite, mostra messaggio di upgrade\r\n                if (errorData && errorData.requiresPro) {\r\n                    const limitError = new Error(errorMessage);\r\n                    limitError.isLimitError = true;\r\n                    limitError.upgradeMessage = errorData.upgradeMessage || 'Passa a PRO per utilizzare questo tool senza limiti!';\r\n                    limitError.limitType = errorData.limitType;\r\n                    limitError.current = errorData.current;\r\n                    limitError.max = errorData.max;\r\n                    throw limitError;\r\n                }\r\n                \r\n                throw new Error(errorMessage);\r\n            }\r\n\r\n            // Verifica che la risposta sia un blob valido\r\n            const contentType = response.headers.get('content-type');\r\n            if (!contentType || !contentType.includes('application/') && !contentType.includes('text/')) {\r\n                throw new Error('Risposta del server non valida. Il documento potrebbe non essere stato tradotto correttamente.');\r\n            }\r\n\r\n            const blob = await response.blob();\r\n            \r\n            // Verifica che il blob non sia vuoto\r\n            if (blob.size === 0) {\r\n                throw new Error('Il documento tradotto è vuoto. Riprova con un file diverso.');\r\n            }\r\n            \r\n            const url = URL.createObjectURL(blob);\r\n            \r\n            // Determina il nome del file in base al tipo originale\r\n            const ext = document.name.split('.').pop();\r\n            const filename = `translated_${targetLanguage}_${document.name}`;\r\n            \r\n            setResult({ url, filename });\r\n        } catch (err) {\r\n            console.error('Errore traduzione:', err);\r\n            setError(err.message || 'Errore sconosciuto durante la traduzione. Riprova più tardi.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDownload = () => {\r\n        if (!result) return;\r\n        const a = document.createElement('a');\r\n        a.href = result.url;\r\n        a.download = result.filename;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n    };\r\n\r\n    const handleReset = () => {\r\n        setDocument(null);\r\n        setResult(null);\r\n        setError(null);\r\n    };\r\n\r\n    const styles = {\r\n        container: {\r\n            maxWidth: '900px',\r\n            margin: '0 auto',\r\n            padding: '20px'\r\n        },\r\n        dropzone: {\r\n            border: '3px dashed rgba(148, 163, 184, 0.3)',\r\n            borderRadius: '16px',\r\n            padding: '60px 20px',\r\n            textAlign: 'center',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.3s ease',\r\n            background: 'rgba(15, 23, 42, 0.4)'\r\n        },\r\n        dropzoneActive: {\r\n            border: '3px dashed #667eea',\r\n            background: 'rgba(102, 126, 234, 0.1)'\r\n        },\r\n        uploadIcon: {\r\n            fontSize: '64px',\r\n            color: '#667eea',\r\n            marginBottom: '20px'\r\n        },\r\n        dropzoneText: {\r\n            fontSize: '18px',\r\n            fontWeight: 600,\r\n            color: '#e6eef8',\r\n            margin: '10px 0'\r\n        },\r\n        dropzoneSubtext: {\r\n            fontSize: '14px',\r\n            color: '#94a3b8',\r\n            margin: '5px 0'\r\n        },\r\n        optionsSection: {\r\n            marginTop: '30px',\r\n            marginBottom: '20px'\r\n        },\r\n        optionGroup: {\r\n            marginBottom: '24px'\r\n        },\r\n        optionLabel: {\r\n            display: 'block',\r\n            fontSize: '14px',\r\n            fontWeight: 600,\r\n            color: '#94a3b8',\r\n            marginBottom: '12px'\r\n        },\r\n        languageSelect: {\r\n            width: '100%',\r\n            padding: '12px 16px',\r\n            borderRadius: '12px',\r\n            border: '2px solid rgba(148, 163, 184, 0.2)',\r\n            background: 'rgba(15, 23, 42, 0.6)',\r\n            color: '#e6eef8',\r\n            fontSize: '14px',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.2s'\r\n        },\r\n        checkboxContainer: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '10px',\r\n            padding: '12px 16px',\r\n            borderRadius: '12px',\r\n            border: '2px solid rgba(148, 163, 184, 0.2)',\r\n            background: 'rgba(15, 23, 42, 0.4)',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.2s'\r\n        },\r\n        checkbox: {\r\n            width: '20px',\r\n            height: '20px',\r\n            cursor: 'pointer',\r\n            accentColor: '#667eea'\r\n        },\r\n        checkboxLabel: {\r\n            color: '#e6eef8',\r\n            fontSize: '14px',\r\n            cursor: 'pointer',\r\n            margin: 0\r\n        },\r\n        fileInfo: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '12px',\r\n            padding: '15px',\r\n            background: 'rgba(15, 23, 42, 0.6)',\r\n            borderRadius: '12px',\r\n            marginTop: '20px',\r\n            marginBottom: '20px'\r\n        },\r\n        fileIcon: {\r\n            fontSize: '32px',\r\n            color: '#667eea'\r\n        },\r\n        fileDetails: {\r\n            flex: 1\r\n        },\r\n        fileName: {\r\n            fontSize: '16px',\r\n            fontWeight: 600,\r\n            color: '#e6eef8',\r\n            margin: 0,\r\n            marginBottom: '4px'\r\n        },\r\n        fileSize: {\r\n            fontSize: '14px',\r\n            color: '#94a3b8',\r\n            margin: 0\r\n        },\r\n        actionsRow: {\r\n            display: 'flex',\r\n            gap: '12px',\r\n            marginTop: '30px',\r\n            flexWrap: 'wrap'\r\n        },\r\n        button: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: '8px',\r\n            padding: '14px 24px',\r\n            borderRadius: '12px',\r\n            border: 'none',\r\n            fontSize: '16px',\r\n            fontWeight: 600,\r\n            cursor: 'pointer',\r\n            transition: 'all 0.2s',\r\n            flex: 1,\r\n            minWidth: '140px'\r\n        },\r\n        buttonPrimary: {\r\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n            color: '#fff',\r\n            boxShadow: '0 4px 12px rgba(102, 126, 234, 0.3)'\r\n        },\r\n        buttonSuccess: {\r\n            background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n            color: '#fff',\r\n            boxShadow: '0 4px 12px rgba(16, 185, 129, 0.3)'\r\n        },\r\n        buttonSecondary: {\r\n            background: 'rgba(51, 65, 85, 0.8)',\r\n            color: '#cbd5e1'\r\n        },\r\n        buttonDisabled: {\r\n            opacity: 0.5,\r\n            cursor: 'not-allowed'\r\n        },\r\n        errorBox: {\r\n            background: 'rgba(239, 68, 68, 0.1)',\r\n            border: '2px solid rgba(239, 68, 68, 0.3)',\r\n            borderRadius: '12px',\r\n            padding: '16px',\r\n            marginTop: '20px'\r\n        },\r\n        errorText: {\r\n            color: '#ef4444',\r\n            margin: 0\r\n        },\r\n        resultBox: {\r\n            marginTop: '30px',\r\n            padding: '25px',\r\n            background: 'rgba(15, 23, 42, 0.8)',\r\n            border: '2px solid rgba(16, 185, 129, 0.3)',\r\n            borderRadius: '12px',\r\n            textAlign: 'center'\r\n        },\r\n        successIcon: {\r\n            fontSize: '48px',\r\n            color: '#10b981',\r\n            marginBottom: '15px'\r\n        },\r\n        resultTitle: {\r\n            fontSize: '18px',\r\n            fontWeight: 600,\r\n            color: '#e6eef8',\r\n            marginBottom: '20px'\r\n        },\r\n        resultInfo: {\r\n            fontSize: '14px',\r\n            color: '#94a3b8',\r\n            marginBottom: '20px'\r\n        },\r\n        proInfo: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '12px',\r\n            padding: '16px',\r\n            background: 'rgba(102, 126, 234, 0.1)',\r\n            border: '1px solid rgba(102, 126, 234, 0.3)',\r\n            borderRadius: '12px',\r\n            marginBottom: '24px',\r\n            flexWrap: 'wrap',\r\n        },\r\n        proInfoText: {\r\n            fontSize: '13px',\r\n            color: '#cbd5e1',\r\n            margin: 0,\r\n            flex: 1,\r\n            lineHeight: '1.6',\r\n        },\r\n        proLink: {\r\n            color: '#667eea',\r\n            textDecoration: 'none',\r\n            fontWeight: '600',\r\n            marginLeft: '8px',\r\n            transition: 'color 0.2s',\r\n        },\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            {/* Badge PRO e info limiti */}\r\n            <div style={styles.proInfo}>\r\n                <ProBadge size=\"medium\" />\r\n                <p style={styles.proInfoText}>\r\n                    <strong>Piano Gratuito:</strong> 5 documenti/giorno • \r\n                    <Link href=\"/pricing\" style={styles.proLink}>\r\n                        <strong>Passa a PRO</strong>\r\n                    </Link> per utilizzi illimitati\r\n                </p>\r\n            </div>\r\n\r\n            {!document ? (\r\n                <div\r\n                    {...getRootProps()}\r\n                    style={{\r\n                        ...styles.dropzone,\r\n                        ...(isDragActive ? styles.dropzoneActive : {})\r\n                    }}\r\n                    role=\"button\"\r\n                    aria-label=\"Area di caricamento documento. Trascina un file qui o clicca per selezionare\"\r\n                    tabIndex={0}\r\n                >\r\n                    <input \r\n                        {...getInputProps()} \r\n                        aria-label=\"Seleziona documento da tradurre (PDF, DOC, DOCX, TXT, MD)\"\r\n                        title=\"Seleziona documento da tradurre\"\r\n                    />\r\n                    <BsTranslate style={styles.uploadIcon} />\r\n                    <p style={styles.dropzoneText}>\r\n                        {isDragActive ? 'Rilascia qui...' : 'Carica un documento'}\r\n                    </p>\r\n                    <p style={styles.dropzoneSubtext}>\r\n                        PDF, DOC, DOCX, TXT, MD\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <>\r\n                    <div style={styles.optionsSection}>\r\n                        <div style={styles.optionGroup}>\r\n                            <label htmlFor=\"targetLanguage\" style={styles.optionLabel}>Lingua di destinazione</label>\r\n                            <select\r\n                                id=\"targetLanguage\"\r\n                                name=\"targetLanguage\"\r\n                                value={targetLanguage}\r\n                                onChange={(e) => setTargetLanguage(e.target.value)}\r\n                                style={styles.languageSelect}\r\n                                aria-label=\"Seleziona lingua di destinazione\"\r\n                            >\r\n                                {languages.map((lang) => (\r\n                                    <option key={lang.code} value={lang.code}>\r\n                                        {lang.name}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div style={styles.optionGroup}>\r\n                            <div\r\n                                style={styles.checkboxContainer}\r\n                                onClick={() => setPreserveFormatting(!preserveFormatting)}\r\n                            >\r\n                                <input\r\n                                    id=\"preserveFormatting\"\r\n                                    name=\"preserveFormatting\"\r\n                                    type=\"checkbox\"\r\n                                    checked={preserveFormatting}\r\n                                    onChange={(e) => setPreserveFormatting(e.target.checked)}\r\n                                    style={styles.checkbox}\r\n                                    aria-label=\"Mantieni la formattazione originale\"\r\n                                />\r\n                                <label htmlFor=\"preserveFormatting\" style={styles.checkboxLabel}>\r\n                                    Mantieni la formattazione originale\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={styles.fileInfo}>\r\n                        <BsFileText style={styles.fileIcon} />\r\n                        <div style={styles.fileDetails}>\r\n                            <p style={styles.fileName}>{document.name}</p>\r\n                            <p style={styles.fileSize}>\r\n                                {(document.size / 1024).toFixed(2)} KB\r\n                            </p>\r\n                        </div>\r\n                        <button\r\n                            onClick={handleReset}\r\n                            aria-label=\"Rimuovi documento\"\r\n                            title=\"Rimuovi documento\"\r\n                            style={{\r\n                                padding: '8px',\r\n                                background: 'rgba(239, 68, 68, 0.1)',\r\n                                border: 'none',\r\n                                borderRadius: '8px',\r\n                                cursor: 'pointer',\r\n                                color: '#ef4444'\r\n                            }}\r\n                        >\r\n                            <BsX style={{width: 20, height: 20}} />\r\n                        </button>\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div style={styles.errorBox}>\r\n                            <p style={styles.errorText}>\r\n                                {error.split('\\n').map((line, index) => (\r\n                                    <span key={index}>\r\n                                        {line}\r\n                                        {index < error.split('\\n').length - 1 && <br />}\r\n                                    </span>\r\n                                ))}\r\n                            </p>\r\n                            \r\n                            {/* Messaggio di upgrade per limiti */}\r\n                            {error.includes('limite') || error.includes('Limite') || error.includes('raggiunto') ? (\r\n                                <div style={{ marginTop: '15px' }}>\r\n                                    <div style={{ \r\n                                        padding: '16px', \r\n                                        background: 'linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%)', \r\n                                        border: '1px solid rgba(102, 126, 234, 0.3)',\r\n                                        borderRadius: '12px', \r\n                                        marginBottom: '12px' \r\n                                    }}>\r\n                                        <p style={{ margin: '0 0 12px 0', fontSize: '15px', color: '#cbd5e1', fontWeight: '600' }}>\r\n                                            🚀 Passa a PRO per utilizzare questo tool senza limiti!\r\n                                        </p>\r\n                                        <p style={{ margin: '0 0 16px 0', fontSize: '14px', color: '#94a3b8' }}>\r\n                                            Con PRO ottieni utilizzi illimitati, file più grandi e funzionalità avanzate.\r\n                                        </p>\r\n                                        <Link href=\"/pricing\" style={{\r\n                                            display: 'inline-block',\r\n                                            padding: '10px 20px',\r\n                                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                                            color: '#fff',\r\n                                            borderRadius: '8px',\r\n                                            textDecoration: 'none',\r\n                                            fontWeight: '600',\r\n                                            fontSize: '14px',\r\n                                            transition: 'transform 0.2s',\r\n                                        }}>\r\n                                            Vedi Piani PRO →\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            ) : (error.includes('limite di richieste') || error.includes('rate')) && (\r\n                                <div style={{ marginTop: '15px' }}>\r\n                                    <div style={{ padding: '12px', background: 'rgba(59, 130, 246, 0.1)', borderRadius: '8px', marginBottom: '12px' }}>\r\n                                        <p style={{ margin: 0, fontSize: '14px', color: '#93c5fd' }}>\r\n                                            💡 <strong>Suggerimento:</strong> Se il PDF contiene testo nativo (non scansionato), \r\n                                            prova a convertirlo in DOCX o TXT usando il tool di conversione, poi traduci il file convertito.\r\n                                        </p>\r\n                                    </div>\r\n                                    <button\r\n                                        onClick={handleTranslate}\r\n                                        disabled={loading}\r\n                                        style={{\r\n                                            ...styles.button,\r\n                                            ...styles.buttonPrimary,\r\n                                            ...(loading ? styles.buttonDisabled : {}),\r\n                                            width: '100%',\r\n                                            marginTop: '10px'\r\n                                        }}\r\n                                    >\r\n                                        {loading ? 'Riprova in corso...' : '🔄 Riprova Traduzione'}\r\n                                    </button>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {!result && (\r\n                        <div style={styles.actionsRow}>\r\n                            <button\r\n                                onClick={handleTranslate}\r\n                                disabled={loading}\r\n                                style={{\r\n                                    ...styles.button,\r\n                                    ...styles.buttonPrimary,\r\n                                    ...(loading ? styles.buttonDisabled : {})\r\n                                }}\r\n                            >\r\n                                {loading ? 'Traduzione in corso...' : 'Traduci Documento'}\r\n                            </button>\r\n                            <button\r\n                                onClick={handleReset}\r\n                                style={{...styles.button, ...styles.buttonSecondary}}\r\n                            >\r\n                                <BsX style={{width: 20, height: 20}} />\r\n                                <span>Reset</span>\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n\r\n                    {result && (\r\n                        <div style={styles.resultBox}>\r\n                            <HiCheckCircle style={styles.successIcon} />\r\n                            <h3 style={styles.resultTitle}>Documento tradotto con successo!</h3>\r\n                            <p style={styles.resultInfo}>\r\n                                Traduzione in <strong>{languages.find(l => l.code === targetLanguage)?.name}</strong> completata\r\n                            </p>\r\n                            <div style={styles.actionsRow}>\r\n                                <button\r\n                                    onClick={handleDownload}\r\n                                    style={{...styles.button, ...styles.buttonSuccess}}\r\n                                >\r\n                                    <BsDownload style={{width: 20, height: 20}} />\r\n                                    <span>Scarica Documento</span>\r\n                                </button>\r\n                                <button\r\n                                    onClick={handleReset}\r\n                                    style={{...styles.button, ...styles.buttonSecondary}}\r\n                                >\r\n                                    <BsX style={{width: 20, height: 20}} />\r\n                                    <span>Nuovo Documento</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 14023, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/components/tools/Upscaler.js"],"sourcesContent":["// components/tools/Upscaler.js - Wrapper component for Upscaler tool\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { HiSparkles, HiUpload, HiDownload, HiPhotograph } from 'react-icons/hi';\r\nimport Link from 'next/link';\r\nimport ProBadge from '../ProBadge';\r\n\r\n// Safe analytics loader: defers import to client and no-ops if unavailable\r\nfunction useSafeAnalytics() {\r\n  const [a, setA] = useState(null);\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (typeof window === 'undefined') return;\r\n    import('../../lib/analytics')\r\n      .then((mod) => { if (mounted) setA(mod); })\r\n      .catch(() => {});\r\n    return () => { mounted = false; };\r\n  }, []);\r\n  const noop = () => {};\r\n  return a || {\r\n    pageview: noop,\r\n    event: noop,\r\n    trackFileUpload: noop,\r\n    trackToolStart: noop,\r\n    trackToolComplete: noop,\r\n    trackConversion: noop,\r\n    trackDownload: noop,\r\n    trackError: noop,\r\n  };\r\n}\r\n\r\nexport default function Upscaler() {\r\n  const analytics = useSafeAnalytics();\r\n  const [originalFile, setOriginalFile] = useState(null);\r\n  const [originalUrl, setOriginalUrl] = useState(null);\r\n  const [upscaledUrl, setUpscaledUrl] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [status, setStatus] = useState('');\r\n  const [sliderPos, setSliderPos] = useState(50);\r\n  const [upscaledResolution, setUpscaledResolution] = useState(null);\r\n  const sliderRef = useRef(null);\r\n  const dragging = useRef(false);\r\n  const rafId = useRef(null);\r\n  const pendingPos = useRef(null);\r\n\r\n  const onFileSelect = (file) => {\r\n    if (!file || !file.type?.startsWith('image/')) {\r\n      setStatus('Seleziona un file immagine.');\r\n      return;\r\n    }\r\n    setOriginalFile(file);\r\n    const url = URL.createObjectURL(file);\r\n    setOriginalUrl(url);\r\n    setUpscaledUrl(null);\r\n    setStatus(`Selezionato: ${file.name}`);\r\n    \r\n    // Track file upload\r\n    try {\r\n      analytics.trackFileUpload(file.type, file.size, 'Image Upscaler');\r\n      analytics.trackToolStart('Image Upscaler', file.type, file.size);\r\n    } catch {}\r\n  };\r\n\r\n  const onDrop = (e) => {\r\n    e.preventDefault();\r\n    const f = e.dataTransfer.files?.[0];\r\n    onFileSelect(f);\r\n  };\r\n\r\n  const handleUpscale = async () => {\r\n    if (!originalFile) return;\r\n    setLoading(true);\r\n    setProgress(0);\r\n    setStatus('Preparazione immagine...');\r\n    const startTime = Date.now();\r\n    \r\n    // Simula progresso durante l'upscaling\r\n    const progressInterval = setInterval(() => {\r\n      setProgress(prev => {\r\n        const newProgress = Math.min(prev + 3, 95);\r\n        if (newProgress < 20) {\r\n          setStatus('Analisi immagine...');\r\n        } else if (newProgress < 40) {\r\n          setStatus('Denoising e pre-processing...');\r\n        } else if (newProgress < 60) {\r\n          setStatus('Upscaling multi-pass in corso...');\r\n        } else if (newProgress < 80) {\r\n          setStatus('Micro-ricostruzione pixel...');\r\n        } else if (newProgress < 95) {\r\n          setStatus('Enhancement finale e ottimizzazione...');\r\n        }\r\n        return newProgress;\r\n      });\r\n    }, 300);\r\n    \r\n    const fd = new FormData();\r\n    fd.append('image', originalFile);\r\n    try {\r\n      const res = await fetch('/api/upscale', { method: 'POST', body: fd });\r\n      const j = await res.json();\r\n      if (!res.ok) {\r\n        // Se è un errore di limite, crea un errore speciale\r\n        if (j.requiresPro || j.limitType) {\r\n          const limitError = new Error(j.error || 'Limite raggiunto');\r\n          limitError.isLimitError = true;\r\n          limitError.upgradeMessage = j.upgradeMessage || 'Passa a PRO per utilizzare questo tool senza limiti!';\r\n          limitError.limitType = j.limitType;\r\n          limitError.current = j.current;\r\n          limitError.max = j.max;\r\n          throw limitError;\r\n        }\r\n        throw new Error(j.details || j.error || 'Upscale failed');\r\n      }\r\n      \r\n      clearInterval(progressInterval);\r\n      setProgress(100);\r\n      setStatus('Completato!');\r\n      \r\n      // Estrai risoluzione dall'immagine upscalata\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        setUpscaledResolution(`${img.width}x${img.height}`);\r\n      };\r\n      img.src = j.url;\r\n      \r\n      const duration = Date.now() - startTime;\r\n      try {\r\n        analytics.trackToolComplete('Image Upscaler', duration, true);\r\n        analytics.trackConversion('image_upscale', originalFile.type, 'upscaled_image', originalFile.size, duration);\r\n      } catch {}\r\n      \r\n      setUpscaledUrl(j.url);\r\n      \r\n      setTimeout(() => {\r\n        setProgress(0);\r\n        setStatus('');\r\n      }, 2000);\r\n    } catch (err) {\r\n      clearInterval(progressInterval);\r\n      const duration = Date.now() - startTime;\r\n      try {\r\n        analytics.trackToolComplete('Image Upscaler', duration, false);\r\n        analytics.trackError(err.message, 'Upscaler', 'upscale_error');\r\n      } catch {}\r\n      \r\n      // Mostra messaggio di errore con upgrade se è un limite\r\n      if (err.isLimitError) {\r\n        setStatus(`⚠️ ${err.message} ${err.upgradeMessage ? `- ${err.upgradeMessage}` : ''}`);\r\n      } else {\r\n        setStatus(`Errore: ${err.message}`);\r\n      }\r\n      setProgress(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownload = async () => {\r\n    if (!upscaledUrl) return;\r\n    try {\r\n      const res = await fetch(upscaledUrl);\r\n      const blob = await res.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `upscaled-${Date.now()}.jpg`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      window.URL.revokeObjectURL(url);\r\n      \r\n      // Track download\r\n      try { analytics.trackDownload('jpg', 'Image Upscaler', blob.size); } catch {}\r\n    } catch (e) {\r\n      try { analytics.trackError(e.message, 'Upscaler', 'download_error'); } catch {}\r\n      console.error('Download failed:', e);\r\n    }\r\n  };\r\n\r\n  // Slider interactions using Pointer Events for consistent mouse/touch/pen dragging\r\n  useEffect(() => {\r\n    try {\r\n      if (typeof window === 'undefined' || typeof document === 'undefined') return;\r\n      const el = sliderRef.current;\r\n      if (!el || !upscaledUrl) return;\r\n\r\n      const getPercent = (clientX) => {\r\n        const r = el.getBoundingClientRect();\r\n        const x = Math.min(Math.max(clientX - r.left, 0), r.width);\r\n        return (x / r.width) * 100;\r\n      };\r\n\r\n      const commit = () => {\r\n        if (pendingPos.current == null) return;\r\n        setSliderPos(pendingPos.current);\r\n        rafId.current = null;\r\n        pendingPos.current = null;\r\n      };\r\n      const schedule = () => {\r\n        if (rafId.current) return;\r\n        rafId.current = requestAnimationFrame(commit);\r\n      };\r\n      const onPointerDown = (e) => {\r\n        dragging.current = true;\r\n        try { el.setPointerCapture(e.pointerId); } catch {}\r\n        pendingPos.current = getPercent(e.clientX);\r\n        schedule();\r\n      };\r\n      const onPointerMove = (e) => {\r\n        if (!dragging.current) return;\r\n        pendingPos.current = getPercent(e.clientX);\r\n        schedule();\r\n      };\r\n      const onPointerUp = (e) => {\r\n        dragging.current = false;\r\n        try { el.releasePointerCapture(e.pointerId); } catch {}\r\n      };\r\n\r\n      el.addEventListener('pointerdown', onPointerDown);\r\n      el.addEventListener('pointermove', onPointerMove);\r\n      el.addEventListener('pointerup', onPointerUp);\r\n      el.addEventListener('pointercancel', onPointerUp);\r\n\r\n      return () => {\r\n        el.removeEventListener('pointerdown', onPointerDown);\r\n        el.removeEventListener('pointermove', onPointerMove);\r\n        el.removeEventListener('pointerup', onPointerUp);\r\n        el.removeEventListener('pointercancel', onPointerUp);\r\n      };\r\n    } catch (e) {\r\n      try { analytics.trackError(e.message, 'Upscaler', 'slider_init_error'); } catch {}\r\n    }\r\n  }, [upscaledUrl]);\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* Badge PRO e info limiti */}\r\n      <div style={styles.proInfo}>\r\n        <ProBadge size=\"medium\" />\r\n        <p style={styles.proInfoText}>\r\n          <strong>Piano Gratuito:</strong> 5 documenti/giorno • \r\n          <Link href=\"/pricing\" style={styles.proLink}>\r\n            <strong>Passa a PRO</strong>\r\n          </Link> per utilizzi illimitati\r\n        </p>\r\n      </div>\r\n\r\n      {!originalUrl && (\r\n        <div style={styles.card}>\r\n          <div\r\n            id=\"upscaler-dropzone\"\r\n            onDrop={onDrop}\r\n            onDragOver={(e) => e.preventDefault()}\r\n            onDragEnter={(e) => e.preventDefault()}\r\n            style={styles.dropzone}\r\n          >\r\n            <div style={styles.dropzoneContent}>\r\n              <HiPhotograph style={styles.dropzoneIcon} />\r\n              <p style={styles.dropzoneText}>Trascina qui la tua immagine o clicca per selezionare</p>\r\n              <div style={styles.fileFormats}>JPG, PNG, WebP supportati</div>\r\n            </div>\r\n            <input\r\n              id=\"fileInput\"\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={(e) => {\r\n                const file = e.target.files?.[0];\r\n                if (file) onFileSelect(file);\r\n              }}\r\n              style={styles.fileInput}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {originalUrl && !upscaledUrl && (\r\n        <div style={styles.card}>\r\n          <div style={styles.controls}>\r\n            <button \r\n              style={loading ? { ...styles.btnPrimary, ...styles.btnPrimaryDisabled } : styles.btnPrimary} \r\n              onClick={handleUpscale} \r\n              disabled={loading}\r\n            >\r\n              <HiUpload style={styles.btnIcon} />\r\n              {loading ? 'Upscaling…' : 'Upscale a 4K'}\r\n            </button>\r\n          </div>\r\n          {loading && (\r\n            <div style={styles.progressContainer}>\r\n              <div style={styles.progressBar}>\r\n                <div style={{ ...styles.progressFill, width: `${progress}%` }} />\r\n              </div>\r\n              <div style={styles.progressText}>{progress}%</div>\r\n            </div>\r\n          )}\r\n          {status && (\r\n            <div style={{\r\n              ...styles.status,\r\n              ...(status.includes('⚠️') || status.includes('limite') || status.includes('Limite') || status.includes('raggiunto') ? {\r\n                background: 'rgba(239, 68, 68, 0.1)',\r\n                border: '1px solid rgba(239, 68, 68, 0.3)',\r\n                color: '#fca5a5',\r\n              } : {})\r\n            }}>\r\n              {status}\r\n              {(status.includes('limite') || status.includes('Limite') || status.includes('raggiunto')) && (\r\n                <div style={{ marginTop: '12px' }}>\r\n                  <Link href=\"/pricing\" style={{\r\n                    display: 'inline-block',\r\n                    padding: '8px 16px',\r\n                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                    color: '#fff',\r\n                    borderRadius: '8px',\r\n                    textDecoration: 'none',\r\n                    fontWeight: '600',\r\n                    fontSize: '13px',\r\n                  }}>\r\n                    Vedi Piani PRO →\r\n                  </Link>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {!originalUrl && status && (\r\n        <div style={{\r\n          ...styles.status,\r\n          ...(status.includes('⚠️') || status.includes('limite') || status.includes('Limite') || status.includes('raggiunto') ? {\r\n            background: 'rgba(239, 68, 68, 0.1)',\r\n            border: '1px solid rgba(239, 68, 68, 0.3)',\r\n            color: '#fca5a5',\r\n          } : {})\r\n        }}>\r\n          {status}\r\n          {(status.includes('limite') || status.includes('Limite') || status.includes('raggiunto')) && (\r\n            <div style={{ marginTop: '12px' }}>\r\n              <Link href=\"/pricing\" style={{\r\n                display: 'inline-block',\r\n                padding: '8px 16px',\r\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                color: '#fff',\r\n                borderRadius: '8px',\r\n                textDecoration: 'none',\r\n                fontWeight: '600',\r\n                fontSize: '13px',\r\n              }}>\r\n                Vedi Piani PRO →\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {originalUrl && upscaledUrl && (\r\n        <div style={styles.card}>\r\n          <div style={styles.result}>\r\n            <div \r\n              ref={sliderRef} \r\n              style={styles.slider}\r\n              role=\"slider\" \r\n              aria-valuemin={0} \r\n              aria-valuemax={100} \r\n              aria-valuenow={Math.round(sliderPos)}\r\n            >\r\n              <img src={originalUrl} alt=\"Originale\" style={styles.sliderImg} />\r\n              <div style={styles.badgeLeft}>Originale</div>\r\n              <div\r\n                style={{\r\n                  ...styles.clip,\r\n                  clipPath: `polygon(0 0, ${sliderPos}% 0, ${sliderPos}% 100%, 0 100%)`\r\n                }}\r\n              >\r\n                <img src={upscaledUrl} alt=\"Upscalata\" style={styles.sliderImg} />\r\n              </div>\r\n              <div \r\n                style={{\r\n                  ...styles.divider,\r\n                  left: `${sliderPos}%`,\r\n                  transform: 'translateX(-50%)'\r\n                }}\r\n              >\r\n                <div style={styles.handle}>↔</div>\r\n              </div>\r\n              <div style={styles.badgeRight}>\r\n                {upscaledResolution ? `${upscaledResolution} 4K` : 'Upscalata 4K'}\r\n              </div>\r\n            </div>\r\n            <div style={styles.downloadActions}>\r\n              <button onClick={handleDownload} style={styles.btnDownload}>\r\n                <HiDownload style={styles.btnIcon} />\r\n                Download\r\n              </button>\r\n              <a href={upscaledUrl} target=\"_blank\" rel=\"noreferrer\" style={styles.openLink}>\r\n                Apri a piena risoluzione\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    maxWidth: '900px',\r\n    margin: '0 auto',\r\n    padding: '24px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '24px'\r\n  },\r\n  proInfo: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '12px',\r\n    padding: '16px',\r\n    background: 'rgba(102, 126, 234, 0.1)',\r\n    border: '1px solid rgba(102, 126, 234, 0.3)',\r\n    borderRadius: '12px',\r\n    marginBottom: '24px',\r\n    flexWrap: 'wrap',\r\n  },\r\n  proInfoText: {\r\n    fontSize: '13px',\r\n    color: '#cbd5e1',\r\n    margin: 0,\r\n    flex: 1,\r\n    lineHeight: '1.6',\r\n  },\r\n  proLink: {\r\n    color: '#667eea',\r\n    textDecoration: 'none',\r\n    fontWeight: '600',\r\n    marginLeft: '8px',\r\n    transition: 'color 0.2s',\r\n  },\r\n  card: {\r\n    background: 'rgba(15, 23, 42, 0.7)',\r\n    backdropFilter: 'blur(12px)',\r\n    border: '1px solid rgba(102, 126, 234, 0.2)',\r\n    borderRadius: '16px',\r\n    padding: '32px',\r\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\r\n    marginBottom: '32px'\r\n  },\r\n  dropzone: {\r\n    border: '2px dashed rgba(148, 163, 184, 0.4)',\r\n    padding: 'clamp(32px, 5vw, 48px)',\r\n    borderRadius: '20px',\r\n    textAlign: 'center',\r\n    cursor: 'pointer',\r\n    position: 'relative',\r\n    minHeight: 'clamp(240px, 35vh, 320px)',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    transition: 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)',\r\n    background: 'rgba(15, 23, 42, 0.5)',\r\n    backdropFilter: 'blur(16px)',\r\n    boxShadow: '0 4px 16px rgba(0, 0, 0, 0.2)',\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n    visibility: 'visible',\r\n    opacity: 1\r\n  },\r\n  dropzoneContent: {\r\n    pointerEvents: 'none',\r\n    position: 'relative',\r\n    zIndex: 1\r\n  },\r\n  dropzoneIcon: {\r\n    width: '64px',\r\n    height: '64px',\r\n    color: '#667eea',\r\n    margin: '0 auto 16px',\r\n    opacity: 0.9,\r\n    filter: 'drop-shadow(0 0 8px rgba(102, 126, 234, 0.4))',\r\n    transition: 'all 0.3s ease'\r\n  },\r\n  dropzoneText: {\r\n    fontSize: 'clamp(15px, 2.5vw, 18px)',\r\n    color: '#e2e8f0',\r\n    margin: '0 0 12px',\r\n    fontWeight: 600,\r\n    letterSpacing: '-0.01em'\r\n  },\r\n  fileFormats: {\r\n    fontSize: '13px',\r\n    color: '#64748b',\r\n    fontWeight: 500\r\n  },\r\n  fileInput: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    width: '100%',\r\n    height: '100%',\r\n    opacity: 0,\r\n    cursor: 'pointer',\r\n    zIndex: 2\r\n  },\r\n  controls: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginTop: 'clamp(20px, 3vw, 28px)',\r\n    gap: '12px',\r\n    flexWrap: 'wrap'\r\n  },\r\n  btnPrimary: {\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: '8px',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    fontWeight: 700,\r\n    borderRadius: '12px',\r\n    fontSize: 'clamp(15px, 2.5vw, 16px)',\r\n    padding: '14px 28px',\r\n    transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n    backgroundSize: '200% 200%',\r\n    color: '#fff',\r\n    boxShadow: '0 4px 16px rgba(0, 0, 0, 0.2), 0 0 20px rgba(102, 126, 234, 0.3)',\r\n    letterSpacing: '0.01em'\r\n  },\r\n  btnPrimaryDisabled: {\r\n    opacity: 0.5,\r\n    cursor: 'not-allowed',\r\n    transform: 'none !important'\r\n  },\r\n  btnDownload: {\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: '8px',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    fontWeight: 700,\r\n    borderRadius: '12px',\r\n    fontSize: 'clamp(15px, 2.5vw, 16px)',\r\n    padding: '14px 28px',\r\n    transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n    background: 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',\r\n    backgroundSize: '200% 200%',\r\n    color: '#fff',\r\n    boxShadow: '0 8px 16px rgba(67, 233, 123, 0.3)'\r\n  },\r\n  btnIcon: {\r\n    width: '20px',\r\n    height: '20px',\r\n    transition: 'transform 0.3s ease'\r\n  },\r\n  status: {\r\n    marginTop: 'clamp(16px, 2vw, 20px)',\r\n    textAlign: 'center',\r\n    color: '#94a3b8',\r\n    fontSize: 'clamp(14px, 2vw, 16px)',\r\n    minHeight: '24px',\r\n    padding: '14px 20px',\r\n    background: 'rgba(15, 23, 42, 0.6)',\r\n    backdropFilter: 'blur(10px)',\r\n    border: '1px solid rgba(148, 163, 184, 0.2)',\r\n    borderRadius: '12px',\r\n    fontWeight: 500,\r\n    transition: 'all 0.3s ease'\r\n  },\r\n  result: {\r\n    marginTop: 'clamp(24px, 3vw, 32px)',\r\n    textAlign: 'center',\r\n    width: '100%'\r\n  },\r\n  slider: {\r\n    position: 'relative',\r\n    width: '100%',\r\n    maxWidth: '100%',\r\n    height: 'clamp(450px, 80vh, 800px)',\r\n    background: '#0b0f18',\r\n    borderRadius: '20px',\r\n    overflow: 'hidden',\r\n    cursor: 'ew-resize',\r\n    boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(102, 126, 234, 0.3)',\r\n    userSelect: 'none',\r\n    WebkitUserSelect: 'none',\r\n    touchAction: 'none',\r\n    transition: 'box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1)',\r\n    border: '1px solid rgba(102, 126, 234, 0.2)',\r\n    margin: '0 auto'\r\n  },\r\n  sliderImg: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'contain',\r\n    background: '#000',\r\n    transition: 'opacity 0.3s ease'\r\n  },\r\n  clip: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    overflow: 'hidden'\r\n  },\r\n  divider: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    bottom: 0,\r\n    width: '3px',\r\n    background: 'linear-gradient(180deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,1) 50%, rgba(255,255,255,0.9) 100%)',\r\n    boxShadow: '0 0 12px rgba(255,255,255,0.6), 0 0 20px rgba(102, 126, 234, 0.4)',\r\n    filter: 'drop-shadow(0 0 8px rgba(102, 126, 234, 0.5))'\r\n  },\r\n  handle: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 'clamp(44px, 8vw, 56px)',\r\n    height: 'clamp(44px, 8vw, 56px)',\r\n    borderRadius: '50%',\r\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n    backgroundSize: '200% 200%',\r\n    color: '#fff',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    fontWeight: 800,\r\n    fontSize: 'clamp(18px, 3vw, 22px)',\r\n    boxShadow: '0 8px 24px rgba(102, 126, 234, 0.5), 0 0 0 4px rgba(255,255,255,0.15), 0 0 20px rgba(102, 126, 234, 0.4)',\r\n    pointerEvents: 'none',\r\n    transition: 'transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)'\r\n  },\r\n  badgeLeft: {\r\n    position: 'absolute',\r\n    top: 'clamp(12px, 2vw, 16px)',\r\n    left: 'clamp(12px, 2vw, 16px)',\r\n    padding: 'clamp(6px, 1vw, 10px) clamp(10px, 1.5vw, 14px)',\r\n    borderRadius: '999px',\r\n    background: 'rgba(0,0,0,0.8)',\r\n    backdropFilter: 'blur(16px)',\r\n    color: '#fff',\r\n    fontWeight: 700,\r\n    fontSize: 'clamp(11px, 1.8vw, 14px)',\r\n    letterSpacing: '0.5px',\r\n    border: '1px solid rgba(255,255,255,0.2)',\r\n    boxShadow: '0 4px 12px rgba(0,0,0,0.3)',\r\n    transition: 'all 0.3s ease'\r\n  },\r\n  badgeRight: {\r\n    position: 'absolute',\r\n    top: 'clamp(12px, 2vw, 16px)',\r\n    right: 'clamp(12px, 2vw, 16px)',\r\n    padding: 'clamp(6px, 1vw, 10px) clamp(10px, 1.5vw, 14px)',\r\n    borderRadius: '999px',\r\n    background: 'rgba(0,0,0,0.8)',\r\n    backdropFilter: 'blur(16px)',\r\n    color: '#fff',\r\n    fontWeight: 700,\r\n    fontSize: 'clamp(11px, 1.8vw, 14px)',\r\n    letterSpacing: '0.5px',\r\n    border: '1px solid rgba(255,255,255,0.2)',\r\n    boxShadow: '0 4px 12px rgba(0,0,0,0.3)',\r\n    transition: 'all 0.3s ease'\r\n  },\r\n  downloadActions: {\r\n    marginTop: '24px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    gap: '12px'\r\n  },\r\n  openLink: {\r\n    color: '#60a5fa',\r\n    fontSize: '14px',\r\n    fontWeight: 500,\r\n    textDecoration: 'none',\r\n    transition: 'color 0.2s'\r\n  },\r\n  progressContainer: {\r\n    marginTop: '20px',\r\n    width: '100%'\r\n  },\r\n  progressBar: {\r\n    width: '100%',\r\n    height: '8px',\r\n    background: 'rgba(15, 23, 42, 0.6)',\r\n    borderRadius: '4px',\r\n    overflow: 'hidden',\r\n    position: 'relative'\r\n  },\r\n  progressFill: {\r\n    height: '100%',\r\n    background: 'linear-gradient(90deg, #667eea 0%, #764ba2 100%)',\r\n    backgroundSize: '200% 100%',\r\n    borderRadius: '4px',\r\n    transition: 'width 0.3s ease',\r\n    animation: 'gradientShift 2s ease infinite'\r\n  },\r\n  progressText: {\r\n    marginTop: '8px',\r\n    textAlign: 'center',\r\n    fontSize: '14px',\r\n    color: '#94a3b8',\r\n    fontWeight: 500\r\n  }\r\n};\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 14954, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jurit/OneDrive/Desktop/sito%20upscale/pages/tools/%5Bslug%5D.js"],"sourcesContent":["import { useRouter } from 'next/router';\r\nimport Head from 'next/head';\r\nimport { tools } from '../../lib/tools';\r\nimport { getConversionTool, listConversionSlugs } from '../../lib/conversionRegistry';\r\nimport GenericConverter from '../../components/GenericConverter';\r\nimport { HiArrowRight } from 'react-icons/hi';\r\nimport Link from 'next/link';\r\nimport Navbar from '../../components/Navbar';\r\nimport BackgroundRemover from '../../components/tools/BackgroundRemover';\r\nimport ImageGenerator from '../../components/tools/ImageGenerator';\r\nimport CleanNoise from '../../components/tools/CleanNoise';\r\nimport AudioTranscription from '../../components/tools/AudioTranscription';\r\nimport OCRAdvanced from '../../components/tools/OCRAdvanced';\r\nimport TextSummarizer from '../../components/tools/TextSummarizer';\r\nimport GrammarChecker from '../../components/tools/GrammarChecker';\r\nimport ThumbnailGenerator from '../../components/tools/ThumbnailGenerator';\r\nimport CombineSplitPDF from '../../components/tools/CombineSplitPDF';\r\nimport VideoCompressor from '../../components/tools/VideoCompressor';\r\nimport DocumentTranslator from '../../components/tools/DocumentTranslator';\r\nimport Upscaler from '../../components/tools/Upscaler';\r\nimport ProBadge from '../../components/ProBadge';\r\n\r\nconst ToolPage = ({ initialSlug, meta }) => {\r\n    const router = useRouter();\r\n    const slug = initialSlug || router.query.slug;\r\n\r\n    // First try AI tools list, then conversion registry.\r\n    const aiTool = tools.find(t => t.href === `/tools/${slug}`);\r\n    const conversionTool = getConversionTool(slug);\r\n    const tool = aiTool || (conversionTool && {\r\n        title: conversionTool.title,\r\n        description: conversionTool.description,\r\n        icon: HiArrowRight // fallback icon sempre definito\r\n    });\r\n    const otherTools = tools.filter(t => t.href !== `/tools/${slug}`).slice(0, 6);\r\n\r\n    if (!tool) {\r\n        return (\r\n            <>\r\n                <Navbar />\r\n                <div style={styles.notFound}>\r\n                    <h1 style={styles.notFoundTitle}>404 - Strumento non trovato</h1>\r\n                    <p style={styles.notFoundText}>Lo strumento che stai cercando non esiste o è stato spostato.</p>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    const renderToolComponent = () => {\r\n        if (conversionTool) {\r\n            // Assicurati che il tool abbia lo slug per le card\r\n            const toolWithSlug = { ...conversionTool, slug: slug };\r\n            return <GenericConverter tool={toolWithSlug} />;\r\n        }\r\n        switch (slug) {\r\n            case 'rimozione-sfondo-ai':\r\n                return <BackgroundRemover />;\r\n            case 'clean-noise-ai':\r\n                return <CleanNoise />;\r\n            case 'generazione-immagini-ai':\r\n                return <ImageGenerator />;\r\n            case 'trascrizione-audio':\r\n                return <AudioTranscription />;\r\n            case 'ocr-avanzato-ai':\r\n                return <OCRAdvanced />;\r\n            case 'riassunto-testo':\r\n            case 'elabora-e-riassumi':\r\n                return <TextSummarizer />;\r\n            case 'correttore-grammaticale':\r\n                return <GrammarChecker />;\r\n            case 'thumbnail-generator':\r\n                return <ThumbnailGenerator />;\r\n            case 'combina-splitta-pdf':\r\n                return <CombineSplitPDF />;\r\n            case 'compressione-video':\r\n                return <VideoCompressor />;\r\n            case 'traduzione-documenti-ai':\r\n                return <DocumentTranslator />;\r\n            case 'upscaler-ai':\r\n                return <Upscaler />;\r\n            default:\r\n                return (\r\n                    <div style={styles.comingSoon}>\r\n                        <h2 style={styles.comingSoonTitle}>Componente in arrivo</h2>\r\n                        <p style={styles.comingSoonText}>\r\n                            L'interfaccia per lo strumento \"{tool.title}\" è in fase di sviluppo.\r\n                        </p>\r\n                    </div>\r\n                );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.pageWrap}>\r\n            <Head>\r\n                <title>{`${meta?.title || tool.title} | Suite di Strumenti AI`}</title>\r\n                <meta name=\"description\" content={meta?.description || tool.description} />\r\n                <meta property=\"og:title\" content={`${meta?.title || tool.title} | Suite di Strumenti AI`} />\r\n                <meta property=\"og:description\" content={meta?.description || tool.description} />\r\n            </Head>\r\n\r\n            <Navbar />\r\n\r\n            <main style={styles.mainContent}>\r\n                <header style={styles.toolHeader}>\r\n                    {tool.icon && (\r\n                        <div style={styles.iconBadge}>\r\n                            {typeof tool.icon === 'function' ? (\r\n                                <tool.icon style={styles.iconBadgeIcon} />\r\n                            ) : (\r\n                                <HiArrowRight style={styles.iconBadgeIcon} />\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                    <div style={styles.titleRow}>\r\n                        <h1 style={styles.toolTitle}>\r\n                            {tool.title}\r\n                        </h1>\r\n                        {aiTool && aiTool.pro && (\r\n                            <ProBadge size=\"medium\" style={{ marginLeft: '12px' }} />\r\n                        )}\r\n                    </div>\r\n                    <p style={styles.toolDescription}>\r\n                        {tool.description}\r\n                    </p>\r\n                </header>\r\n\r\n                <div style={styles.toolContent}>\r\n                    {renderToolComponent()}\r\n                </div>\r\n\r\n                {/* Altri strumenti consigliati */}\r\n                <div style={styles.otherToolsSection}>\r\n                    <h2 style={styles.otherToolsTitle}>Altri strumenti disponibili</h2>\r\n                    <div style={styles.toolsGrid}>\r\n                        {otherTools.map((t) => {\r\n                            const IconComponent = t.icon;\r\n                            return (\r\n                                <Link key={t.href} href={t.href} style={styles.toolCard}>\r\n                                    <div style={styles.toolCardIcon}>\r\n                                        <IconComponent style={{width: 28, height: 28, color: '#a78bfa'}} />\r\n                                    </div>\r\n                                    <h3 style={styles.toolCardTitle}>{t.title}</h3>\r\n                                    <p style={styles.toolCardDesc}>{t.description}</p>\r\n                                    <div style={styles.toolCardFooter}>\r\n                                        <span style={styles.toolCardCta}>Prova ora</span>\r\n                                        <HiArrowRight style={{width: 18, height: 18}} />\r\n                                    </div>\r\n                                </Link>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ToolPage;\r\n\r\nexport async function getStaticPaths() {\r\n    // Generate all pages on-demand to avoid Vercel build timeout\r\n    return { \r\n        paths: [], \r\n        fallback: 'blocking'\r\n    };\r\n}\r\n\r\nexport async function getStaticProps({ params }) {\r\n    try {\r\n        const { slug } = params || {};\r\n        if (!slug) {\r\n            return { notFound: true };\r\n        }\r\n        \r\n        const aiTool = tools.find(t => t.href === `/tools/${slug}`);\r\n        const conversionTool = getConversionTool(slug);\r\n        const meta = aiTool\r\n            ? { title: aiTool.title || 'Strumento', description: aiTool.description || '' }\r\n            : conversionTool\r\n                ? { title: conversionTool.title || 'Convertitore', description: conversionTool.description || '' }\r\n                : { title: 'Strumento non trovato', description: 'Lo strumento richiesto non esiste.' };\r\n        \r\n        return { \r\n            props: { \r\n                initialSlug: String(slug), \r\n                meta \r\n            }, \r\n            revalidate: 3600 \r\n        };\r\n    } catch (error) {\r\n        console.error('Error in getStaticProps:', error);\r\n        return { \r\n            props: { \r\n                initialSlug: params?.slug || 'unknown', \r\n                meta: { title: 'Errore', description: 'Errore nel caricamento dello strumento.' } \r\n            },\r\n            revalidate: 60\r\n        };\r\n    }\r\n}\r\n\r\nconst styles = {\r\n    pageWrap: {\r\n        minHeight: '100vh',\r\n        background: '#0a0e1a',\r\n        color: '#e6eef8'\r\n    },\r\n    mainContent: {\r\n        maxWidth: '1000px',\r\n        margin: '0 auto',\r\n        padding: '48px 24px'\r\n    },\r\n    backLink: {\r\n        marginBottom: '32px'\r\n    },\r\n    backLinkBtn: {\r\n        display: 'inline-flex',\r\n        alignItems: 'center',\r\n        color: '#94a3b8',\r\n        textDecoration: 'none',\r\n        transition: 'color 0.2s',\r\n        fontSize: '15px'\r\n    },\r\n    toolHeader: {\r\n        textAlign: 'center',\r\n        marginBottom: '48px'\r\n    },\r\n    iconBadge: {\r\n        display: 'inline-flex',\r\n        padding: '16px',\r\n        background: 'rgba(15, 23, 42, 0.8)',\r\n        border: '1px solid rgba(148, 163, 184, 0.2)',\r\n        borderRadius: '50%',\r\n        marginBottom: '16px'\r\n    },\r\n    iconBadgeIcon: {\r\n        width: '40px',\r\n        height: '40px',\r\n        color: '#a78bfa'\r\n    },\r\n    titleRow: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flexWrap: 'wrap',\r\n        gap: '12px',\r\n    },\r\n    toolTitle: {\r\n        fontSize: 'clamp(28px, 5vw, 48px)',\r\n        fontWeight: 800,\r\n        margin: 0,\r\n        letterSpacing: '-0.02em'\r\n    },\r\n    toolDescription: {\r\n        fontSize: '18px',\r\n        color: '#94a3b8',\r\n        marginTop: '8px',\r\n        maxWidth: '600px',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto'\r\n    },\r\n    toolContent: {\r\n        maxWidth: '900px',\r\n        margin: '0 auto',\r\n        padding: '0 24px'\r\n    },\r\n    notFound: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        minHeight: '100vh',\r\n        background: '#0a0e1a',\r\n        color: '#e6eef8'\r\n    },\r\n    notFoundTitle: {\r\n        fontSize: '36px',\r\n        fontWeight: 700,\r\n        marginBottom: '16px'\r\n    },\r\n    notFoundText: {\r\n        color: '#94a3b8',\r\n        marginBottom: '32px'\r\n    },\r\n    backBtn: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: '12px 24px',\r\n        background: '#667eea',\r\n        color: '#fff',\r\n        borderRadius: '8px',\r\n        textDecoration: 'none',\r\n        transition: 'background 0.2s',\r\n        fontWeight: 600\r\n    },\r\n    comingSoon: {\r\n        background: 'rgba(15, 23, 42, 0.8)',\r\n        border: '1px solid rgba(148, 163, 184, 0.2)',\r\n        borderRadius: '12px',\r\n        padding: '48px 32px',\r\n        textAlign: 'center'\r\n    },\r\n    comingSoonTitle: {\r\n        fontSize: '24px',\r\n        fontWeight: 700,\r\n        marginBottom: '16px'\r\n    },\r\n    comingSoonText: {\r\n        color: '#94a3b8'\r\n    },\r\n    otherToolsSection: {\r\n        marginTop: '80px',\r\n        paddingTop: '48px',\r\n        borderTop: '1px solid rgba(148, 163, 184, 0.1)'\r\n    },\r\n    otherToolsTitle: {\r\n        fontSize: '28px',\r\n        fontWeight: 700,\r\n        color: '#f1f5f9',\r\n        marginBottom: '32px',\r\n        textAlign: 'center'\r\n    },\r\n    toolsGrid: {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',\r\n        gap: '20px'\r\n    },\r\n    toolCard: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: '24px',\r\n        background: 'linear-gradient(135deg, rgba(15, 23, 42, 0.9) 0%, rgba(30, 41, 59, 0.8) 100%)',\r\n        border: '2px solid rgba(148, 163, 184, 0.2)',\r\n        borderRadius: '12px',\r\n        textDecoration: 'none',\r\n        transition: 'all 0.3s ease',\r\n        cursor: 'pointer'\r\n    },\r\n    toolCardIcon: {\r\n        width: '52px',\r\n        height: '52px',\r\n        marginBottom: '16px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        background: 'rgba(102, 126, 234, 0.1)',\r\n        borderRadius: '12px'\r\n    },\r\n    toolCardTitle: {\r\n        fontSize: '18px',\r\n        fontWeight: 600,\r\n        color: '#f1f5f9',\r\n        margin: '0 0 8px',\r\n        textDecoration: 'none'\r\n    },\r\n    toolCardDesc: {\r\n        fontSize: '14px',\r\n        color: '#94a3b8',\r\n        lineHeight: 1.5,\r\n        margin: '0 0 16px',\r\n        flex: 1\r\n    },\r\n    toolCardFooter: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        paddingTop: '12px',\r\n        borderTop: '1px solid rgba(148, 163, 184, 0.1)',\r\n        color: '#cbd5e1'\r\n    },\r\n    toolCardCta: {\r\n        fontSize: '13px',\r\n        fontWeight: 600\r\n    },\r\n    loading: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        minHeight: '300px',\r\n        fontSize: '16px',\r\n        color: '#94a3b8'\r\n    }\r\n};\r\n"],"names":[],"mappings":"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"}}]
}