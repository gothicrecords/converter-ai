{"version":3,"sources":["../../../../components/SEOHead.js","../../../../lib/auth.js"],"sourcesContent":["import Head from 'next/head';\r\nimport { useRouter } from 'next/router';\r\n\r\nexport default function SEOHead({ \r\n    title, \r\n    description, \r\n    canonical,\r\n    toolName,\r\n    toolCategory,\r\n    keywords = [],\r\n    image,\r\n    type = 'website',\r\n    locale,\r\n    alternateLocales = [],\r\n    faqItems = [],\r\n    howToSteps = [],\r\n    articleData = null,\r\n    videoData = null\r\n}) {\r\n    const router = useRouter();\r\n    const siteName = 'MegaPixelAI';\r\n    const siteUrl = 'https://best-upscaler-ia.vercel.app';\r\n    const currentLocale = locale || router?.locale || 'en';\r\n    \r\n    // Fallback per evitare che appaiano le chiavi di traduzione\r\n    const safeTitle = title && !title.startsWith('seo.') ? title : 'Strumenti AI Professionali';\r\n    const safeDescription = description && !description.startsWith('seo.') ? description : 'Piattaforma all-in-one con strumenti AI professionali';\r\n    \r\n    const fullTitle = `${safeTitle} | ${siteName}`;\r\n    const fullUrl = canonical ? `${siteUrl}${canonical}` : siteUrl;\r\n    const ogImage = image || `${siteUrl}/og-image.jpg`;\r\n\r\n    // Supported locales\r\n    const supportedLocales = ['en', 'it', 'es', 'fr', 'de', 'pt', 'ru', 'ja', 'zh', 'ar', 'hi', 'ko'];\r\n    \r\n    // Generate hreflang tags for all supported locales\r\n    const generateHreflangTags = () => {\r\n        const tags = [];\r\n        const basePath = canonical || '/';\r\n        \r\n        // Add current locale\r\n        tags.push(\r\n            <link key={`hreflang-${currentLocale}`} rel=\"alternate\" hrefLang={currentLocale} href={fullUrl} />\r\n        );\r\n        \r\n        // Add x-default (usually English or main locale)\r\n        tags.push(\r\n            <link key=\"hreflang-x-default\" rel=\"alternate\" hrefLang=\"x-default\" href={`${siteUrl}${basePath}`} />\r\n        );\r\n        \r\n        // Add alternate locales\r\n        supportedLocales.forEach(loc => {\r\n            if (loc !== currentLocale) {\r\n                const localePath = loc === 'en' ? basePath : `/${loc}${basePath}`;\r\n                tags.push(\r\n                    <link key={`hreflang-${loc}`} rel=\"alternate\" hrefLang={loc} href={`${siteUrl}${localePath}`} />\r\n                );\r\n            }\r\n        });\r\n        \r\n        return tags;\r\n    };\r\n\r\n    // Enhanced Structured Data\r\n    const structuredData = [\r\n        // Organization Schema\r\n        {\r\n            \"@context\": \"https://schema.org\",\r\n            \"@type\": \"Organization\",\r\n            \"name\": siteName,\r\n            \"url\": siteUrl,\r\n            \"logo\": {\r\n                \"@type\": \"ImageObject\",\r\n                \"url\": `${siteUrl}/logo-large.svg`,\r\n                \"width\": 512,\r\n                \"height\": 512\r\n            },\r\n            \"description\": \"Professional AI tools platform for image upscaling, PDF conversion, OCR, background removal, image generation, and more\",\r\n            \"foundingDate\": \"2024\",\r\n            \"sameAs\": [\r\n                // Add social media links if available\r\n            ],\r\n            \"contactPoint\": {\r\n                \"@type\": \"ContactPoint\",\r\n                \"contactType\": \"Customer Service\",\r\n                \"availableLanguage\": supportedLocales,\r\n                \"areaServed\": \"Worldwide\"\r\n            },\r\n            \"aggregateRating\": {\r\n                \"@type\": \"AggregateRating\",\r\n                \"ratingValue\": \"4.9\",\r\n                \"reviewCount\": \"1250\",\r\n                \"bestRating\": \"5\",\r\n                \"worstRating\": \"1\"\r\n            }\r\n        },\r\n        // WebSite Schema\r\n        {\r\n            \"@context\": \"https://schema.org\",\r\n            \"@type\": \"WebSite\",\r\n            \"name\": siteName,\r\n            \"url\": siteUrl,\r\n            \"description\": \"Free AI-powered tools for image upscaling, PDF conversion, OCR, background removal, and more\",\r\n            \"potentialAction\": {\r\n                \"@type\": \"SearchAction\",\r\n                \"target\": {\r\n                    \"@type\": \"EntryPoint\",\r\n                    \"urlTemplate\": `${siteUrl}/search?q={search_term_string}`\r\n                },\r\n                \"query-input\": \"required name=search_term_string\"\r\n            },\r\n            \"inLanguage\": supportedLocales,\r\n            \"publisher\": {\r\n                \"@type\": \"Organization\",\r\n                \"name\": siteName\r\n            }\r\n        }\r\n    ];\r\n\r\n    // Add SoftwareApplication schema if toolName is provided\r\n    if (toolName) {\r\n        structuredData.push({\r\n            \"@context\": \"https://schema.org\",\r\n            \"@type\": \"SoftwareApplication\",\r\n            \"name\": toolName,\r\n            \"applicationCategory\": toolCategory || \"MultimediaApplication\",\r\n            \"offers\": {\r\n                \"@type\": \"Offer\",\r\n                \"price\": \"0\",\r\n                \"priceCurrency\": \"EUR\",\r\n                \"availability\": \"https://schema.org/InStock\"\r\n            },\r\n            \"operatingSystem\": \"Web\",\r\n            \"description\": description,\r\n            \"url\": fullUrl,\r\n            \"aggregateRating\": {\r\n                \"@type\": \"AggregateRating\",\r\n                \"ratingValue\": \"4.8\",\r\n                \"ratingCount\": \"1250\",\r\n                \"bestRating\": \"5\",\r\n                \"worstRating\": \"1\"\r\n            },\r\n            \"featureList\": [\r\n                \"AI-powered processing\",\r\n                \"High-quality output\",\r\n                \"Fast processing\",\r\n                \"Secure and private\"\r\n            ]\r\n        });\r\n    }\r\n\r\n    // BreadcrumbList if canonical path has multiple segments\r\n    if (canonical && canonical.split('/').filter(Boolean).length > 1) {\r\n        const pathSegments = canonical.split('/').filter(Boolean);\r\n        const breadcrumbItems = pathSegments.map((segment, index) => {\r\n            const path = '/' + pathSegments.slice(0, index + 1).join('/');\r\n            return {\r\n                \"@type\": \"ListItem\",\r\n                \"position\": index + 1,\r\n                \"name\": segment.charAt(0).toUpperCase() + segment.slice(1).replace(/-/g, ' '),\r\n                \"item\": `${siteUrl}${path}`\r\n            };\r\n        });\r\n        \r\n        structuredData.push({\r\n            \"@context\": \"https://schema.org\",\r\n            \"@type\": \"BreadcrumbList\",\r\n            \"itemListElement\": [\r\n                {\r\n                    \"@type\": \"ListItem\",\r\n                    \"position\": 1,\r\n                    \"name\": \"Home\",\r\n                    \"item\": siteUrl\r\n                },\r\n                ...breadcrumbItems\r\n            ]\r\n        });\r\n    }\r\n\r\n    // FAQ Schema for AI crawlers\r\n    if (faqItems && faqItems.length > 0) {\r\n        structuredData.push({\r\n            \"@context\": \"https://schema.org\",\r\n            \"@type\": \"FAQPage\",\r\n            \"mainEntity\": faqItems.map(faq => ({\r\n                \"@type\": \"Question\",\r\n                \"name\": faq.question,\r\n                \"acceptedAnswer\": {\r\n                    \"@type\": \"Answer\",\r\n                    \"text\": faq.answer\r\n                }\r\n            }))\r\n        });\r\n    }\r\n\r\n    // HowTo Schema for step-by-step guides\r\n    if (howToSteps && howToSteps.length > 0) {\r\n        structuredData.push({\r\n            \"@context\": \"https://schema.org\",\r\n            \"@type\": \"HowTo\",\r\n            \"name\": title,\r\n            \"description\": description,\r\n            \"step\": howToSteps.map((step, index) => ({\r\n                \"@type\": \"HowToStep\",\r\n                \"position\": index + 1,\r\n                \"name\": step.name,\r\n                \"text\": step.text,\r\n                \"image\": step.image || ogImage,\r\n                \"url\": step.url || fullUrl\r\n            }))\r\n        });\r\n    }\r\n\r\n    // Article Schema for blog posts and tool pages\r\n    if (articleData) {\r\n        structuredData.push({\r\n            \"@context\": \"https://schema.org\",\r\n            \"@type\": \"Article\",\r\n            \"headline\": title,\r\n            \"description\": description,\r\n            \"image\": ogImage,\r\n            \"author\": {\r\n                \"@type\": \"Organization\",\r\n                \"name\": siteName\r\n            },\r\n            \"publisher\": {\r\n                \"@type\": \"Organization\",\r\n                \"name\": siteName,\r\n                \"logo\": {\r\n                    \"@type\": \"ImageObject\",\r\n                    \"url\": `${siteUrl}/logo-large.svg`\r\n                }\r\n            },\r\n            ...(articleData.datePublished ? { \"datePublished\": articleData.datePublished } : {}),\r\n            ...(articleData.dateModified ? { \"dateModified\": articleData.dateModified } : {}),\r\n            \"mainEntityOfPage\": {\r\n                \"@type\": \"WebPage\",\r\n                \"@id\": fullUrl\r\n            },\r\n            \"inLanguage\": currentLocale\r\n        });\r\n    }\r\n\r\n    // Video Schema if video data is provided\r\n    if (videoData) {\r\n        structuredData.push({\r\n            \"@context\": \"https://schema.org\",\r\n            \"@type\": \"VideoObject\",\r\n            \"name\": title,\r\n            \"description\": description,\r\n            \"thumbnailUrl\": videoData.thumbnailUrl || ogImage,\r\n            ...(videoData.uploadDate ? { \"uploadDate\": videoData.uploadDate } : {}),\r\n            \"duration\": videoData.duration,\r\n            \"contentUrl\": videoData.contentUrl,\r\n            \"embedUrl\": videoData.embedUrl\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Head>\r\n            {/* Primary Meta Tags */}\r\n            <title>{fullTitle}</title>\r\n            <meta name=\"title\" content={fullTitle} />\r\n            <meta name=\"description\" content={safeDescription} />\r\n            {keywords.length > 0 && <meta name=\"keywords\" content={keywords.join(', ')} />}\r\n            \r\n            {/* Geo-targeting and Language */}\r\n            <meta name=\"geo.region\" content=\"IT\" />\r\n            <meta name=\"geo.placename\" content=\"Italy\" />\r\n            <meta name=\"language\" content={currentLocale} />\r\n            <meta httpEquiv=\"content-language\" content={currentLocale} />\r\n            \r\n            {/* Canonical */}\r\n            {canonical && <link rel=\"canonical\" href={fullUrl} />}\r\n            \r\n            {/* Hreflang Tags for International SEO */}\r\n            {generateHreflangTags()}\r\n\r\n            {/* Open Graph / Facebook */}\r\n            <meta property=\"og:type\" content={type} />\r\n            <meta property=\"og:url\" content={fullUrl} />\r\n            <meta property=\"og:title\" content={fullTitle} />\r\n            <meta property=\"og:description\" content={safeDescription} />\r\n            <meta property=\"og:site_name\" content={siteName} />\r\n            <meta property=\"og:image\" content={ogImage} />\r\n            <meta property=\"og:image:width\" content=\"1200\" />\r\n            <meta property=\"og:image:height\" content=\"630\" />\r\n            <meta property=\"og:image:alt\" content={title} />\r\n            <meta property=\"og:locale\" content={currentLocale.replace('-', '_')} />\r\n            {supportedLocales.filter(l => l !== currentLocale).map(loc => (\r\n                <meta key={`og-locale-${loc}`} property=\"og:locale:alternate\" content={loc.replace('-', '_')} />\r\n            ))}\r\n\r\n            {/* Twitter Card */}\r\n            <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n            <meta name=\"twitter:url\" content={fullUrl} />\r\n            <meta name=\"twitter:title\" content={fullTitle} />\r\n            <meta name=\"twitter:description\" content={safeDescription} />\r\n            <meta name=\"twitter:image\" content={ogImage} />\r\n            <meta name=\"twitter:image:alt\" content={title} />\r\n            <meta name=\"twitter:site\" content=\"@MegaPixelAI\" />\r\n            <meta name=\"twitter:creator\" content=\"@MegaPixelAI\" />\r\n\r\n            {/* Additional Meta Tags */}\r\n            <meta name=\"robots\" content=\"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1\" />\r\n            <meta name=\"author\" content={siteName} />\r\n            <meta name=\"copyright\" content={siteName} />\r\n            <meta name=\"revisit-after\" content=\"7 days\" />\r\n            <meta name=\"distribution\" content=\"global\" />\r\n            <meta name=\"rating\" content=\"general\" />\r\n            <meta name=\"application-name\" content={siteName} />\r\n            <meta name=\"generator\" content=\"Next.js\" />\r\n            \r\n            {/* AI-Friendly Meta Tags */}\r\n            <meta name=\"AI-friendly\" content=\"true\" />\r\n            <meta name=\"format-detection\" content=\"telephone=no\" />\r\n            <meta name=\"apple-itunes-app\" content=\"app-id=\" />\r\n            \r\n            {/* Enhanced SEO Meta Tags */}\r\n            <meta name=\"googlebot\" content=\"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1\" />\r\n            <meta name=\"bingbot\" content=\"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1\" />\r\n            <meta name=\"slurp\" content=\"index, follow\" />\r\n            <meta name=\"duckduckbot\" content=\"index, follow\" />\r\n            \r\n            {/* Rich Snippets Support */}\r\n            {process.env.NEXT_PUBLIC_GOOGLE_SITE_VERIFICATION && (\r\n                <meta name=\"google-site-verification\" content={process.env.NEXT_PUBLIC_GOOGLE_SITE_VERIFICATION} />\r\n            )}\r\n            {process.env.NEXT_PUBLIC_BING_VERIFICATION && (\r\n                <meta name=\"msvalidate.01\" content={process.env.NEXT_PUBLIC_BING_VERIFICATION} />\r\n            )}\r\n            \r\n            {/* Content Type and Encoding */}\r\n            <meta httpEquiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n            \r\n            {/* Additional Open Graph for AI */}\r\n            <meta property=\"og:type\" content={type} />\r\n            {type === 'article' && articleData && (\r\n                <>\r\n                    {articleData.datePublished && (\r\n                        <meta property=\"article:published_time\" content={articleData.datePublished} />\r\n                    )}\r\n                    {articleData.dateModified && (\r\n                        <meta property=\"article:modified_time\" content={articleData.dateModified} />\r\n                    )}\r\n                    {articleData.tags && articleData.tags.map((tag, i) => (\r\n                        <meta key={`article-tag-${i}`} property=\"article:tag\" content={tag} />\r\n                    ))}\r\n                </>\r\n            )}\r\n            \r\n            {/* Mobile Optimization */}\r\n            <meta name=\"mobile-web-app-capable\" content=\"yes\" />\r\n            <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\r\n            <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" />\r\n            <meta name=\"apple-mobile-web-app-title\" content={siteName} />\r\n            \r\n            {/* Theme and Colors */}\r\n            <meta name=\"theme-color\" content=\"#667eea\" />\r\n            <meta name=\"msapplication-TileColor\" content=\"#667eea\" />\r\n            \r\n            {/* Structured Data - Multiple Schemas */}\r\n            {structuredData.map((schema, index) => (\r\n                <script\r\n                    key={`structured-data-${index}`}\r\n                    type=\"application/ld+json\"\r\n                    dangerouslySetInnerHTML={{ __html: JSON.stringify(schema) }}\r\n                />\r\n            ))}\r\n        </Head>\r\n    );\r\n}\r\n","// Sistema di autenticazione con Supabase Database\r\n// Usa API routes per comunicare con il database in sicurezza\r\n\r\nconst SESSION_STORAGE_KEY = 'megapixelai_session';\r\nconst USER_CACHE_KEY = 'megapixelai_user_cache';\r\n\r\n// Ottieni session token (da localStorage o cookie)\r\nconst getSessionToken = () => {\r\n  if (typeof window === 'undefined') return null;\r\n  \r\n  // Prima prova localStorage\r\n  const localToken = localStorage.getItem(SESSION_STORAGE_KEY);\r\n  if (localToken) return localToken;\r\n  \r\n  // Poi prova cookie (per OAuth)\r\n  const cookies = document.cookie.split(';').reduce((acc, cookie) => {\r\n    const [key, value] = cookie.trim().split('=');\r\n    acc[key] = value;\r\n    return acc;\r\n  }, {});\r\n  \r\n  const cookieToken = cookies.megapixelai_session;\r\n  if (cookieToken) {\r\n    // Salva anche in localStorage per consistenza\r\n    localStorage.setItem(SESSION_STORAGE_KEY, cookieToken);\r\n    return cookieToken;\r\n  }\r\n  \r\n  return null;\r\n};\r\n\r\n// Salva session token\r\nconst saveSessionToken = (token) => {\r\n  if (typeof window === 'undefined') return;\r\n  localStorage.setItem(SESSION_STORAGE_KEY, token);\r\n};\r\n\r\n// Rimuovi session token\r\nconst removeSessionToken = () => {\r\n  if (typeof window === 'undefined') return;\r\n  localStorage.removeItem(SESSION_STORAGE_KEY);\r\n  localStorage.removeItem(USER_CACHE_KEY);\r\n};\r\n\r\n// Cache utente locale (per performance)\r\nconst getCachedUser = () => {\r\n  if (typeof window === 'undefined') return null;\r\n  const cached = localStorage.getItem(USER_CACHE_KEY);\r\n  if (!cached) return null;\r\n  try {\r\n    return JSON.parse(cached);\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst setCachedUser = (user) => {\r\n  if (typeof window === 'undefined') return;\r\n  localStorage.setItem(USER_CACHE_KEY, JSON.stringify(user));\r\n};\r\n\r\n// Registra nuovo utente\r\nexport const signup = async (name, email, password) => {\r\n  try {\r\n    const response = await fetch('/api/auth/signup', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ name, email, password })\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return { success: false, error: data.error || 'Errore durante la registrazione' };\r\n    }\r\n\r\n    // Salva session token\r\n    saveSessionToken(data.sessionToken);\r\n    setCachedUser(data.user);\r\n\r\n    return { success: true, user: data.user };\r\n  } catch (error) {\r\n    console.error('Signup error:', error);\r\n    return { success: false, error: 'Errore di connessione' };\r\n  }\r\n};\r\n\r\n// Login utente\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const response = await fetch('/api/auth/login', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ email, password })\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return { success: false, error: data.error || 'Email o password errati' };\r\n    }\r\n\r\n    // Salva session token\r\n    saveSessionToken(data.sessionToken);\r\n    setCachedUser(data.user);\r\n\r\n    return { success: true, user: data.user };\r\n  } catch (error) {\r\n    console.error('Login error:', error);\r\n    return { success: false, error: 'Errore di connessione' };\r\n  }\r\n};\r\n\r\n// Logout\r\nexport const logout = async () => {\r\n  try {\r\n    const sessionToken = getSessionToken();\r\n    \r\n    if (sessionToken) {\r\n      await fetch('/api/auth/logout', {\r\n        method: 'POST',\r\n        headers: { \r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${sessionToken}`\r\n        },\r\n        body: JSON.stringify({ sessionToken })\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.error('Logout error:', error);\r\n  } finally {\r\n    removeSessionToken();\r\n  }\r\n};\r\n\r\n// Ottieni utente corrente\r\nexport const getCurrentUser = async (forceRefresh = false) => {\r\n  if (typeof window === 'undefined') return null;\r\n\r\n  const sessionToken = getSessionToken();\r\n  if (!sessionToken) return null;\r\n\r\n  // Usa cache se non forziamo refresh\r\n  if (!forceRefresh) {\r\n    const cached = getCachedUser();\r\n    if (cached) return cached;\r\n  }\r\n\r\n  try {\r\n    const response = await fetch('/api/auth/user', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${sessionToken}`\r\n      }\r\n    });\r\n\r\n    if (!response.ok) {\r\n      // Session invalida o scaduta\r\n      removeSessionToken();\r\n      return null;\r\n    }\r\n\r\n    const data = await response.json();\r\n    setCachedUser(data.user);\r\n    return data.user;\r\n\r\n  } catch (error) {\r\n    console.error('Get current user error:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Verifica se l'utente Ã¨ loggato\r\nexport const isAuthenticated = () => {\r\n  return getSessionToken() !== null;\r\n};\r\n\r\n// Aggiorna statistiche utente (dopo uso tool)\r\nexport const updateUserStats = async (toolName) => {\r\n  const sessionToken = getSessionToken();\r\n  if (!sessionToken) return { success: false, error: 'Non autenticato' };\r\n\r\n  try {\r\n    const response = await fetch('/api/users/stats', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${sessionToken}`\r\n      },\r\n      body: JSON.stringify({ toolName })\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return { success: false, error: data.error || 'Errore aggiornamento stats' };\r\n    }\r\n\r\n    // Aggiorna cache\r\n    setCachedUser(data.user);\r\n\r\n    return { success: true, user: data.user };\r\n  } catch (error) {\r\n    console.error('Update stats error:', error);\r\n    return { success: false, error: 'Errore di connessione' };\r\n  }\r\n};\r\n\r\n// Ottieni statistiche utente calcolate\r\nexport const getUserStats = (user) => {\r\n  if (!user) return null;\r\n\r\n  const registeredDays = Math.max(1, Math.floor(\r\n    (new Date() - new Date(user.created_at)) / (1000 * 60 * 60 * 24)\r\n  ));\r\n\r\n  const toolsUsedCount = Array.isArray(user.tools_used) ? user.tools_used.length : 0;\r\n\r\n  return {\r\n    imagesProcessed: user.images_processed || 0,\r\n    toolsUsed: toolsUsedCount,\r\n    registeredDays,\r\n    averageDaily: Math.round((user.images_processed || 0) / registeredDays),\r\n    hasDiscount: user.has_discount || false,\r\n    plan: user.plan || 'free'\r\n  };\r\n};\r\n"],"names":[],"mappings":"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"}