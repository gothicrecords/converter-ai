module.exports=[112181,(e,t,a)=>{t.exports=e.x("winston",()=>require("winston"))},792509,(e,t,a)=>{t.exports=e.x("url",()=>require("url"))},328112,e=>{"use strict";var t=e.i(112181),a=e.i(814747);let r=(0,e.i(792509).fileURLToPath)({get url(){return`file://${e.P("lib/logger.js")}`}}.url);a.default.dirname(r);let l=t.default.format.combine(t.default.format.timestamp({format:"YYYY-MM-DD HH:mm:ss"}),t.default.format.errors({stack:!0}),t.default.format.splat(),t.default.format.json());t.default.format.combine(t.default.format.colorize(),t.default.format.timestamp({format:"HH:mm:ss"}),t.default.format.printf(({timestamp:e,level:t,message:a,...r})=>{let l=`${e} [${t}]: ${a}`;return Object.keys(r).length>0&&r.stack?l+=`
${r.stack}`:Object.keys(r).length>0&&(l+=`
${JSON.stringify(r,null,2)}`),l}));let o=a.default.join(process.cwd(),"logs"),s=t.default.createLogger({level:process.env.LOG_LEVEL||"info",format:l,defaultMeta:{service:"upscaler-ai",environment:"production"},transports:[new t.default.transports.Console({format:t.default.format.json(),handleExceptions:!0,handleRejections:!0}),new t.default.transports.File({filename:a.default.join(o,"error.log"),level:"error",maxsize:5242880,maxFiles:5,format:l}),new t.default.transports.File({filename:a.default.join(o,"combined.log"),maxsize:5242880,maxFiles:5,format:l})],exceptionHandlers:[new t.default.transports.File({filename:a.default.join(o,"exceptions.log"),maxsize:5242880,maxFiles:3})],rejectionHandlers:[new t.default.transports.File({filename:a.default.join(o,"rejections.log"),maxsize:5242880,maxFiles:3})]});e.s(["default",0,s,"log",0,{error:(e,t=null,a={})=>{let r={message:e,...a};return t&&(r.error={name:t.name,message:t.message,stack:t.stack,code:t.code,statusCode:t.statusCode,details:t.details}),s.error(e,r),r},warn:(e,t={})=>{s.warn(e,t)},info:(e,t={})=>{s.info(e,t)},debug:(e,t={})=>{},api:(e,t,a=null)=>{let r={method:e.method,url:e.url,path:e.path,statusCode:t.statusCode,userAgent:e.headers["user-agent"],ip:e.ip||e.connection.remoteAddress};a&&(r.responseTime=`${a}ms`),t.statusCode>=400?s.warn("API Request",r):s.info("API Request",r)},database:(e,t=null,a=null,r=null)=>{let l={operation:e,duration:a?`${a}ms`:null};t&&(l.query="string"==typeof t?t:JSON.stringify(t)),r?s.error("Database Operation Failed",{...l,error:r}):s.debug("Database Operation",l)},file:(e,t,a=null,r=null)=>{let l={operation:e,filePath:t,size:a?`${(a/1024).toFixed(2)}KB`:null};r?s.error("File Operation Failed",{...l,error:r}):s.debug("File Operation",l)},performance:(e,t,a={})=>{s.info("Performance Metric",{operation:e,duration:`${t}ms`,...a})}}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3fadeb30._.js.map