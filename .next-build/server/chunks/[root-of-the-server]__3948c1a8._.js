module.exports=[270406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},196115,e=>{"use strict";let t,r={app:{name:process.env.APP_NAME||"Tool Suite",env:"production",port:parseInt(process.env.PORT||"3000",10),url:(t=process.env.APP_URL||"http://localhost:3000").startsWith("http://")?t.replace("http://","https://"):t},database:{url:process.env.DATABASE_URL,pool:{max:parseInt(process.env.DB_POOL_MAX||"20",10),idleTimeout:parseInt(process.env.DB_IDLE_TIMEOUT||"30000",10),connectionTimeout:parseInt(process.env.DB_CONNECTION_TIMEOUT||"5000",10)}},supabase:{url:"https://ckctyvebrkcemcgllpbc.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNrY3R5dmVicWtjZW1jZ2xscGJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzNDYzMzksImV4cCI6MjA3ODkyMjMzOX0.kGyjcR9D8vLD5xYsEvHA5qAQ08OvoOC4mgajSmnh0jM",serviceRoleKey:process.env.SUPABASE_SERVICE_ROLE_KEY},stripe:{secretKey:process.env.STRIPE_SECRET_KEY,publishableKey:"pk_test_51SUZp0AYkkHFHNFuDK9bY1iN8xNUFPeBVZTSLgTBq5SxSo7bBeyaMYSTaaLfJ2g5oxOCXOO1bAAefqa5I9StJwF9001XRLRFQf",webhookSecret:process.env.STRIPE_WEBHOOK_SECRET,productId:process.env.STRIPE_PRODUCT_ID||"prod_TTkHuBeh8iAAht"},cloudinary:{cloudName:process.env.CLOUDINARY_CLOUD_NAME,apiKey:process.env.CLOUDINARY_API_KEY,apiSecret:process.env.CLOUDINARY_API_SECRET},openai:{apiKey:process.env.OPENAI_API_KEY},upload:{maxFileSize:parseInt(process.env.MAX_FILE_SIZE||"52428800",10),allowedMimeTypes:{image:["image/jpeg","image/png","image/webp","image/gif","image/svg+xml"],document:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],video:["video/mp4","video/webm","video/ogg"],audio:["audio/mpeg","audio/wav","audio/ogg"]},tempDir:process.env.TEMP_DIR||"/tmp"},session:{cookieName:"megapixelai_session",maxAge:6048e5,secret:process.env.SESSION_SECRET||"change-me-in-production"},security:{bcryptRounds:parseInt(process.env.BCRYPT_ROUNDS||"10",10),rateLimit:{windowMs:parseInt(process.env.RATE_LIMIT_WINDOW||"900000",10),max:parseInt(process.env.RATE_LIMIT_MAX||"100",10)}},analytics:{gaTrackingId:process.env.NEXT_PUBLIC_GA_TRACKING_ID},oauth:{google:{clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET},facebook:{appId:process.env.FACEBOOK_APP_ID,appSecret:process.env.FACEBOOK_APP_SECRET},redirectBaseUrl:"production"===process.env.VERCEL_ENV?process.env.APP_URL||"https://megapixelsuite.com":process.env.APP_URL||(process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:"http://localhost:3000")}};if("production"===r.app.env){let e="true"===process.env.STRICT_CONFIG;try{let e=[{key:"database.url",value:r.database.url},{key:"supabase.url",value:r.supabase.url},{key:"supabase.anonKey",value:r.supabase.anonKey}].filter(({value:e})=>!e);if(e.length>0)throw Error(`Missing required configuration: ${e.map(({key:e})=>e).join(", ")}`)}catch(t){if(e)throw t;console.error("[Config Warning] Missing required configuration:",t.message)}}e.s(["config",0,r])},254799,(e,t,r)=>{t.exports=e.x("crypto",()=>require("crypto"))},60394,e=>{"use strict";var t=e.i(926747),r=e.i(190406),o=e.i(244898),a=e.i(262950),s=e.i(196115),i=e.i(254799);async function n(e,t){if("GET"!==e.method)return t.status(405).redirect("/login?error="+encodeURIComponent("Method not allowed"));try{let{clientId:e}=s.config.oauth.google||{};if(!e)return console.error("Google OAuth client ID not configured"),t.redirect("/login?error="+encodeURIComponent("OAuth not configured"));let r=`${s.config.oauth.redirectBaseUrl}/api/auth/oauth/google/callback`,o=i.default.randomBytes(32).toString("hex");t.setHeader("Set-Cookie",`oauth_state=${o}; HttpOnly; SameSite=Lax; Path=/; Max-Age=600`);let a=new URL("https://accounts.google.com/o/oauth2/v2/auth");return a.searchParams.set("client_id",e),a.searchParams.set("redirect_uri",r),a.searchParams.set("response_type","code"),a.searchParams.set("scope","openid email profile"),a.searchParams.set("state",o),a.searchParams.set("access_type","online"),a.searchParams.set("prompt","select_account"),t.redirect(a.toString())}catch(e){return console.error("Google OAuth init error:",e),t.redirect("/login?error="+encodeURIComponent("Failed to initiate OAuth"))}}e.s(["default",()=>n],46401);var p=e.i(46401),c=e.i(7031),l=e.i(181927),u=e.i(846432);let d=(0,a.hoist)(p,"default"),m=(0,a.hoist)(p,"config"),g=new o.PagesAPIRouteModule({definition:{kind:r.RouteKind.PAGES_API,page:"/api/auth/oauth/google/index",pathname:"/api/auth/oauth/google",bundlePath:"",filename:""},userland:p,distDir:".next-build",relativeProjectDir:""});async function h(e,r,o){g.isDev&&(0,u.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let a="/api/auth/oauth/google/index";a=a.replace(/\/index$/,"")||"/";let s=await g.prepare(e,r,{srcPage:a});if(!s){r.statusCode=400,r.end("Bad Request"),null==o.waitUntil||o.waitUntil.call(o,Promise.resolve());return}let{query:i,params:n,prerenderManifest:p,routerServerContext:d}=s;try{let t=e.method||"GET",o=(0,c.getTracer)(),s=o.getActiveScopeSpan(),u=g.instrumentationOnRequestError.bind(g),m=async s=>g.render(e,r,{query:{...i,...n},params:n,allowedRevalidateHeaderKeys:[],multiZoneDraftMode:!1,trustHostHeader:!1,previewProps:p.preview,propagateError:!1,dev:g.isDev,page:"/api/auth/oauth/google/index",internalRevalidate:null==d?void 0:d.revalidate,onError:(...t)=>u(e,...t)}).finally(()=>{if(!s)return;s.setAttributes({"http.status_code":r.statusCode,"next.rsc":!1});let e=o.getRootSpanAttributes();if(!e)return;if(e.get("next.span_type")!==l.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${e.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let i=e.get("next.route");if(i){let e=`${t} ${i}`;s.setAttributes({"next.route":i,"http.route":i,"next.span_name":e}),s.updateName(e)}else s.updateName(`${t} ${a}`)});s?await m(s):await o.withPropagatedContext(e.headers,()=>o.trace(l.BaseServerSpan.handleRequest,{spanName:`${t} ${a}`,kind:c.SpanKind.SERVER,attributes:{"http.method":t,"http.target":e.url}},m))}catch(e){if(g.isDev)throw e;(0,t.sendError)(r,500,"Internal Server Error")}finally{null==o.waitUntil||o.waitUntil.call(o,Promise.resolve())}}e.s(["config",0,m,"default",0,d,"handler",()=>h],60394)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3948c1a8._.js.map